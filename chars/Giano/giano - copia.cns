;=====================================
;GIANO (0.5)
;=====================================

;giano carta d'identita'
[Data]
life = 2000  
Power = 5000           
attack = 125            
defence = 125           
fall.defence_up = 50    
liedown.time = 60       
airjuggle = 15         
sparkno = 1             
guard.sparkno = 40      
KO.echo = 0             
volume = 20
IntPersistIndex = 60
FloatPersistIndex = 40

[Size]
xscale = 1           
yscale = 1           
ground.back = 15    
ground.front = 22  
air.back = 12        
air.front = 12       
height = 60          
attack.dist = 160   
proj.attack.dist = 90
proj.doscale = 0      
head.pos = -5, -90   
mid.pos = -5, -60    
shadowoffset = 0     
draw.offset = 0,0   

[Velocity]
walk.fwd  = 2.1           
walk.back = -1.9          
run.fwd  = 9.5, 0         
run.back = -8.33,-2.8     
jump.neu = 0,-9.65           
jump.back = -3.21, -10.4     
jump.fwd = 3.21,-10.4       
runjump.fwd = 4.1,-9.7      
airjump.neu = 0,-9.7      
airjump.back = -2.55,-9.7
airjump.fwd = 2.5,-9.7    

[Movement]
airjump.num = 1      
airjump.height = 35   
yaccel = .50        
stand.friction = .85  
crouch.friction = .82 

;==================================================================================
;Corsa
[Statedef 100, corsa]
type    = S
movetype = I
physics = N
anim = 100

[State 100,0]
type = VelSet
trigger1 = AnimElem = 3
x = Const(velocity.run.fwd.x)

[State 100, SE]
type = PlaySnd
trigger1 = Timemod = 23,0
value = 100,0
channel = 20

[State 1220, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 8009
sprpriority = 5
pos = 0,3
bindtime = 1
supermovetime = -1
removeongethit = 1

[State 100, SE]
type = StopSnd
trigger1 = AnimElem = 5, >= 0
trigger1 = command != "holdfwd"
channel = 20;

[State 100, CG]
type = ChangeState
triggerall = var(7) != 1
trigger1 = Command != "holdfwd" && Time >= 10
value = 101
ctrl = 1

[State 100, CG]
type = ChangeState
trigger1 = Command = "holdupfwd" && Time >= 10
value = 40

[State 100, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

;------------------------ 
[Statedef 101]
type = S
movetype = I
physics = S
anim = 101
velset = 0, 0

[State 101, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------
[Statedef 105]
type = S
movetype = I
physics = S
anim = 105
ctrl = 0
velset = 0, 0

[State 105, STS]
type = StateTypeSet
trigger1 = AnimElem = 3
statetype = A
physics = N

[State 105, Velset]
type = VelSet
trigger1 = AnimElem = 3
x = Const(velocity.run.back.x)
y = Const(velocity.run.back.y)

[State 105, VelAdd]
type = VelAdd
trigger1 = AnimElem = 2, > 0
y = .43

[State 105, CG]
type = ChangeState
trigger1 = AnimElem = 3, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 106

;---------------------------
[Statedef 106]
type = S
movetype = I
physics = S
anim = 106
velset = 0, 0

[State 106, Posset]
type = PosSet
trigger1 = Time = 0
y = 0

[State 106, Makedust]
type = MakeDust
trigger1 = Time >= 0
pos = -30, 0

[State 106, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Salti saltini Saltoni!
;=================================================================
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0

[State 40, VS]
type = VarSet
trigger1 = Time = 0
var(8) = 0

[State 40, VS]
type = VarSet
trigger1 = command = "holdfwd"
trigger1 = var(8) != 2
var(8) = 1

[State 40, VS]
type = VarSet
trigger1 = command = "holdback"
trigger1 = var(8) != -2
var(8) = -1

[State 40, VS]
type = VarSet
triggerall = Time = 0
triggerall = command = "holdfwd"
trigger1 = command = "longjump"
trigger2 = prevstateno = 100
var(8) = 2

[State 40, VS]
type = VarSet
trigger1 = Time = 0
trigger1 = command = "holdback"
trigger1 = command = "longjump"
var(8) = -2

[State 40, VS]
type = ChangeState
triggerall = AnimTime = 0
trigger1 = var(8) != 0 && var(8) != 1 && var(8) != -1
trigger1 = command = "holdup"
trigger2 = command != "holdup"
value = 2041

[State 40, VS]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(var(8)=0, const(velocity.jump.neu.x), ifelse(var(8)>0, const(velocity.jump.fwd.x), const(velocity.jump.back.x)))
y = const(velocity.jump.y)

[State 40, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;Saltoni
[Statedef 2041]
type    = A
physics = A
velset = 0, -7.75
ctrl = 1

[State 2041, VelSet]
type = VelSet
trigger1 = Time = 0
trigger1 = command = "holdup"
y = -10.11 

[State 2041, Velset]         ;salto con simpatia
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = 1
x = 3.4                 


[State 2041, Velset]         ;avanti mazinga!
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = 2
x = 4.84   

[State 2041, Velset]         ;salto con simpatia, ma non troppa
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = -1
x = -3.4
              
[State 2041, Velset]         ;indietro tutta!
type = VelSet
trigger1 = Time = 0
trigger1 = Var(8) = -2
x = -4.84                    


[State 2041, AfterImage]     ;e diamogli un tocco di colore
type = AfterImage
triggerall = Time = 0
trigger1 = var(8) = 2 || var(8) = -2
time = 10
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2
length = 5
                         
[State 2041, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X = 0
trigger1 = command = "holdup"
value = 41

[State 2041, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = command != "holdup"
value = 2041

[State 2041, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X > 0
trigger1 = command = "holdup"
value = 42

[State 2041, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = Vel X < 0
trigger1 = command = "holdup"
value = 43

[State 2041, ChangeAnim]
type = ChangeAnim
trigger1 = Vel y > -2 && pos Y < -70
trigger1 = Vel X > 0
trigger1 = SelfAnimExist(45)
persistent = 0
value = 45

[State 2041, ChangeAnim]
type = ChangeAnim
trigger1 = Vel y > -2 && pos Y < -70
trigger1 = Vel X < 0
trigger1 = SelfAnimExist(46)
persistent = 0
value = 46

[State 2041, ChangeAnim]
type = ChangeAnim
trigger1 = Vel y > -1 && pos Y >= -70
trigger1 = Anim != 45 && Anim != 46
persistent = 0
value = 2044

[State 2041, VelAdd]
type = VelAdd
trigger1 = Time >= 25
y = 0.1

;===========================================================================
;---------------------------------------------------------------------------
; GUARD (start)
[Statedef 120]
type = U   ;Leave state type unchanged
physics = U;Leave physics unchanged

[State 120]
Type=CtrlSet
Trigger1=var(59)>0
value=0

[State 120, 1]
type = ChangeAnim
trigger1 = Time = 0
value = 120 + (statetype = C) + (statetype = A)*2

[State 120, 2]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 120, 3]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 120, 4]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = var(59)=0
trigger1 = command = "holddown"
trigger2 = var(59)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = var(59)=0
trigger1 = command!= "holddown"
trigger2 = Var(59) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
statetype = S
physics = S

[State 120, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 130 + (statetype = C) + (statetype = A)*2

[State 120, Stop Guarding]
type = ChangeState
trigger1 = command!= "holdback"
trigger1 = var(59)=0
trigger2 =!inguarddist
value = 140

;---------------------------------------------------------------------------
; Stand guard (guarding)
[Statedef 130]
type    = S
physics = S

[State 120]
Type=CtrlSet
Trigger1=var(59)>0
value=0

[State 130, 1]
type = ChangeAnim
trigger1 = Anim!= 130
value = 130

[State 130, Hi to Lo]
type = ChangeState
trigger1 = command = "holddown"
trigger1 = var(59)=0
trigger2 = var(59)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
value = 131

[State 130, Stop Guarding]
type = ChangeState
trigger1 = var(59)=0
trigger1 = command!= "holdback"
trigger2 =!inguarddist
value = 140

;---------------------------------------------------------------------------
; Crouch guard (guarding)
[Statedef 131]
type    = C
physics = C

[State 120]
Type=CtrlSet
Trigger1=var(59)>0
value=0

[State 131, 1]
type = ChangeAnim
trigger1 = Anim!= 131
value = 131

[State 131, Lo to Hi]
type = ChangeState
trigger1 = command!= "holddown"
trigger1 = var(59)=0
trigger2 = Var(59) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
value = 130

[State 131, Stop Guarding]
type = ChangeState
trigger1 = var(59)=0
trigger1 = command!= "holdback"
trigger2 =!inguarddist
value = 140

;---------------------------------------------------------------------------
; Air guard (guarding)
[Statedef 132]
type    = A
physics = N

[State 120]
Type=CtrlSet
Trigger1=var(59)>0
value=0

[State 132, 1]
type = ChangeAnim
trigger1 = Anim!= 132
value = 132

[State 132, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 132, 3]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 132, 4]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 132, 5]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 132, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback" || (var(59)>0)
trigger1 = inguarddist
value = 130

[State 132, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

[State 132, Stop Guarding]
type = ChangeState
trigger1 = var(59)=0
trigger1 = command!= "holdback"
trigger2 =!inguarddist
value = 140

;---------------------------------------------------------------------------
;Me paro finisco
[Statedef 140]
type = U    
physics = U 
ctrl = 1

[State 140, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && p2stateno < 1000 && statetype != A
value = 2140 + (statetype = C) + (statetype = A)*2    ;mano e la mano

[State 140, ChangeAnim]
type = ChangeAnim
triggerall = Time = 0
trigger1 = p2stateno >= 1000
trigger2 = statetype = A
value = 140 + (statetype = C) + (statetype = A)*2

[State 140, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 0 && statetype = S
physics = S

[State 140, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 0 && statetype = C
physics = C

[State 140, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 0 && statetype = A
physics = A

;---------------------------------------------------------------------------
;Me Paro ma tremo
;---------------------------------------------------------------------------
; Stand guard hit (shaking)
[Statedef 150]
type    = S
movetype= H
physics = N
velset = 0,0

[State 150, 1]
type = ChangeAnim
trigger1 = 1
value = 150

[State 150, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(StateType=C)

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = var(59)=0
trigger1 = command = "holddown"
trigger2 = var(59)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = var(59)=0
trigger1 = command!= "holddown"
trigger2 = Var(59) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
statetype = S
physics = S

[State 150, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 3

;---------------------------------------------------------------------------
; Stand guard hit (knocked back)
[Statedef 151]
type    = S
movetype= H
physics = S
anim = 150

[State 151, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 151, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
trigger1 = var(59)=0
value = 1

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = var(59)=0
trigger1 = command = "holddown"
trigger2 = var(59)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = var(59)=0
trigger1 = command!= "holddown"
trigger2 = Var(59) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
statetype = S
physics = S

[State 151, 4]
type = ChangeState
trigger1 = HitOver
value = 130
ctrl =!var(59)

;---------------------------------------------------------------------------
; Crouch guard hit (shaking)
[Statedef 152]
type    = C
movetype= H
physics = N
velset = 0,0

[State 152, 1]
type = ChangeAnim
trigger1 = 1
value = 151

[State 152, 3]
type = ChangeState
trigger1 = HitShakeOver
value = 151 + 2*(StateType=C)

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = var(59)=0
trigger1 = command = "holddown"
trigger2 = var(59)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = var(59)=0
trigger1 = command!= "holddown"
trigger2 = Var(59) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
statetype = S
physics = S

[State 152, 4]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; Crouch guard hit (knocked back)
[Statedef 153]
type    = C
movetype= H
physics = C
anim = 151

[State 153, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 153, 2]
type = VelSet
trigger1 = Time = GetHitVar(slidetime)
trigger2 = HitOver
x = 0

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
trigger1 = var(59)=0
value = 1

[State 120, Hi to Lo]
type = StateTypeSet
triggerall = statetype = S
trigger1 = var(59)=0
trigger1 = command = "holddown"
trigger2 = var(59)>0
trigger2 = (abs(P2Dist X)>120) || (P2MoveType=H) || (P2StateType=C)
trigger2 = P2StateType!=A
trigger2 = AILevel>=3
statetype = C
physics = C

[State 120, Lo to Hi]
type = StateTypeSet
triggerall = statetype = C
trigger1 = var(59)=0
trigger1 = command!= "holddown"
trigger2 = Var(59) > 0
trigger2 = p2statetype = A
trigger2 = abs(P2BodyDist X)=3
statetype = S
physics = S

[State 153, 4]
type = ChangeState
trigger1 = HitOver
value = 131
ctrl =!var(59)

;---------------------------------------------------------------------------
; Air guard hit (shaking)
[Statedef 154]
type    = A
movetype= H
physics = N
velset = 0,0

[State 154, 1]
type = ChangeAnim
trigger1 = 1
value = 152

[State 154, 2]
type = ChangeState
trigger1 = HitShakeOver
value = 155;AGUARDHIT2

[State 154, 3]
type = ForceFeedback
trigger1 = time = 0
waveform = square
time = 4

;---------------------------------------------------------------------------
; Air guard hit (knocked away)
[Statedef 155]
type    = A
movetype= H
physics = N
anim = 152

[State 155, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 155, 2]
type = VelAdd
trigger1 = 1
y = Const(movement.yaccel)

[State 151, 3]
type = CtrlSet
trigger1 = Time = GetHitVar(ctrltime)
trigger1 = var(59)=0
value = 1

[State 155, 4]
type = VarSet
trigger1 = 1
sysvar(0) = (pos y >= 0) && (vel y > 0)

[State 155, 5]
type = VelSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = PosSet
trigger1 = sysvar(0)
y = 0

[State 155, 6]
type = ChangeState
trigger1 = sysvar(0)
trigger1 = command = "holdback" || var(59)>0
trigger1 = inguarddist
value = 130

[State 155, 7]
type = ChangeState
trigger1 = sysvar(0)
value = 52

;-------------------------------------------------------------------------------
Se non torno e' perche' sono SCHIVOOOO
[Statedef 10850]
type = S
movetype = H
physics = S
anim = 850          ;SCHIVO

[State 10850, VarSet]
type = VarSet
trigger1 = Time = 0
var(4) = 0

[State 10850, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;================================================================================
;me cado!
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 5071, HVS]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, Veladd]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 5071, CS]
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
value = 5100;

;================================================================================
;-Sconfitta per il tempo
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;[State 170, PlaySnd]
;type = PlaySnd
;trigger1 = AnimElem = 1
;value = S17028,0
;volume = 0

;---------------------------------------------------------------------------
;-ESULTANZE FINALI
[Statedef 180]
type = S

[State 180, 1]
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,3

[State 180, 3]           ;con te partiro'...
type = ChangeState
trigger1 = Var(1) = 0
value = 182              

[State 180, 5]           ;pelvica
type = ChangeState
trigger1 = Var(1) = 1
value = 186

[State 180, 6]           ;mi bullo con mano aperta
type = ChangeState
trigger1 = Var(1) = 2
value = 10097

[State 180, 6]           ;rido parecchio
type = ChangeState
trigger1 = Var(1) = 3
value = 19004

;---------------------------------------------------------------------------
;gonfio e fallisc
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, AS]
type = AssertSpecial
trigger1 = Time = [0,380]     
flag = RoundNotOver

[State 182, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 1

[State 182, SE]            
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 10
trigger3 = AnimElem = 18
trigger4 = AnimElem = 24
trigger5 = AnimElem = 32
value = 200,1
volume = -25

[State 182, SE]            
type = PlaySnd
trigger1 = AnimElem = 33
value = 3000,3                ;10051,1
volume = 200

[State 182, SE]        ;applausi        
type = PlaySnd
trigger1 = AnimElem = 41
value = 182,0
volume = 15

[State 182, SE]            
type = PlaySnd
trigger1 = AnimElem = 1
value = 41,0
volume = 200

[State 182, SE]            
type = PlaySnd
trigger1 = AnimElem = 26
value = 210,0
volume = 2

[State 182, SE]            
type = PlaySnd
trigger1 = AnimElem = 12
value = 3000,3
volume = 2

[State 182, SE]            ;aaa zuragnia
type = PlaySnd
trigger1 = AnimElem = 6
value = 1000,2
volume = 50

[State 182, SE]            ;toh
type = PlaySnd
trigger1 = AnimElem = 6
value = 725,0
volume = 100

[State 182, SE]            ;effetto decresco
type = PlaySnd
trigger1 = AnimElem = 34
value = 17011,0                ;17035 fiuu
volume = 100

[State 182, NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
;-gsputo sugo e lo odio
[Statedef 186]
type = S
ctrl = 0
anim = 186
velset = 0,0

[State 186, AS]
type = AssertSpecial
trigger1 = Time = [0,355]     
flag = RoundNotOver
flag2 = nomusic

[State 182, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 1

[State 186, NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 186, SE]            
type = PlaySnd
trigger1 = AnimElem = 10
value = 190,8
volume = 200

[State 186, SE]            
type = PlaySnd
trigger1 = AnimElem = 26
value = 210,0
volume = 2

[State 186, SE]            
type = PlaySnd
trigger1 = AnimElem = 10
value = 1000,1
volume = 100

[State 186, SE]            ;esso ess
type = PlaySnd
trigger1 = AnimElem = 8
value = 1000,3
volume = 50

[State 186, SE]            ;toh
type = PlaySnd
trigger1 = AnimElem = 6
value = 725,0
volume = 100

[State 186, SE]            ;
type = PlaySnd
trigger1 = AnimElem = 16
value = 190,3                
volume = 100



[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 9
anim = 187
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5

[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 10
anim = 8506
pos = 50,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5



;---------------------------------------------------
;-fumo troppo e katar
[Statedef 10097]
type = S
ctrl = 0
anim = 10097
velset = 0,0

[State 10097, AS]
type = AssertSpecial
trigger1 = Time = [0,260]
flag = RoundNotOver

[State 182, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 1

[State 10097, Width]
type = Width
trigger1 = 1
edge = 0,20

[State 10097, SE]            
type = PlaySnd
trigger1 = AnimElem = 36
value = 800, 1
volume = 200

[State 10097, SE]            
type = PlaySnd
trigger1 = AnimElem = 26
value = 210,1
volume = 85

[State 10097, SE]            
type = PlaySnd
trigger1 = AnimElem = 10
value = 1020,2
volume = 70

[State 10097, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------
;-Rido parecchio anche da abbassato
[Statedef 19004]
type = S
ctrl = 0
anim = 19004
velset = 0,0

[State 19004, AS]
type = AssertSpecial
trigger1 = Time = [0,390]     
flag = RoundNotOver

[State 182, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 1

[State 19004, SE]            
type = PlaySnd
trigger1 = AnimElem = 2
value = 17006,0
volume = 85

[State 19004, SE]            
type = PlaySnd
trigger1 = AnimElem = 17
value = 190,3
volume = 85

[State 19004, SE]            
type = PlaySnd
trigger1 = AnimElem = 4
value = 1000,2
volume = 85

[State 19004, SE]            
type = PlaySnd
trigger1 = AnimElem = 49
value = 11011,2
volume = 85

[State 19004, SE]            
type = PlaySnd
trigger1 = AnimElem = 36
value = 20,2
volume = 85

[State 19004, SE]            
type = PlaySnd
trigger1 = AnimElem = 41
value = 20,2
volume = 85



[State 182, NHB]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; PRESENTAZIONE 1 (esulto con polletto)
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, vs Ubu]            ;presentaz. contro Ubu
type = ChangeState
triggerall = time = 0
trigger1 = p2name = "UBU VAGRANTE"
trigger2 = p4name = "UBU VAGRANTE"
trigger3 = p2name = "UBU VAGRANTE 3.5"
trigger4 = p4name = "UBU VAGRANTE 3.5"
value = 193

[State 191, vs Ella]            ;presentaz. contro Ella
type = ChangeState
triggerall = time = 0
trigger1 = p2name = "Ella"
trigger2 = p4name = "Ella"
trigger3 = p2name = "Ella 2.5"
trigger4 = p4name = "Ella 2.5"
value = 17015

[State 191, VR]           ;variabile random per la selezione presentazioni
type = VarRandom
trigger1 = Time = 0
v = 1
range = 0,2           ;0,2

[State 191, CG]
type = ChangeState
trigger1 = Var(1) = 1
value = 185           ;Nudo Bacetti

[State 191, CA]        
type = ChangeState
trigger1 = Var(1) = 2
value = 10096          ;Paul Phoenix


[State 191, CA]        
type = ChangeAnim
trigger1 = RoundState = 0
value = 190            ;rido con maestro


[State 191, AS]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = Intro

[State 198, Explod]       ;polletto
type = Explod
trigger1 = Time = 0
anim = 11078
postype = p1
pos = 0,0
under = 1
bindtime = -1
ignorehitpause = 1
ownpal = 1


[State 191, SE]            
type = PlaySnd
trigger1 = Time = 0
value = 190,4
volume = 70

[State 191, SE]    ;risata polletto        
type = PlaySnd
trigger1 = AnimElem = 14
value = 190,3
volume = 70

[State 191, SE]    ;rparlttolamentoso       
type = PlaySnd
trigger1 = AnimElem = 2
value = 19500,0
volume = 70

[State 191, SE]            
type = PlaySnd
trigger1 = AnimElem = 210
value = 41,0

[State 191, SE]            
type = PlaySnd
trigger1 = AnimElem = 12
value = 190,8
volume = 250

[State 191, SE]            
type = PlaySnd
trigger1 = AnimElem = 18
value = 190,8
volume = 250

[State 191, SE]            
type = PlaySnd
trigger1 = AnimElem = 19
value = 800,0
volume = 250

[State 191, SE]            
type = PlaySnd
trigger1 = AnimElem = 24
value = 10061,0               
volume = 55

[State 191, SE]            
type = PlaySnd
trigger1 = AnimElem = 58
value = 3000,3               
volume = 255

[State 191, CG] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;-mi gratto confuso       
[Statedef 185]
type = S
ctrl = 0
anim = 185
sprpriority = 2
velset = 0,0

[State 185, AS]
type = AssertSpecial
trigger1 = Time = [0,550]
flag = Intro

[State 191, SE]          ;mannioiio 
type = PlaySnd
trigger1 = AnimElem = 2
value = 10050,0              
volume = 20


[State 191, SE]          ;mph 
type = PlaySnd
trigger1 = AnimElem = 16
value = 1020,2              
volume = 160



[State 185, CG] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Presentazione speciale giano contro Ubu          
[Statedef 193]
type = S
ctrl = 0
anim = 193
sprpriority = 3
velset = 0,0

[State 193, AS]
type = AssertSpecial
trigger1 = Time = [0,650]
flag = Intro

[State 193, SE]
type = PlaySnd
trigger1 = animelem = 6
value = 190,4



[State 193, SE]
type = PlaySnd
trigger1 = animelem = 24
value = 190,3

[State 193, SE]
type = PlaySnd
trigger1 = animelem = 28, =40
value = 41,1


[State 193, SE]
type = PlaySnd
trigger1 = animelem = 32
value = 190,7


[State 193, SE]
type = PlaySnd
trigger1 = animelem = 59
value = 1000,1
volume = 150

[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 59, =50
anim = 8505
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5

[State 193, SE]
type = PlaySnd
trigger1 = animelem = 59, =50
value = 41,1


[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 28, =40
anim = 8505
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5

[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 28, =40
anim = 8008
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 182, Schermo Bianco]
type = EnvColor
trigger1 = AnimElem = 28, =38
time = 2
value = 246,246,246

[State 182, Schermo Nero]
type = EnvColor
trigger1 = AnimElem = 28, =40
time = 2
value = 0,0,0

[State 182, 3]
type = EnvShake
trigger1 = AnimElem = 28, =40
ampl = 10
time = 15
freq = 185

[State 193, SE]
type = PlaySnd
trigger1 = animelem = 29, =110
value = 41,1

[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 29, =110
anim = 8505
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5

[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 29, =110
anim = 8008
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 182, Schermo Bianco]
type = EnvColor
trigger1 = AnimElem = 29, =110
time = 2
value = 246,246,246

[State 182, Schermo Nero]
type = EnvColor
trigger1 = AnimElem = 29, =110
time = 2
value = 0,0,0

[State 182, 4]
type = EnvShake
trigger1 = AnimElem = 29, =110
ampl = 10
time = 15
freq = 185

[State 193, SE]
type = PlaySnd
trigger1 = animelem = 30, =110
value = 41,1

[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 30, =110
anim = 8505
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5

[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 30, =110
anim = 8008
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 182, Schermo Bianco]
type = EnvColor
trigger1 = AnimElem = 30, =110
time = 2
value = 246,246,246

[State 182, Schermo Nero]
type = EnvColor
trigger1 = AnimElem = 30, =110
time = 2
value = 0,0,0

[State 182, 5]
type = EnvShake
trigger1 = AnimElem = 30, =110
ampl = 10
time = 15
freq = 185

[State 193, CS] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Presentazione speciale giano contro Ella  
[Statedef 17015]
type = S
ctrl = 0
anim = 17015
sprpriority = 3
velset = 0,0


[State 193, SE]
type = PlaySnd
trigger1 = animelem = 10
value = 1000,4
volume = 150

[State 17015, AS]
type = AssertSpecial
trigger1 = Time = [0,450]
flag = Intro

[State 193, SE]
type = PlaySnd
trigger1 = animelem = 35, =5
value = 41,1

[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 35, =5
anim = 8505
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5

[State 185, Explod]     
type = Explod
trigger1 = AnimElem = 35, =5
anim = 8008
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 182, Schermo Bianco]
type = EnvColor
trigger1 = AnimElem = 35, =5
time = 2
value = 246,246,246

[State 182, Schermo Nero]
type = EnvColor
trigger1 = AnimElem = 358, =5
time = 2
value = 0,0,0

[State 182, 5]
type = EnvShake
trigger1 = AnimElem = 35, =5
ampl = 10
time = 15
freq = 185

[State 193, CS] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; PRESENTAzione speciale (da fare)
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 194, CA]             ; mi sa che me la sono scordata 
type = ChangeAnim
trigger1 = RoundState = 0
value = 194

[State 194, AS]
type = AssertSpecial
trigger1 = Time = [0,380]
flag = Intro

[State 194, SE]
type = PlaySnd
trigger1 = animelem = 2
value = 190,3;

[State 194, CS] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;----------------------------------------------
;-mi preoccupo poi rido poi grosso
[Statedef 10096]
type = S
ctrl = 0
anim = 10096
sprpriority = 7
velset = 0,0

[State 10096, AS]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = Intro
flag2 = nomusic

[State 10096, SE]      ;vento
type = PlaySnd
trigger1 = AnimElem = 26
value = 41,1         

[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 8
value = 11000,0
volume = 50

[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 12
value = 800,0;       presa di paul
volume = -50

[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 2
value = 190,8          ;clockedak 
volume = 50

[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 11
value = 190,8          ;clockedak 
volume = 50

[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 16
value = 190,4          ;hihihi
volume = 70

[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 21
value = 19900,0          ;swing
volume = 70

[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 10
value = 17034,0;       urlo di giano

[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 16
value = 210,1
volume = 50

[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 26
value = 15060,0          ;sdliiinx
volume = 150

[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 27
value = 1000,4          ;aaaaa
volume = 200



[State 10096, SE]
type = PlaySnd
trigger1 = AnimElem = 47
value = 1051,1          ;a a
volume = 130

[State 10096, Explod]     
type = Explod
trigger1 = AnimElem = 5
anim = 8018
pos = 0,-75
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 10096, Explod]     
type = Explod
trigger1 = AnimElem = 12
anim = 8018
pos = 0,-75
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 10096, Explod]     
type = Explod
trigger1 = AnimElem = 28
anim = 8506
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 10096, Explod]     
type = Explod
trigger1 = AnimElem = 34
anim = 8506
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 10096, Explod]     
type = Explod
trigger1 = AnimElem = 38
anim = 8506
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 10096, Explod]     
type = Explod
trigger1 = AnimElem = 43
anim = 8504
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 10096, SE]      ;vento
type = PlaySnd
trigger1 = AnimElem = 34
value = 41,1         

[State 10096, SE]      ;vento
type = PlaySnd
trigger1 = AnimElem = 43
value = 41,1         


[State 10096, CS] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
;Sfottimento
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2
poweradd = 5000

[State 195, SE]
type = PlaySnd
trigger1 = animelem = 32
value = 19900,0
volume = 150

[State 195, SE]
type = PlaySnd
trigger1 = animelem = 10
value = 17014,0
volume = 150

[State 195, SE]
type = PlaySnd
trigger1 = animelem = 6
value = 190,8
volume = 150


[State 195, CS]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 195, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;Me te derido meno
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 196, SE]
type = PlaySnd
trigger1 = animelem = 1
value = 195,1;

[State 196, CtrlSet]
type = CtrlSet
trigger1 = Time = 40
value = 1

[State 196, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;­sfotti ai tipi bassi
[Statedef 197]
type = S
ctrl = 0
anim = 196
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 197, SE]
type = PlaySnd
trigger1 = animelem = 3
value = 180,4;
volume = -10

[State 197, CS]
type = CtrlSet
trigger1 = Time = 38
value = 1

[State 197, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;================================================================================
;-COLPI NORMALI

;—pugnetto
[Statedef 200]
type    = S                      
movetype= A                      
physics = S                      
velset = 0,0                     
ctrl = 0                         
juggle  = 3
anim = 200                     
poweradd = 21                  
sprpriority = 2               

[State 200, HitDef]
type = HitDef
trigger1 = AnimElem = 2
attr = S, NA                    
damage = 41, 0                  
animtype = Light                 
guardflag = MA                   
hitflag = MAF                    
priority = 3, Hit                
pausetime = 8, 8                
sparkno = S8018        ;vediamo se mettere uno spark o no              
guard.sparkno = S8050
sparkxy = -10, -76               
hitsound = s20,2;  
guardsound = 6, 0                
ground.type = High               
ground.slidetime = 5            
ground.hittime  = 12             
ground.velocity = -2             
airguard.velocity = -1.9,-.8     
air.type = High                  
air.velocity = -1.4,-3           
air.hittime = 12            

[State 200, Explod]
type = Explod
trigger1 = movehit      ;emorraggia piccola
anim = 8000
sprpriority = 5
postype = p2
pos = -10,-90
random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 200, MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 200, CtrlSet]
type = CtrlSet
trigger1 = Time = 8    ;ridurlo, forse si forse no, ma te lo tieni
value = 1

[State 200, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;—pugnone
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= 65
ctrl = 0
velset = 0,0
anim = 210

[State 210, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SA, NA,SA  
;trigger1 = AnimElem = 1, >0
;trigger1 = AnimElem = 3, <2
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3  
pausetime = 0,50           
sparkno = S8007
sparkxy = 0,-60
hitsound = S3,6
numhits = 0
priority = 7, Hit
P1Stateno = 211

[State 210, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Medium
damage = 85, 0
guardflag = MA
pausetime = 3,4
sparkno = S8018
sparkxy = 0,-80
guard.sparkno = S8050
hitsound  = S20,0
guardsound = S11,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2.5,-4

[State 210, EnvColor]
type = EnvColor
triggerall = MoveHit
trigger1 = Time = 12
trigger2 = Time = 18
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1

[State 210, MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1


[State 210, Explod]
type = Explod
trigger1 = movehit
trigger2 = HitCount > 2      ;tanto sangue fa bene
anim = 8000
sprpriority = 5
postype = p2
pos = -10,-65
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1


[State 210, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------
;-colpo forte da vicino
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = 1
poweradd= 65
ctrl = 0
velset = 0,0
anim = 215
sprpriority = 2

[State 215, RE]             ;reversal colpi medi e alti counter col pugnone kofxii
type = ReversalDef
reversal.attr = SA, NA,SA  
;trigger1 = AnimElem = 1, >0
;trigger1 = AnimElem = 3, <2
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3  
pausetime = 0,50           
sparkno = S8007
sparkxy = 0,-60
hitsound = S3,6
numhits = 0
priority = 7, Hit
P1Stateno = 211



[State 215, HitDef]
type = HitDef
trigger1 = AnimElem = 5
attr = S, NA
animtype  = hard
damage = 75,0
guardflag = HA
pausetime = 7,15
sparkno = 6
guard.sparkno = S8050
sparkxy = -24,-70
hitsound   = s20,0
guardsound = S11,1
ground.type = Low
ground.slidetime = 12
ground.hittime  = 25
ground.velocity = -3
air.velocity = -2.5,-4


[State 215, sangue]
type = Explod
trigger1 = movehit
anim = 8018
persist = 0
sprpriority = 5
postype = p2
pos = 0,-60
random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1


[State 215, EnvColor] 
type = EnvColor
trigger1 = MoveHit && Time = 9
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1

[State 215, MHR]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 215, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------------------------------------------
;counter tipo kofxii (alta)

[Statedef 211]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
anim = 211
ctrl = 0
sprpriority = 2
;poweradd= -1000

[State 211, Schermo Nero]  ;   schermo nero
type = EnvColor
trigger1 = AnimElem = 1
time = 10                   
value = 0,0,0
under = 1

[State 211]
type = Explod
trigger1 = time = 10
anim = 8005
persist = 0
sprpriority = 5
postype = p1
pos = 0,-60
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 211]
type = Explod
trigger1 = time = 15
anim = 8104
persist = 0
sprpriority = 5
postype = p1
pos = 0,-60
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 211]
type = Explod
trigger1 = AnimElem = 1
anim = 8026
persist = 0
sprpriority = 1
postype = p1
pos = 0,-60
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 211]
type = Explod
trigger1 = AnimElem = 1
anim = 8100
persist = 0
sprpriority = 7
postype = p1
pos = -20,0
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 211]
type = Explod
trigger1 = time = 15
anim = 8008
persist = 0
sprpriority = 7
postype = p1
pos = 0,0
random = 0,0
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 211, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 10061, 0
volume = 100

[State 211, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1020, 1
volume = 150

[State 211, SE]
type = EnvShake
trigger1 = AnimElem = 1
time = 25
ampl = 12
freq = 90

[State 211, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;----------------------------------------

;counter tipo kofxii (bassa)

[Statedef 212]
type    = S
movetype= A
physics = N
juggle  = 0
velset = 0,0
anim = 212
ctrl = 0
sprpriority = 2
;poweradd= -1000


[State 212, Schermo Nero]  ;   schermo nero
type = EnvColor
trigger1 = AnimElem = 1
time = 10                   
value = 0,0,0
under = 1

[State 212]
type = Explod
trigger1 = time = 10
anim = 8005
persist = 0
sprpriority = 5
postype = p1
pos = 0,-60
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 212]
type = Explod
trigger1 = time = 15
anim = 8104
persist = 0
sprpriority = 5
postype = p1
pos = 0,-60
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 212]
type = Explod
trigger1 = AnimElem = 1
anim = 8026
persist = 0
sprpriority = 1
postype = p1
pos = 0,-60
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 212]
type = Explod
trigger1 = AnimElem = 1
anim = 8100
persist = 0
sprpriority = 7
postype = p1
pos = -20,0
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 212]
type = Explod
trigger1 = time = 15
anim = 8008
persist = 0
sprpriority = 7
postype = p1
pos = 0,0
random = 0,0
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 212, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 10061, 0
volume = 100

[State 212, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1020, 1
volume = 150

[State 212, SE]
type = EnvShake
trigger1 = AnimElem = 1
time = 25
ampl = 12
freq = 90

[State 212, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
;—calcetto
[Statedef 230]
type    = S
movetype= A
physics = S
poweradd= 22
ctrl = 0
juggle = 5
velset = 0,0
anim = 230

[State 230, HitDef]
type = HitDef
trigger1 = Time = 0
attr = S, NA
animtype  = Medium
damage    = 33
guardflag = MA
pausetime = 8,8
sparkno = S8002
sparkxy = 0,-85
hitsound   = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -2
air.velocity = -2.5,-3.5

[State 230, CtrlSet]    ;non lo elimino
type = CtrlSet
trigger1 = Time = 15
value = 1

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;—calcio forte
[Statedef 240]
type    = S
movetype= A
physics = S
poweradd= 65
ctrl = 0
juggle = 6
velset = 0,0
anim = 240
sprpriority = 2

[State 240, RE]             ;reversal colpi medi e alti counter col pugnone kofxii
type = ReversalDef
reversal.attr = SA, NA,SA
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3  
;trigger1 = AnimElem = 1, >0
;trigger1 = AnimElem = 3, <2
pausetime = 0,50           
sparkno = S8007
sparkxy = 0,-60
hitsound = S3,6
numhits = 0
priority = 7, Hit
P1Stateno = 211

[State 240, Hitdef]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
animtype  = Hard
damage    = 78
hitflag = H
guardflag = H
pausetime = 15,15
sparkno = S8018
sparkxy = 0,-80
hitsound   = S20, 2
guardsound = S11,1
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -3
air.velocity = -2.2,-3.2
envshake.ampl = 4            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 10

[State 240, Explod]
type = Explod
trigger1 = Time = 0
trigger1 = moveguarded
trigger2 = AnimElem = 8
trigger2 = moveguarded
anim = 8060
sprpriority = 5
postype = p2
pos = -10,-90
random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 240, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------------------------------
;gionocchiata da vicino
[Statedef 245]
type = S
movetype = A
physics = S
poweradd = 50
anim = 245
ctrl = 0

[State 245, RE]             ;reversal colpi medi e alti counter col pugnone kofxii
type = ReversalDef
reversal.attr = SA, NA,SA
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
;trigger1 = AnimElem = 1, >0
;trigger1 = AnimElem = 3, <2
pausetime = 0,50           
sparkno = S8007
sparkxy = 0,-60
hitsound = S3,6
numhits = 0
priority = 7, Hit
P1Stateno = 211

[State 245, PosAdd]  ; mi allineo con lui
type = PosAdd
trigger1 = Time = [9, 14]
x = 2

[State 245, HitDef]   ;forse deve fare piu' male
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype = Hard
damage = 85
hitflag = MAF
guardflag = HA
pausetime = 8,15         ;6,14
sparkno = S8002
sparkxy = 0,-65
guard.sparkno = S8050
hitsound = S11000,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 15
ground.velocity = 0,15
air.velocity = 0,15
fall = 1

[State 245, HitDef]
type = HitDef
trigger1 = AnimElem = 8
attr = S, SA
animtype = Hard
damage = 85
hitflag = DF
guardflag = HA
pausetime = 30,30       ;6,6
sparkno = S8022             ;scegli se mettere S8100
sparkxy = 0,0
hitsound = S11002, 0
guardsound = S11,1
ground.type = Low
ground.slidetime = 12
ground.hittime = 15
ground.velocity = 0,15
air.velocity = 0,15
fall = 1

[State 245, SE]
type = PlaySnd
trigger1 = AnimElem = 8
value = 11, 2
volume = 100

[State 245, Explod]     ;esplos. davanti il piede
type = Explod
trigger1 = AnimElem = 8
anim = 3104
pos = 30, 0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 1

[State 245, Explod]     ;esplos. dietro il piede
type = Explod
trigger1 = AnimElem = 8
anim = 8100
pos = 30, 0
postype = p1
sprpriority = -2
bindtime = 1
ownpal = 1

[State 245, EnvShake]
type = EnvShake
trigger1 = MoveHit 
time = 30
persistent = 0
ignorehitpause = 1

[State 245, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;-------------------------------------------------------------------------------------------------------
;Pugno Kazama
[Statedef 300]
type = S
movetype = A
physics = S
poweradd = 5
anim = 300
ctrl = 0

[State 300, HitDef]
type = HitDef
trigger1 = AnimElem = 8
attr = S, NA
animtype = Back
damage = 101
guardflag = M
pausetime = 15,35
sparkno = S8018
guard.sparkno = S8050
sparkxy = 0,-85
hitsound = S1020, 1
guardsound = S11,2
ground.type = High
ground.slidetime = 18             ;12
ground.hittime = 15
ground.velocity = -25.0,-3.0     
air.velocity = -25.5,-3.7        
fall = 1
envshake.time = 18
envshake.ampl = -6
envshake.freq = 178

[State 300, SE]
type = PlaySnd
trigger1 = AnimElem = 4
value = 640,0  
volume = -50             

[State 300, SE]
type = PlaySnd
trigger1 = AnimElem = 13
value = 41,1
volume = -80                   

[State 300, Envcolor]
type = EnvColor
trigger1 = MoveHit
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1

[State 300, MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 300, Projcancel]          ;cancella la fireball con il suo proj finto
type = Projectile
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
hitflag = P
attr = S, SP                     
persistent = 1
ignorehitpause = 1
persistent = 1
projanim = 301
projid = 301
projremovetime = 15
offset= 0, 0
postype = P1
bindtime = 1
Vel = .0001
projsprpriority = 2
projpriority = 9999
ownpal = 1
poweradd = 5

[State 300, Projeater]
type = Helper
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
name = "ProjEater"
id = 301
stateno = 301
pos = 0,0
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1

[State 300, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SA, NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 300, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------------------------------------
;Mi MANGIO LA FIREBALL!
[Statedef 301]
type = S
movetype = A
physics = S
sprpriority = 1
anim = 301
juggle = 10
velset = 0,0
ctrl = 0

[State 301, HitBy]
type = HitBy	
trigger1 = Time >= 0
value = SCA, AP

[State 301, HitOverride]
type = HitOverride
trigger1 = Time = 0
attr = SCA, NP, SP, HP
stateno = 301
time = -1
slot = 0

[State 301, MoveHitReset]
type = MoveHitReset
trigger1 = parent, StateNo = 1000 && MoveContact

[State 301, PowerAdd]
type = PowerAdd
trigger1 = Time = 0
value = 5

[State 301, DestroySelf]
type = DestroySelf
trigger1 = Time = 10
trigger2 = root, MoveType = H

;-------------------------------------------------------------------------------------------------------
;Ti atterro in aria
[Statedef 305]
type = A
movetype = A
physics = A
poweradd = 100
anim = 305
ctrl = 0



[State 215, explod]
type = Explod
trigger1 = movehit
anim = 8018
persist = 0
sprpriority = 5
postype = p2
pos = -10,-52
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 305, HitDef, 2]
type = HitDef
trigger1 = AnimElem = 7
attr = A, NA
animtype = Back
damage = 80
guardflag = M
pausetime = 20,16
sparkno = S8140
guard.sparkno = S8060
sparkxy = -10,-70
hitsound = s20,0
guardsound = S11,2
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -4.5,-4.5    
air.velocity = -7.5, 15
mindist = 65,0
fall = 1

[State 215, explod]
type = Explod
trigger1 = movehit
anim = 8018
persist = 0
sprpriority = 5
postype = p2
pos = -10,-52
random = 5,5
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1




[State 305, SE]
type = PlaySnd
trigger1 = AnimElem = 2
value = 210, 1
volume = -50

[State 305, MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

;---------------------------------------------------------------------------
;‚Avanti e X
[Statedef 310]
type    = S
movetype= A
physics = S
juggle  = 2
poweradd= 65
ctrl = 0
velset = 0,0
anim = 310

[State 310, HitDef]      ;gomitata
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = Medium
damage = 40
Hitflag = MAF
guardflag = MA
pausetime = 15,20
sparkno = S8018
guard.sparkno = S8050
sparkxy = -30,-60
hitsound   = S20, 2
guardsound = S11,2
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
;air.velocity = -2.5,-4
envshake.ampl = 5
envshake.time = 15
envshake.freq = 170


[State 3003, Hit]         ;il colpo che fa male
type = HitDef
trigger1 = AnimElem = 9 
attr = S, NA
animtype = Hard
damage = 45
Hitflag = H
getpower = 40
sparkno = S8018
guard.sparkno = S8050
sparkxy = -20,-90
priority = 5
guardflag = M
yaccel = 0.5
pausetime = 20,35
hitsound = S20,0
guardsound = S11,1
ground.type = High
ground.slidetime = 25
ground.hittime = 18
ground.velocity = -3.2,-3.5
guard.velocity = -3.5
air.velocity = -3.2,-3.5
air.type = High
;air.animtype = Back
fall = 1
;fall.recover = 0
envshake.ampl = 8
envshake.time = 20
envshake.freq = 170

[State 310, HitDef]      ;gomitata   ritorno------------ me
type = HitDef
trigger1 = AnimElem = 6
attr = S, NA
animtype  = Medium
damage = 20
Hitflag = MAF
guardflag = MA
pausetime = 3,10
sparkno = S8018
guard.sparkno = S8050
sparkxy = -30,-60
hitsound   = S20, 2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 5.5
;air.velocity = 2.5,4
envshake.ampl = 5
envshake.time = 15
envshake.freq = 170


[State 3003, Hit]         ;il colpo che fa male
type = HitDef
trigger1 = AnimElem = 9 
attr = S, NA
animtype = Hard
damage = 45
Hitflag = H
getpower = 40
sparkno = S8018
guard.sparkno = S8050
sparkxy = -20,-90
priority = 5
guardflag = M
yaccel = 0.5
pausetime = 20,35
hitsound = S20,0
guardsound = S150,1
ground.type = High
ground.slidetime = 25
ground.hittime = 18
ground.velocity = -3.2,-3.5
guard.velocity = -3.5
air.velocity = -3.2,-3.5
air.type = High
;air.animtype = Back
fall = 1
;fall.recover = 0
envshake.ampl = 8
envshake.time = 20
envshake.freq = 170

[State 310, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 3                  
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub                     
time = 2

[State 310, Afterimage]    ; il mantello della notte
type = AfterImageTime
trigger1 = AnimElemTime(11) < 4
time = 2

[State 310, Blink]     ;la scia nera mi piace
type = PalFX
trigger1 = Time = 0
time = 20
sinadd = 50,50,50,3

[State 310, SE]
type = PlaySnd
trigger1 = Time = 3
value = 41, 0
volume = -80

[State 310, VelSet]
type = VelSet
trigger1 = time = [13, 15]
x = 2

[State 310, SE2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 200, 1
volume = -50


[State 310, EnvColor]
type = EnvColor
triggerall = MoveHit
trigger1 = Time = 14
trigger2 = Time = 20
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1

[State 310, MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 310, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;-Imminent Dog Saltino e colpisco basso
[Statedef 311]
type    = A
movetype= A
physics = N
poweradd= 110
velset = 6,-4.8
juggle = 1
anim = 3001
ctrl = 0

[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 311, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 15
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub
time = 2

[State 311, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(8) < 0
time = 2

[State 311, Blink Black]
type = PalFX
trigger1 = Time = 0
time = 20
sinadd = 50,50,50,3

[State 311, VelAdd]
type = VelAdd 
trigger1 = Time >= 1
y = 0.6

;[State 311, SE]
;type = PlaySnd
;trigger1 = AnimElem = 7
;value = 800, 1;
;volume = -20

[State 311, SE]
type = PlaySnd
trigger1 = Time = 22
value = 1100, 1

[State 311, SE]
type = PlaySnd
trigger1 = Time = 1
value = 17011, 0
volume = -150

[State 311, SE]
type = PlaySnd
trigger1 = Time = 4
value = 190, 2
volume = 0

[State 311, SE]
type = PlaySnd
trigger1 = Time = 15
value = 6000, 0
volume = 0

[State 311, explod]
type = Explod
trigger1 = AnimElem = 1
anim = 8502
persist = 0
sprpriority = 5
postype = p1
pos = 0, 0
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1


[State 311, Proj, 1]
type = Projectile
trigger1 = Time = 15     ;22
projanim = 3004
offset = 25, -60
velocity = 0.05, 0
projremovetime = 10
attr = A, SP
animtype  = Hard
getpower = 0,0
givepower = 20,10
damage    = 61,6
guardflag = HA
hitflag = MAF
pausetime = 0,35
sparkno = S8141
guard.sparkno = S8050
sparkxy = 35,0
hitsound   = s1100,2
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -6
airguard.velocity = -3.5      
air.velocity = -1.5,-4.5
palfx.time = 60
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1

[State 311, Proj, 2]
type = Projectile
trigger1 = Time = 50
projanim = 3002
offset = 0, 0          ;0,-35
velocity = 0.2, 0.2
projremovetime = 10
attr = A, SP
animtype  = medium
getpower = 0,0
givepower = 20,10
damage    = 50,6
guardflag = MA
hitflag = MAF
pausetime = 10,15        
sparkno = S8140       
guard.sparkno = S8050
sparkxy = 100,-100          
hitsound   = s1100,2
guardsound =  6,0        
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -1,-8.5
airguard.velocity = -3.5      
air.velocity = -0.5,-5.5
air.juggle = 5
;air.hittime  = 20
fall = 1
fall.recover = 1
palfx.time = 60
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 16
envshake.ampl = -6
envshake.freq = 90

[State 311, Explod]
type = Explod
trigger1 = Time = 15
anim = 8132
pos = 25, -30
postype = p1
sprpriority = 3
ownpal = 1
ontop = 1

[State 311, CG]
type = ChangeState
trigger1 = pos Y >= 20
value = 1212

;----------------------------------------
;Me Atterro
[Statedef 1212]
type = C
movetype = A
physics = S
AnimTime = 60
velset = 0, 0

[State 1212, Proj, 2]
type = Projectile
trigger1 = Time = 28
projanim = 3002
offset = 0, 0          ;0,-35
velocity = 0.2, 0.2
projremovetime = 10
attr = A, SP
animtype  = medium
getpower = 0,0
givepower = 20,10
damage    = 58,6
guardflag = MA
hitflag = MAF
pausetime = 10,15        
sparkno = S8516       
guard.sparkno = S8050
sparkxy = 100,-100          
hitsound   = s1100,2
guardsound =  6,0        
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -1,-8.5
airguard.velocity = -3.5      
air.velocity = -0.5,-5.5
air.juggle = 5
;air.hittime  = 20
fall = 1
fall.recover = 1
palfx.time = 60
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 16
envshake.ampl = -6
envshake.freq = 90

[State 1212, Explod]
type = Explod
trigger1 = Time = 28
anim = 8131
pos = 5, -30
postype = p1
sprpriority = 3
ownpal = 1
ontop = 1

[State 1212, PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1212, SE]
type = PlaySnd
trigger1 = Time = 0
value = 40,0

[State 1212, SE]
type = PlaySnd
trigger1 = Time = 28
value = 6000, 0
volume = 0

[State 1212, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;pugnetto basso
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = 5
poweradd= 15
ctrl = 0
anim = 400
sprpriority = -2

[State 400, HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 20
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = MA
pausetime = 8,8
sparkno = 4
guard.sparkno = S8050
sparkxy = -10,-52
hitsound   = s20,2;
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -3
air.velocity = -1.5,-3

[State 400, Explod]
type = Explod
trigger1 = movehit
anim = 8002
sprpriority = 5
postype = p2
pos = -10,-80
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 400, MoveHitReset]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 400, CS]
type = CtrlSet
trigger1 = Time = 8
value = 1

[State 400, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;pugno forte basso
[Statedef 410]
type    = C
movetype= A
physics = C
poweradd= 50
ctrl = 0
juggle  = 7
anim = 410
sprpriority = 2

[State 410, RE]             ;reversal colpi medi e bassi
type = ReversalDef
reversal.attr = SC, NA,SA,HA  
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
;trigger3 = AnimElem = 3  
pausetime = 0,50           
sparkno = S8007
sparkxy = 0,-60
hitsound = S3,6
numhits = 0
priority = 7, Hit
P1Stateno = 212

[State 410, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage    = 50
priority  = 3
animtype  = Light
hitflag = MAF
guardflag = MA
pausetime = 12,27
sparkno = S8018
guard.sparkno = S8050
sparkxy = -10,-52
hitsound   = s200,2;
guardsound = 6,0
ground.type = Low
ground.slidetime = 24
ground.hittime  = 22
ground.velocity = -3
air.velocity = -1.5,-3


[State 410, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-----------------------------
;i corsieri del patrizio
[Statedef 412]
type    = A
movetype= H
physics = N

[State 15071, VelAdd]
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 412, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 412, HitVelSet]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 412, SelfState]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15
value = 5100

;---------------------------------------------------------------------------
;calcetto basso
[Statedef 430]
type    = C
movetype= A
physics = C
poweradd= 22
ctrl = 0
juggle  = 5
anim = 430
sprpriority = 2

[State 430, Hitef]
type = HitDef
trigger1 = Time = 0
attr = C, NA
damage    = 26
animtype  = Light
hitflag = MAF
guardflag = L
pausetime = 8,8
sparkno = S8002
guard.sparkno = S8050
sparkxy = 10,-60
hitsound   = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 10
ground.hittime  = 12
ground.velocity = -3
air.velocity = -2,-3
down.velocity = -5,0

[State 430, CtrlSet]
type = CtrlSet
trigger1 = Time > 15
value = 1

[State 430, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;calcio forte basso
[Statedef 440]
type    = C
movetype= A
physics = C
poweradd= 50
ctrl = 0
juggle  = 7
anim = 440
sprpriority = 2

[State 440, RE]             ;reversal colpi medi e bassi
type = ReversalDef
reversal.attr = SC, NA,SA,HA  
;trigger1 = AnimElem = 1, >0
;trigger1 = AnimElem = 3, <2
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
trigger3 = AnimElem = 3  
pausetime = 0,50           
sparkno = S8007
sparkxy = 0,-60
hitsound = S3,6
numhits = 0
priority = 7, Hit
P1Stateno = 212

[State 440, HitDef]           ;ti faccio
type = HitDef
trigger1 = AnimElem = 5
attr = C, NA
damage = Ceil(35 / (2 ** HitCount))
animtype  = Medium
hitflag = MA
guardflag = L
pausetime = 6,14
sparkno = 6
guard.sparkno = S8050
sparkxy = -10,-55
hitsound   = s200,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4
air.velocity = -3,-4

[State 440, SE]
type = PlaySnd
trigger1 = AnimElem = 7
value = 210, 1

[State 440, HitDef]         ;tanto male!
type = HitDef
trigger1 = AnimElem = 8
attr = C, NA
damage = Ceil(35 / (2 ** HitCount))
animtype = Medium
hitflag = MAF
guardflag = MA
pausetime = 8,8
sparkno = S8141
guard.sparkno = S8060
sparkxy = 10,-10
hitsound = s200,2
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3
air.velocity = -3,-4
P2Stateno = 411        ;subisci e reagisci
fall = 1

[State 440, Explod]
type = Explod
trigger1 = movehit
anim = 8001
sprpriority = 5
postype = p2
pos = -3,-45
random = 10,10
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 440, MoveHR]
type = MoveHitReset
trigger1 = MoveHit
ignorehitpause = 1

[State 440, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;-----------------
;P2 subisce e reagisce
[Statedef 411]
type    = A
movetype= H
physics = N
velset = 0,0

[State 411, CA]
type = ChangeAnim 
trigger1 = 1
value = 5070

[State 411, CS]
type = ChangeState
trigger1 = HitShakeOver
value = 412


;---------------------------------------------------------------------------
;pugnetto in aria
[Statedef 600]
type    = A
movetype= A
physics = A
poweradd= 11
ctrl = 0
juggle  = 4
anim = 600
sprpriority = 2

[State 600, HitDef]
type = HitDef
trigger1 = AnimElem = 4
attr = A, NA
damage = 20
guardflag = HA
priority = 3
pausetime = 5,15
sparkno = S8002
guard.sparkno = S8050
sparkxy = 30, -75
hitsound = s20,2;
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3
hitonce = 1
mindist = 65,0

;---------------------------------------------------------------------------
;pugno forte in aria
[Statedef 610]
type    = A
movetype= A
physics = A
poweradd= 11
ctrl = 0
juggle  = 4
anim = 610
sprpriority = 2

[State 610, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 50
guardflag = HA
priority = 3
pausetime = 16,18
sparkno = S8002
guard.sparkno = S8050
sparkxy = -25, -75
hitsound = s20,2;
guardsound = S11,1
ground.type = High
ground.slidetime = 5
ground.hittime  = 5
ground.velocity = -4
air.velocity = -1.3,-3
hitonce = 1
mindist = 65,0

;---------------------------------------------------------------------------
;Calcio Debole (air)
[Statedef 630]
type = A
movetype = A
physics = A
poweradd = 20
ctrl = 0
juggle  = 4
anim = 630
sprpriority = 2

[State 630, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 35
guardflag = HA
priority = 3
pausetime = 5,12
sparkno = S8002
guard.sparkno = S8050
sparkxy = 5,-40
hitsound   = 5,1
guardsound = 6,0
ground.type = High
ground.slidetime = 8
ground.hittime  = 8
ground.velocity = -4
air.velocity = -2,-3
mindist = 65,0

;---------------------------------------------------------------------------
;-Calcio Fortis (air)
[Statedef 640]
type = A
movetype = A
physics = A
juggle = 4
poweradd = 65
ctrl = 0
anim = 640
sprpriority = 2

[State 640, HitDef]
type = HitDef
trigger1 = Time = 0
attr = A, NA
damage = 62
guardflag = HA
priority = 4
pausetime = 10,15
sparkno = S8018
guard.sparkno = S8060
sparkxy = -12,-60
hitsound  = 5,3
guardsound = S11,1
animtype = Med
ground.type = High
ground.slidetime = 8
ground.hittime  = 10
ground.velocity = -5
air.velocity = -3,-4
mindist = 65,0


;==================PRESE=================================================
;-Presa allegra
[Statedef 800]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, HitDef]
type = HitDef
Trigger1 = AnimElem = 1          ;Time = 0
attr = S, NT          
hitflag = M-          
priority = 1, Miss    
pausetime = 0,0
sparkno = 50          
sparkxy = 0,-75
hitsound   = s800,0
ground.hittime  = 20
sprpriority = 1       
p1stateno = 801       
p2stateno = 802       
fall = 1              

[State 800, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;-sollevo e colpisco
[Statedef 801]
type = S
movetype = A
physics = S
poweradd = 90
anim = 801
ctrl = 0

[State 801, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 801, Width]    ;distanza dal bordo
type = Width
trigger1 = 1
edge = 50,10

[State 801, Bind 1]
type = TargetBind
trigger1 = AnimElem = 5
pos = 40, 0

[State 801, Bind 2]
type = TargetBind
trigger1 = AnimElem = 6
pos = 40, -20

[State 801, Bind 3]
type = TargetBind
trigger1 = AnimElem = 7
pos = 40, -18

[State 801, Bind 4]
type = TargetBind
trigger1 = AnimElem = 8
pos = 40, -14

[State 801, SE]
type = PlaySnd
trigger1 = AnimElem = 8
value = 210, 1
volume = -50

[State 180, 3]
type = EnvShake
trigger1 = AnimElem = 9
time = 16
ampl = -6
freq = 90

[State 801, HitDef]
type = Hitdef
trigger1 = AnimElem = 9
;anim = 801
attr = A, SA
animtype  = diagup
air.animtype = diagup
fall.animtype = diagup
getpower = 0,0
givepower = 20,10
damage    = 100,25
guardflag = MAF
hitflag = MAF
pausetime = 5,15        
sparkno = S8018 
guard.sparkno = S8050
sparkxy = -10,-80          
;hitsound   = S20,0
guardsound =  6,0        
ground.type = Low      ;High
air.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -7, -7     
airguard.velocity = -3.5      
air.velocity = -7, -7  
air.juggle = 3
fall = 1
fall.recover = 0
;envshake.time = 13
;envshake.ampl = -6
;envshake.freq = 90
fall.envshake.time = 12
fall.envshake.ampl = -4
fall.envshake.freq = 90

[State 801, SE]      ;sfx pugno
type = PlaySnd
trigger1 = AnimElem = 9
value = 20, 0
volume = 100

[State 801, SE]
type = PlaySnd
trigger1 = AnimElem = 3
value = 190, 8
volume = 250



[State 10101, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 8012
pos = 40,-120
postype = p1
ontop = 1
ownpal = 1

[State 801, Throw]      ;fa andare il p2 allo state in cui volera' dopo esser stato colpito
type = TargetState
trigger1 = AnimElem = 9
value = 803

[State 801, SE]      
type = PlaySnd
trigger1 = Time = 17
value = 800, 1
volume = -10

[State 801, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;p2 stramaledettissimo subimento
[Statedef 802]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 1

[State 802, Nothitby]    ;da controllare 
type = NotHitBy
trigger1 = 1
value = SCA

[State 802, PosSet]
type = PosSet
trigger1 = AnimElem = 1
y = 0

[State 802, CA]
type = ChangeAnim2
Trigger1 = Time = 0
value = 802

[State 802, CG]
type = ChangeState
triggerall = AnimElem = 1
triggerall = AnimExist(200) || AnimExist(210) || AnimExist(10851)
trigger1 = Command = "y" || Command = "z"
trigger1 = Command = "holdfwd" || Command = "holdback" || Command = "holddown" || Command = "holdup"
value = 851

;[State 802, SelfState] 
;type = SelfState
;trigger1 = AnimTime = 0 
;value = 5030 
;ctrl = 0

;-----------------------------------------------------
;il p2 vola dopo esser stato colpito
[Statedef 803]
type    = A
movetype= H
physics = A        ;N
velset = 0,0      ;2.8,-7 cordinate del movimento       
poweradd = 40
sprpriority = 7

[State 803, 1]
type = SelfState
Trigger1 = Time = 0
value = 5030           

[State 803, VelAdd] ;Gravity
type = VelAdd
Trigger1 = 1
y = -.4

;[State 803, 2] ; Recover near ground (use ChangeState)
;type = ChangeState
;triggerall = Vel Y > 0
;triggerall = Pos Y >= -20
;triggerall = alive
;triggerall = CanRecover
;trigger1 = Command = "recovery"
;value = 5200 ;HITFALL_RECOVER

[State 803, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;--------------------------------------------------------------------------------------------
;Presa sollevo col piede
[Statedef 810]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 810
sprpriority = 2

[State 810, HitDef] ; ti prendo il cozzo
type = HitDef
Trigger1 = Time = 0
attr = S, NT          
hitflag = M-          
priority = 1, Miss    
pausetime = 0,0
sparkno = 50
sparkxy = 0,-75
hitsound   = s800,0
ground.hittime  = 20
sprpriority = 1       
p1stateno = 811       
p2stateno = 812            

[State 810, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;sollevo colle manine e colpisco
[Statedef 811]
type = S
movetype = A
physics = S
poweradd = 100
anim = 811
ctrl = 0

[State 801, SE]      
type = PlaySnd
trigger1 = Time = 0
value = 800, 0
volume = -10

[State 801, SE]      
type = PlaySnd
trigger1 = AnimElem = 1
value = 15060, 60
volume = 50

[State 801, SE]      
type = PlaySnd
trigger1 = AnimElem = 6    ; adulas
value = 15060, 70
volume = 40

[State 801, SE]      
type = PlaySnd
trigger1 = time = 66
value = 20, 0
volume = 100

[State 811, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

;[State 811, Width]    ;distanza dal bordo
;type = Width
;trigger1 = 1
;edge = 125,10

[State 811, Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 8135
sprpriority = 5
postype = p1
pos = 40, 0
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 811, Bind 1]
type = TargetBind
trigger1 = AnimElem = 4
pos = 30, -35

[State 811, Bind 2]
type = TargetBind
trigger1 = AnimElem = 5
pos = 20, -80

[State 811, Bind 3]
type = TargetBind
trigger1 = AnimElem = 6
pos = 5, -80

[State 811, Bind 4]
type = TargetBind
trigger1 = AnimElem = 7
pos = -10, -75


[State 811, Throw]      ;fa andare il p2 allo state in cui sara' sollevato
type = TargetState
trigger1 = AnimElem = 8
value = 813


[State 811, HitDef]   ;colpo sul collo
type = Hitdef
trigger1 = AnimElem = 8
attr = A, NA
animtype  = diagup
air.animtype = diagup
fall.animtype = diagup
getpower = 0,0
givepower = 20,10
damage    = 100
guardflag = MA
hitflag = MAF
pausetime = 0,0 
sparkno = S27845
guard.sparkno = S8050
;hitsound   = s1100,2
guardsound =  6,0        
ground.type = Low      ;High
air.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = 9, 9            
airguard.velocity = -3.5      
air.velocity = 9, 9               
air.juggle = 3
fall = 1
fall.recover = 0
fall.envshake.time = 14
fall.envshake.ampl = -5
fall.envshake.freq = 90

[State 811, SE]
type = PlaySnd
trigger1 = AnimElem = 8
value = 41, 1
volume = -65

[State 811, AssertSpecial]
type = AssertSpecial
trigger1 = AnimElem = 8
flag = unguardable


[State 811, SE]
type = PlaySnd
trigger1 = AnimElem = 3  ;suono presa
value = 210, 1

[State 811, SE]
type = PlaySnd
trigger1 = AnimElem = 10
value = 11000, 0
volume = 100

[State 180, 3]
type = EnvShake
trigger1 = AnimElem = 8
time = 10
ampl = -3
freq = 90


[State 811, Throw]      ;fa andare il p2 allo state in cui volera' dopo esser stato colpito
type = TargetState
trigger1 = AnimElem = 8
value = 813

[State 811, CG]            
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------
;subimento da presa p2
[Statedef 812]
type    = S
movetype= H
physics = N
velset = 0,0
ctrl = 0
;anim = 812
SprPriority = 7

[State 812, NotHitBy]
type = NotHitBy
trigger1 = 36
value = SCA
time = 1

[State 812, ChangeAnim]
type = ChangeAnim2
Trigger1 = Time = 0
value = 812

;---------------------------------------------------------------------------
;subimento da presa (caduta a terra)
[Statedef 813]
type = A       ;provare anche A
movetype = H
physics = N    ;provare anche S
velset = 0,0


[State 813, ChangeAnim]
type = ChangeAnim2
Trigger1 = Time = 0
value = 813

[State 813, 1] 
type = SelfState
trigger1 = Time = 0
value = 5030       

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground


;-------------------------------------------------------------------------------
;Spostamento
[Statedef 850]
type = S
movetype = I
physics = S
anim = 850

[State 850, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 850, VelSet]
type = VelSet
trigger1 = Time = 5
x = -7

[State 850, BGPalfx]
type = BGPalfx
trigger1 = time = 6
ignorehitpause = 1
time = 1
add = 255,255,255

[State 850, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------
;Mi libero da presa
[Statedef 851]
type = S
movetype = I
physics = S

[State 851, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 851, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && AnimExist(10851)
value = 10851;

[State 851, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 10851
value = 210;

[State 851, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 0 && Anim != 10851 && Anim != 210
value = 200;

[State 851, SelfState]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;===================================================================
;-Tettonico Punch (debole)
[Statedef 1000]
type    = S
movetype= A
physics = S
juggle  = 4
poweradd= 110
velset = 0,0
anim = 1000
ctrl = 0

[State 3000, 1]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 1000, SE]           ;urlo
type = PlaySnd
trigger1 = AnimElem = 9
value = 17020,0
volume = 155

[State 1000, SE]           ;botto!
type = PlaySnd
trigger1 = AnimElem = 9
value = 11002,0
volume = 150

[State 1000, Helper]
type = Helper
trigger1 = AnimElem = 9
helpertype = normal
name = "tettonico"
id = 1012
postype = P1
pos = 0,0
stateno = 1012
keyctrl = 0
ownpal = 1
facing = 1

[State 1000, Projectile]   ;il collison box blu
type = Projectile
trigger1 = AnimElem = 9
ProjID = 1005
projanim = 1005
offset = 0, 0
velocity = 0, 0
projremovetime = 40
attr = C, SP
animtype  = Hard
getpower = 0,0
givepower = 0,0
hitflag = MAF
guardflag = MAF
pausetime = 3,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-10
air.velocity = -1,-8
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10,-2
air.velocity = -6,-3
hitsound   = -1,0
guardsound = -1,0
ground.type = High
ground.velocity = 0

[State 1000, RemoveExplod]   ;il collision va verso la meta
type = RemoveExplod
trigger1 = projcontact[1003] = 1
;ID = 1002

[State 3000, polverone]        ;sparo
type = Explod
trigger1 = AnimElem = 9
anim = 8128  
postype = p1
pos = 0,0                 
supermove = 1
ontop = 1
sprpriority = 5
ownpal = 1
shadow = -1
vel = 0.0
scale = 1, 1
pausemovetime = 9999

[State 3000, polverone]        ;polverone per terra (opposto)
type = Explod
trigger1 = AnimElem = 9
anim = 8120  
postype = p1
pos = 0,2                 
supermove = 1
ontop = 1
sprpriority = 3
facing = -1
ownpal = 1
shadow = -1
vel = 2.0
scale = 1, .5
pausemovetime = 9999

[State 3000, Explod]         ;roba davanti
type = Explod
trigger1 = AnimElem = 9
anim = 3103
pos = 0, 0
postype = p1
sprpriority = -2
bindtime = 1
ownpal = 1

[State 3000, Explod]       ;roba dietro
type = Explod
trigger1 = AnimElem = 9
anim = 3104
pos = 0, 0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 1

[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1000, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------
;collision tettonico(deb)
[Statedef 1012]
type    = C
movetype= A
physics = N
ctrl = 0
velset = 15, 0
anim = 1004

[State 1012, SE]
type = PlayerPush
trigger1 = 1
value = 0

[State 1012, NHB]
type = NotHitBy 
trigger1 = 1
value = SCA
time = 1

[State 1012, HitDef]
type = HitDef
trigger1 = Timemod = 5,0
attr = C, SP
animtype  = Hard
damage = Ceil((90 / (2 ** HitCount))+6); 6
id = 1004
offset = 0,0
hitflag = MAF
guardflag = MAF
pausetime = 10,1
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -9,-1
air.velocity = -6,-1
sparkno = s8136
guard.sparkno = S8050
sparkxy = 0,-50
;hitsound   = S210,2
guardsound = S11,1
palfx.time = 60
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1
mindist = 65,0

[State 1004, DestroySelf]
type = DestroySelf
trigger1 = Time = 2



;---------------------------------------------------------------------------
;-Tettonico Punch (forte)
[Statedef 1010]
type    = S
movetype= A
physics = C
poweradd= 120
velset = 0,0
juggle  = 4
anim = 1010
ctrl = 0

[State 3000, 1]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 1000, SE]           ;urlo
type = PlaySnd
trigger1 = AnimElem = 9
value = 17020,0
volume = 155

[State 1000, SE]           ;botto!
type = PlaySnd
trigger1 = AnimElem = 9
value = 11002,0
volume = 150

[State 1010, Helper]
type = Helper
trigger1 = AnimElem = 9
helpertype = normal
name = "tettonico"
id = 1011
postype = P1
pos = 0,0
stateno = 1011
keyctrl = 0
ownpal = 1
facing = 1

[State 1010, Projectile]   ;il collison box blu
type = Projectile
trigger1 = AnimElem = 9
ProjID = 1003
projanim = 1003
offset = 0, 0
velocity = 0, 0
projremovetime = 40
attr = C, SP
animtype  = Hard
getpower = 0,0
givepower = 0,0
hitflag = MAF
guardflag = MAF
pausetime = 5,10
hitsound   = -1,0
guardsound = -1,0
ground.type = High
ground.velocity = 0

[State 1010, RemoveExplod]   ;il collision va verso la meta
type = RemoveExplod
trigger1 = projcontact[1003] = 1
;ID = 1002

[State 3000, polverone]        ;sparo
type = Explod
trigger1 = AnimElem = 9
anim = 8017  
postype = p1
pos = 0,0                 
supermove = 1
ontop = 1
sprpriority = 5
ownpal = 1
shadow = -1
vel = 0.0
scale = 1, 1
pausemovetime = 9999

[State 3000, polverone]        ;polverone per terra (opposto)
type = Explod
trigger1 = AnimElem = 9
anim = 8120  
postype = p1
pos = 0,2                 
supermove = 1
ontop = 1
sprpriority = 3
facing = -1
ownpal = 1
shadow = -1
vel = 2.0
scale = 1, .5
pausemovetime = 9999

[State 3000, Explod]         ;roba davanti
type = Explod
trigger1 = AnimElem = 9
anim = 3103
pos = 0, 0
postype = p1
sprpriority = -2
bindtime = 1
ownpal = 1

[State 3000, Explod]       ;roba dietro
type = Explod
trigger1 = AnimElem = 9
anim = 3104
pos = 0, 0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 1

[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem > 0
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1000, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------
;collision tettonico(forte)
[Statedef 1011]
type    = C
movetype= A
physics = N
ctrl = 0
velset = 15, 0
anim = 1001

[State 1011, SE]
type = PlayerPush
trigger1 = 1
value = 0

[State 1011, NHB]
type = NotHitBy 
trigger1 = 1
value = SCA
time = 1

[State 1011, HitDef]
type = HitDef
trigger1 = Timemod = 5,0
attr = C, SP
animtype  = Hard
damage = Ceil((90 / (2 ** HitCount))+6); 6
id = 1001
offset = 0,0
hitflag = MAF
guardflag = MAF
pausetime = 20,35
sparkno = s8136
guard.sparkno = S8050
sparkxy = 0,-50
;hitsound   = S210,2
guardsound = S11,2
palfx.time = 60
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1

[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1001, DestroySelf]
type = DestroySelf
trigger1 = Time = 2


;---------------------------------------------------------------------------
;-2 pugnoni con uppercut (forte)
[Statedef 1020]
type = S
movetype= A
physics = S
juggle = 1
anim = 1020
velset = 0,0
poweradd = 20
ctrl = 0

[State 1020, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SA, NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,29           
sparkno = S8005
sparkxy = 20,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1020, Explod]        
type = Explod
trigger1 = AnimElem = 4
anim = 8009
id = 8009
ontop = 1
pos = -20,0
bindtime = -1
supermovetime = -1
removeongethit = 1

[State 1020, Explod]        
type = Explod
trigger1 = AnimElem = 25
anim = 8009
id = 8009
ontop = 1
pos = -25,0
supermovetime = -1
removeongethit = 1

;[State 1020, VS]
;type = VelSet
;trigger1 = AnimElem = 4
;x = 10 


[State 1022, Friction]
type = VelMul
trigger1 = 1
x = .42 * ifelse (AnimElemTime(6) < 0, 1, .4)

[State 1020, VS]
type = VelSet
trigger1 = AnimElem = 4
trigger1 = P2Dist X >= 60
x = 60                           ;x = 13



[State 1020, VS]
type = VelSet
trigger1 = AnimElem = 25
;trigger2 = AnimElem = 26
x = 15

[State 1020, 1]
type = HitDef
trigger1 = AnimElem = 7 
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 60,15
sparkno = S8018
guard.sparkno = S8050
sparkxy = -10,-75
hitsound   = S20,2
guardsound = S11,1
ground.type = high
priority = 7, Hit
pausetime = 15,60
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -4
air.velocity = -3.5,-3
guard.velocity = -4
guard.pausetime = 10,40   
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -4
yaccel = .5
envshake.time = 7
envshake.ampl = -8
envshake.freq = 90


[State 1020, 2]
type = HitDef
trigger1 = AnimElem = 26 
ID = 1020
attr = C, NA
damage = Ceil(80 / (2 ** HitCount))
animtype = up     ;Medium
hitflag = MAF
guardflag = MA
pausetime = 25,25
sparkno = S8140
guard.sparkno = S8060
sparkxy = -28,-100
hitsound = s10130,0
guardsound = S11,2
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-10
air.velocity = -1,-8
;P2Stateno = 411
;fall = 1
envshake.time = 18
envshake.ampl = -6
envshake.freq = 178

[State 1020, 2]
type = HitDef
trigger1 = AnimElem = 27 
nochainID = 1020
ID = 1020
attr = C, NA
damage = Ceil(80 / (2 ** HitCount))
animtype = up     ;Medium
hitflag = MAF
guardflag = MA
pausetime = 25,25
sparkno = S8140
guard.sparkno = S8060
sparkxy = -28,-100
hitsound = s10130,0
guardsound = S11,1
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-10
air.velocity = -1,-8
;P2Stateno = 411
;fall = 1
envshake.time = 18
envshake.ampl = -6
envshake.freq = 178

[State 1020, SE]         ;sfx vento
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 25
value = 41, 1
volume = -100


[State 1020, SE]         ;sgnast
type = PlaySnd
trigger1 = AnimElem = 1 
value = 15060, 80
volume = -100

[State 1020, SE]         ;sodonina
type = PlaySnd
trigger1 = AnimElem = 25 
value = 15060, 90
volume = -80


[State 1020, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
length = 8                  
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub                     
time = 2

[State 1020, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(36) < 2
time = 2

[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1020, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1




;---------------------------------------------------------------------------
;palmo uppercut xxx (finto)
[Statedef 1023]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
anim = 1023
ctrl = 0
sprpriority = 2
[State 1023, VS]
type = VelSet
trigger1 = AnimElem = 6
x = 3

[State 1023, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SA, NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,29           
sparkno = S8005
sparkxy = 20,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1023, Explod]        
type = Explod
trigger1 = AnimElem = 4
anim = 8009
id = 8009
ontop = 1
pos = -20,0
bindtime = -1
supermovetime = -1
removeongethit = 1

[State 1023, Explod]        
type = Explod
trigger1 = AnimElem = 25
anim = 8009
id = 8009
ontop = 1
pos = -25,0
supermovetime = -1
removeongethit = 1

[State 1023, VS]
type = VelSet
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
x = 8 

[State 1023, VS]
type = VelSet
trigger1 = AnimElem = 25
trigger2 = AnimElem = 26
x = 5

[State 1023, 1]
type = HitDef
trigger1 = AnimElem = 7 
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 40,15
sparkno = S8018
guard.sparkno = S8050
sparkxy = -10,-75
hitsound   = S20,2
guardsound = S11,1
ground.type = high
priority = 7, Hit
pausetime = 15,60
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -4
air.velocity = -3.5,-3
guard.velocity = -4
guard.pausetime = 8,25   
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -4
yaccel = .5
envshake.time = 7
envshake.ampl = -8
envshake.freq = 90


[State 1023, 2]
type = HitDef
trigger1 = AnimElem = 26 
ID = 1023
attr = C, NA
damage = Ceil(60 / (2 ** HitCount))
animtype = up     ;Medium
hitflag = MAF
guardflag = MA
pausetime = 25,25
sparkno = S8140
guard.sparkno = S8060
sparkxy = -28,-100
hitsound = s20,0
guardsound = S11,2
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-9
air.velocity = -1,-8
;P2Stateno = 411
;fall = 1
envshake.time = 18
envshake.ampl = -6
envshake.freq = 178

[State 1023, 2]
type = HitDef
trigger1 = AnimElem = 27 
nochainID = 1020
ID = 1023
attr = C, NA
damage = Ceil(60 / (2 ** HitCount))
animtype = up     ;Medium
hitflag = MAF
guardflag = MA
pausetime = 25,25
sparkno = S8140
guard.sparkno = S8060
sparkxy = -28,-100
hitsound = s20,0
guardsound = S11,2
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-10
air.velocity = -1,-8
;P2Stateno = 411
;fall = 1
envshake.time = 18
envshake.ampl = -6
envshake.freq = 178

[State 1023, SE]         ;sfx vento
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 25
value = 41, 1
volume = -100

[State 1023, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
length = 8                  
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub                     
time = 2

[State 1023, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(36) < 2
time = 2

[State 1023, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1





;---------------------------------------------------------------------------
;-Godrano Punch (debole)
[Statedef 1022]
type    = S
movetype= A
physics = N
juggle  = 5
poweradd= 55
velset = 0,0
anim = 1022
ctrl = 0
sprpriority = 2

[State 1022, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SA, NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,19           
sparkno = S8005
sparkxy = 20,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1022, Explod]        
type = Explod
trigger1 = AnimElem = 4
anim = 8009
id = 8009
ontop = 1
pos = -20,0
bindtime = -1
supermovetime = -1
removeongethit = 1

[State 1022, Explod]        
type = Explod
trigger1 = AnimElem = 25
anim = 8009
id = 8009
ontop = 1
pos = -25,0
supermovetime = -1
removeongethit = 1

[State 1022, Friction]
type = VelMul
trigger1 = 1
x = .42 * ifelse (AnimElemTime(6) < 0, 1, .4)

[State 1020, VS]
type = VelSet
trigger1 = AnimElem = 4
trigger1 = P2Dist X >= 60
x = 60                           ;x = 13

[State 1020, VS]
type = VelSet
trigger1 = AnimElem = 28
trigger1 = P2Dist X >= 50
x = 40                    

[State 1022, Width]    ;distanza dal p2 se troppo vicino
type = Width
trigger1 = P2Dist X <= 10
player = 10

[State 1022, 3]          ;dice le cosine
type = PlaySnd
trigger1 = AnimElem = 1
value = 17019, 0
volume = -20

[State 1020, SE]           ;vento
type = PlaySnd
trigger1 = AnimElem = 4
value = 41,1               

[State 1022, Afterimage]
type = AfterImage
trigger1 = AnimElem = 2
length = 12
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 1
Trans = sub
time = 2

[State 1022, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(7) < 2
time = 2

;[State 1022, Blink]
;type = PalFX
;trigger1 = Time = 0
;time = 20
;sinadd = 50,50,50,3

[State 1022, 1]
type = PlaySnd
trigger1 = Time = 2
value = 0, 3


[State 1022, 1]
type = HitDef
trigger1 = AnimElem = 7 
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 50,15
sparkno = S8018
guard.sparkno = S8050
sparkxy = -10,-75
hitsound   = S20,2
guardsound = S11,1
ground.type = high
priority = 7, Hit
pausetime = 10,50
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -4
air.velocity = -3.5,-3
guard.velocity = -4
guard.pausetime = 8,25   
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -4
yaccel = .5
envshake.time = 7
envshake.ampl = -8
envshake.freq = 90

[State 1022, 2]
type = HitDef
trigger1 = AnimElem = 28 
nochainID = 1022
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = diagup
damage = 40,15
sparkno = S8018
guard.sparkno = S8050
sparkxy = -10,-75
hitsound   = S20,0
guardsound = S11,2
ground.type = low
priority = 7, Hit
pausetime = 15,35
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -15.5, .5
air.velocity = -15.5, .5
guard.velocity = -4
guard.pausetime = 5,21
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -4
fall = 1
yaccel = .5
air.fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = -14
envshake.freq = 120
p1stateno = 1021


[State 1022, SE]         ;sfx vento
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 16
value = 41, 1
volume = -100


[State 1022, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
length = 8                  
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub                     
time = 2

[State 1022, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(36) < 2
time = 2

[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1022, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;-----------------------------------------------
;-Godrano Punch Ritorno dopo il colpo
[Statedef 1021]
type    = S
movetype= A
physics = N
juggle  = 5
poweradd= 55
velset = 0,0
anim = 1021
ctrl = 0
sprpriority = 2

[State 1022, 3]          ;SEIH!
type = PlaySnd
trigger1 = AnimElem = 19
value = 210,0
volume = 50

[State 1020, SE]           ;vento
type = PlaySnd
trigger1 = AnimElem = 19
value = 200,1 
;volume = -50

[State 1021, PA]
type = PosAdd
trigger1 = AnimTime = 0
x = 10

[State 1021, Afterimage]   ;la solita scia
type = AfterImage
trigger1 = AnimElem = 1
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 1
Trans = sub
time = 2

[State 1021, HitDef, 3]         ;tanto male!
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = Ceil(40 / (2 ** HitCount))
animtype = up     ;Medium
hitflag = MAF
guardflag = MA
pausetime = 5,5
sparkno = S8512
guard.sparkno = S8060
sparkxy = -28,-100
hitsound = s20,0
guardsound = 6,0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = 2,-12
air.velocity = -2,-2             ;3,-10
;P2Stateno = 411
;fall = 1
envshake.time = 18
envshake.ampl = -6
envshake.freq = 178

[State 1021, Explod]
type = Explod
trigger1 = AnimElem = 6
anim = 8003
sprpriority = 5
postype = p1
pos = 65,0
random = 0,0
facing = -1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 1021, SE]         ;ikano'
type = PlaySnd
trigger1 = AnimElem = 1 
value = 15070, 0
volume = 50

;[State 1021, ES]
;type = EnvShake
;trigger1 = AnimElem = 6
;time = 10
;ampl = -3
;freq = 90


[State 1021, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(24) < 10
time = 2

[State 1021, PA]
type = PosAdd
trigger1 = AnimTime = 0
x = -10

[State 1021, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


            
;--------------------------------------------------------------------------


;-FISTO Uppercut(pugno debole)
[Statedef 1100]
type    = S
movetype= A
physics = S
poweradd= 110
velset = 0,0
juggle = 5
anim = 1100
ctrl = 0

[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1100, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA

[State 1100, SE]
type = PlaySnd
trigger1 = Time = 5
value = 1100, 0

[State 1110, SE]
type = PlaySnd
trigger1 = AnimElem = 7
trigger1 = MoveHit = 0 
value = 41, 1              ;effetto sibilo

;[State 1100, SE]
;type = PlaySnd
;trigger1 = movehit
;value = 17004, 1
;volume = 50

;[State 1100, SE]
;type = PlaySnd
;trigger1 = movehit
;value = 17005, 0
;volume = 50

[State 1100, 1]
type = varset
trigger1 = movehit
var(3) = 1

[State 1100, 2]          ;comincia a spostarsi
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
x = 3

[State 1100, Hit1]
type = HitDef
trigger1 = AnimElem = 1  
persistent = 0
attr = S, SA
animtype = Hard
damage = 50,15
getpower = 58
sparkno = S8018
;guard.sparkno = S8050
sparkxy = 0,-80
priority = 7
guardflag = MAF
yaccel = 0.5
sparkxy = -10,-55
pausetime = 11,15
hitsound = S200,2      ;S17004,1
guardsound = S11,1
ground.type = Low
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -2.0,-10
guard.velocity = -3.5
air.velocity = -2.0,-10
air.animtype = Back
fall = 0
fall.recover = 0

[State 1100, Explod]
type = Explod
triggerall = movehit
trigger1 = AnimElem != 3
anim = 8141
postype = p1
pos = 30,-90
ontop = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = 50

[State 1100, hit2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype = Hard
damage = 50,15
getpower = 25
sparkno = S8018
;guard.sparkno = S8050
sparkxy = -20,-100
priority = 7
guardflag = MAF
yaccel = 0.5
sparkxy = -10,-55
pausetime = 7,8
hitsound = S210,2          ;S17005,0
guardsound = S11,1
ground.type = High
ground.slidetime = 12
ground.hittime = 12
ground.velocity = -3.0 + (movehit)*1,-10
guard.velocity = -4.0
air.velocity = -2.0,-10
air.animtype = Back
fall = 1
fall.recover = 0

[State 1100, Explod]
type = Explod
triggerall = moveguarded
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
anim = 8050
postype = p2
pos = 0,-58
ontop = 1
;bindtime = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = 50

[State 1100, Env]
type = EnvShake
trigger1 = AnimElem = 1
ampl = 3         
freq = 140
time = 5

[State 1100, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 8139
postype = p1
pos = 65,-50
ontop = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1101, veladd]
type = VelAdd
trigger1 = AnimElem = 7
y = -.48

[State 1100, varset]
type = varset
trigger1 = movecontact
var(1) = 1

[State 1100, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 1103


;-mega uppercut il volo (debole)
[Statedef 1103]
type = A
movetype = A
physics = A
juggle = 7
anim = 1103
velset = 0,-5

[State 1103, 0]
type = varset
trigger1 = movehit
var(3) = 1

[State 1103, polverone]        ;polverone per terra
type = Explod
trigger1 = AnimElem = 1 
anim = 8120  
postype = p1
pos = -5,2                 
supermove = 1
ontop = 1
sprpriority = 3
ownpal = 1
shadow = -1
vel = -1.5
scale = .5, .5
pausemovetime = 9999

[State 1103, polverone]        ;polverone per terra (opposto)
type = Explod
trigger1 = AnimElem = 1
anim = 8120  
postype = p1
pos = 5,2                 
supermove = 1
ontop = 1
sprpriority = 3
facing = -1
ownpal = 1
shadow = -1
vel = 1.5
scale = .5, .5
pausemovetime = 9999

[State 1103, Hit1]
type = HitDef
trigger1 = animelem = 1
trigger1 =  var(1) = 0
attr = A, SA
animtype = Hard
damage = 70,11
getpower = 63
sparkno = 2
sparkxy = 0,-60
priority = 7
hitflag = MAF
guardflag = MAF
yaccel = 0.5
pausetime = 7,8
hitsound = S220,0
guardsound = S11,1
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -1.5,-10
air.velocity = -1.5,-10
air.animtype = Back
fall = 1
fall.recover = 0

[State 1103, 4]
type = varset
trigger1 = animtime = 0
var(1) = 0

;--------------------------------------------------------------------------------------
;-FISTO Uppercut(pugno forte)
[Statedef 1110]
type    = S
movetype= A
physics = S
poweradd= 110
velset = 0,0
juggle  = 5
anim = 1100
ctrl = 0

[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1110, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA

[State 1100, SE]      ;urlo di ella
type = PlaySnd
trigger1 = Time = 5
value = 1100, 0


[State 1110, SE]
type = PlaySnd
trigger1 = AnimElem = 7
trigger1 = MoveHit = 0 
value = 41, 1              ;effetto sibilo

;[State 1110, Explod]
;type = Explod
;trigger1 = time = 19
;anim = 1101
;pos = 10, -55
;postype = p1
;sprpriority = 3
;ownpal = 1
;ontop = 1

[State 1110, burn]
type = varset
trigger1 = movehit
var(3) = 1

[State 1110, PA]          ;comincia a spostarsi
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
x = 3

[State 1110, Hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = S, SA
animtype = Medium
damage = 10,5
getpower = 63
priority = 7
guardflag = MAF ; MA
sparkno = S8001
;guard.sparkno = S8050
sparkxy = -40,-30
pausetime = 11,12
hitsound = S200,2
guardsound = S11,1
ground.type = Low
ground.slidetime = 18
ground.hittime = 18
ground.velocity = -5
air.velocity = -5,-6
air.animtype = Back
fall.recover = 0

[State 1110, Hit2]
type = HitDef
trigger1 = AnimElem = 3
attr = S, SA
animtype = Medium
damage = 10,5
getpower = 50
guardflag = MAF ; MA
priority = 7
sparkno = S8001
;guard.sparkno = S8050
sparkxy = -50,-50
pausetime = 7,8
hitsound = S200,2
guardsound = S11,2
ground.type = Low
ground.slidetime = 13
ground.hittime = 13
ground.velocity = -5,-6.5  ; X -4 Y  -6
air.velocity = -5,-6
air.animtype = Back
fall = 1
fall.recover = 0

[State 1110, Explod]
type = Explod
triggerall = movehit
trigger1 = AnimElem != 3
anim = 8018
postype = p1
pos = 60,-70
ontop = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = 50

[State 1110, Explod]
type = Explod
triggerall = moveguarded
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
anim = 8050
postype = p2
pos = 0,-58
ontop = 1
;bindtime = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = 50

[State 1110, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 8139
postype = p1
pos = 65,-50
ontop = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 1100, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 1104

;----------------------------------
;-mega uppercut il volo (forte)
[Statedef 1104]
type = A
movetype = A
physics = A
juggle = 2
anim = 1104
velset = 1,-16.5

[State 10010, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 15
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub
time = 15

[State 10010, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(6) < 2
time = 2

;[State 10010, Blink Color]
;type = PalFX
;trigger1 = Time = 0
;time = 20
;sinadd = 50,50,50,8                   ;cosi' si colora (grigio) e lascia una scia nera

[State 1104, 0]
type = varset
trigger1 = movehit
var(3) = 1

[State 1104, 1]
type = varset
trigger1 = time = 0
var(2) = 0

[State 1104, 2]
type = VelAdd
trigger1 = Time < 20
y = 0.45

[State 1104, polverone]        ;polverone per terra
type = Explod
trigger1 = AnimElem = 1 
anim = 8120  
postype = p1
pos = 2, 12                
supermove = 1
ontop = 1
sprpriority = 3
ownpal = 1
shadow = -1
vel = -1.5
scale = .5, .5
pausemovetime = 9999


[State 1104, polverone]        ;polverone per terra (opposto)
type = Explod
trigger1 = AnimElem = 1
anim = 8120  
postype = p1
pos = -2, 12                 
supermove = 1
ontop = 1
sprpriority = 3
facing = -1
ownpal = 1
shadow = -1
vel = 1.5
scale = .5, .5
pausemovetime = 9999


[State 1104, Hit1]
type = HitDef
trigger1 = AnimElem = 1
attr = A, SA
animtype = Hard
damage = 10,3
getpower = 45
priority = 7
sparkno = S8018
guard.sparkno = S8050
sparkxy = -10,-90
hitflag = MAF
guardflag = MAF
yaccel = 0.5
pausetime = 7,8
hitsound = S210,2
guardsound = S11,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -1.5,-10
air.velocity = -1.5,-10
air.animtype = Back
fall = 1
fall.recover = 0

[State 1104, Hit2]
type = HitDef
trigger1 = AnimElem = 4
attr = A, SA
animtype = Hard
damage = 10,3
getpower = 45
priority = 7
sparkno = S8018
guard.sparkno = S8050
sparkxy = -10,-90
hitflag = MAF
guardflag = MAF
yaccel = 0.5
pausetime = 7,8
hitsound = S210,2
guardsound = S11,1
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -1.5,-10
air.velocity = -1.5,-10
air.animtype = Back
fall = 1
fall.recover = 0


[State 1104, Hit3]
type = HitDef
trigger1 = AnimElem = 10
attr = A, SA
animtype = Hard
damage = 10,3
getpower = 45
priority = 7
sparkno = S8018
guard.sparkno = S8050
sparkxy = -10,-90
hitflag = MAF
guardflag = MAF
yaccel = 0.5
pausetime = 7,8
hitsound = S210,2
guardsound = S11,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -1.5,-10
air.velocity = -1.5,-10
air.animtype = Back
fall = 1
fall.recover = 0
p1stateno = 305

[State 1104, Hit4]
type = HitDef
trigger1 = AnimElem = 13
attr = A, SA
animtype = Hard
damage = 20,3
getpower = 45
priority = 7
sparkno = S8018
guard.sparkno = S8050
sparkxy = -10,-90
hitflag = MAF
guardflag = MAF
yaccel = 0.5
pausetime = 25,15
hitsound = S210,2
guardsound = S11,2
ground.type = Low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -5,-10
air.velocity = -1.5,-10
air.animtype = Back
fall = 1
fall.recover = 0


[State 1104, 4]
type = varset
trigger1 = animtime = 0
var(1) = 0

[State 1110, Explod]
type = Explod
trigger1 = AnimElem = 1, =5
anim = 8138

;--------------------------------------------------------------
;-balzocrudo
[Statedef 48]
type    = S
movetype= A
physics = S
poweradd= 110
velset = 0,0
juggle  = 5
anim = 48
ctrl = 0

[State 48, 0]
type = NotHitBy
trigger1 = Time = 0
value = SCA

[State 48, SE]      ;urlo di ella
type = PlaySnd
trigger1 = Time = 1
value = 1100, 0


[State 48, SE]
type = PlaySnd
trigger1 = AnimElem = 2
trigger1 = MoveHit = 0 
value = 41, 1              ;effetto sibilo


[State 48, PA]          ;comincia a spostarsi
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 4
trigger3 = AnimElem = 5
x = 3

[State 48, Explod]
type = Explod
triggerall = movehit
trigger1 = AnimElem != 1
anim = 8018
postype = p1
pos = 60,-70
ontop = 1
bindtime = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = 50

[State 48, Explod]
type = Explod
triggerall = moveguarded
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
anim = 8050
postype = p2
pos = 0,-58
ontop = 1
;bindtime = 1
ownpal = 1
ignorehitpause = 1
pausemovetime = 50

[State 48, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 8139
postype = p1
pos = 65,-50
ontop = 1
bindtime = -1
ownpal = 1
ignorehitpause = 1
pausemovetime = 9999

[State 48, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 49

;----------------------------------
;-balzocrudo salto
[Statedef 49]
type = A
movetype = A
physics = A
juggle = 2
anim = 49
velset = 4,-13.5

[State 49, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 15
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub
time = 15

[State 49, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(6) < 2
time = 2

;[State 49, Blink Color]
;type = PalFX
;trigger1 = Time = 0
;time = 20
;sinadd = 50,50,50,8                   ;cosi' si colora (grigio) e lascia una scia nera

[State 49, 0]
type = varset
trigger1 = movehit
var(3) = 1

[State 49, 1]
type = varset
trigger1 = time = 0
var(2) = 0

[State 49, 2]
type = VelAdd
trigger1 = Time < 20
y = 0.45

[State 49, polverone]        ;polverone per terra
type = Explod
trigger1 = AnimElem = 1 
anim = 8120  
postype = p1
pos = 2, 12                
supermove = 1
ontop = 1
sprpriority = 3
ownpal = 1
shadow = -1
vel = -1.5
scale = .5, .5
pausemovetime = 9999


[State 49, polverone]        ;polverone per terra (opposto)
type = Explod
trigger1 = AnimElem = 1
anim = 8120  
postype = p1
pos = -2, 12                 
supermove = 1
ontop = 1
sprpriority = 3
facing = -1
ownpal = 1
shadow = -1
vel = 1.5
scale = .5, .5
pausemovetime = 9999


[State 49, 4]
type = varset
trigger1 = animtime = 0
var(1) = 0

[State 49, Explod]
type = Explod
trigger1 = AnimElem = 1, =5
anim = 8138




;------------------------------------------------
;CALCIO SCEVROpic
[Statedef 1305]
type = A
movetype = A
physics = N
poweradd = 0
juggle = 3
ctrl = 0
anim = 1305
velset = 0,0

[State vel]                  ; _____FARE O NO? il veladd
type	= veladd
trigger1 = time = 0
x = 0
y = -5

[State 1305, Blink]
type = PalFX
trigger1 = Time = 0
time = 35
sinadd = 50,50,50,3

[State 1305, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 35

[State 10096, SE]      ;vento
type = PlaySnd
trigger1 = AnimElem = 1
value = 41,1         

[State 10096, SE]      ;vento
type = PlaySnd
trigger1 = AnimElem = 9
value = 41,1    

[State 10096, SE]      ;vento
type = PlaySnd
trigger1 = AnimElem = 17
value = 41,1              

[State 1305, SE]
type = PlaySnd
trigger1 = AnimElem = 3
value = 11016, 0
volume = -15

[State 1305, velset]
type = velset
trigger1 = animelem = 3
x = 0;6.5
y = 5.5

[State 1305, veladd]
type = veladd
trigger1 = animelem = 3, > 0
trigger1 = animelem != 4
y = .45

[State 1305, Freeze]                 
type = PosFreeze
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
trigger5 = AnimElem = 8
trigger6 = AnimElem = 9
trigger7 = AnimElem = 10


;[State 1305, CG]                 ;va a una anim speciale se p2 si para (!!!)
;type = ChangeState
;trigger1 = moveguarded
;value = 1301

[State 1305, CG]                 ; se non colpisce nessuno
type = ChangeState
trigger1 = Pos Y >= 0 && vel y > 0
value = 1302


[State 1305, Primo Calcio In Aria]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
hitflag = MAF ;HLA
animtype = HARD
damage = 43,13
guardflag = HLA
pausetime = 5,15
sparkno = S8018
guard.sparkno = S8050
sparkxy = 15,-38
hitsound = S200, 2
guardsound = S11,2
ground.type = low
ground.velocity = -6,6
air.velocity = -6,6
airguard.velocity = -2.5,-1
id = 1305
hitonce = 1
fall = 0
fall.recover = 0
forcestand = 1
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
getpower = 0,0
givepower = 21,21
air.juggle = 1
guard.pausetime = 5,11
guard.slidetime = 22
guard.hittime = 44
guard.ctrltime = 44
fall.yVelocity = -6.4
yaccel = .5
envshake.ampl = 6            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 15

[State 1305, secondo Calcio In Aria]
type = HitDef
trigger1 = AnimElem = 10
attr = A, SA
hitflag = MAF ;HLA
animtype = HARD
damage = 43,10
guardflag = HLA
pausetime = 5,15
sparkno = S8018
guard.sparkno = S8050
sparkxy = 15,-38
hitsound = S200, 2
guardsound = S11,2
ground.type = low
ground.velocity = -6,6
air.velocity = -6,6
airguard.velocity = -2.5,-1
id = 1305
hitonce = 1
fall = 0
fall.recover = 0
forcestand = 1
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
getpower = 0,0
givepower = 21,21
air.juggle = 1
guard.pausetime = 5,11
guard.slidetime = 22
guard.hittime = 44
guard.ctrltime = 44
fall.yVelocity = -6.4
yaccel = .5
envshake.ampl = 6            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 15

[State 1305, terzo Calcio In Aria]
type = HitDef
trigger1 = AnimElem = 18
attr = A, SA
hitflag = MAF ;HLA
animtype = HARD
damage = 43,10
guardflag = HLA
pausetime = 5,25
sparkno = S8018
guard.sparkno = S8050
sparkxy = 15,-38
hitsound = S200, 2
guardsound = S11,2
ground.type = low
ground.velocity = -6,6
air.velocity = -6,6
airguard.velocity = -2.5,-1
id = 1305
hitonce = 1
fall = 0
fall.recover = 0
forcestand = 1
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
getpower = 0,0
givepower = 21,21
air.juggle = 1
guard.pausetime = 5,11
guard.slidetime = 22
guard.hittime = 44
guard.ctrltime = 44
fall.yVelocity = -6.4
yaccel = .5
envshake.ampl = 6            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 15

[State 1305]
type = ChangeState
trigger1 = animtime = 0
Value = 1302
 


;------------------------------------------------
;CALCIO SCEVRO
[Statedef 1300]
type = A
movetype = A
physics = N
poweradd = 0
juggle = 3
ctrl = 0
anim = 1300
velset = 0,0

[State vel]                  ; _____FARE O NO? il veladd
type	= veladd
trigger1 = time = 0
x = 0
y = -5

[State 1300, Blink]
type = PalFX
trigger1 = Time = 0
time = 35
sinadd = 50,50,50,3

[State 1300, Afterimage]
type = AfterImage
trigger1 = Time = 0
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = Add
time = 35

[State 10096, SE]      ;vento
type = PlaySnd
trigger1 = AnimElem = 1
value = 41,1         

[State 10096, SE]      ;vento
type = PlaySnd
trigger1 = AnimElem = 9
value = 41,1    

[State 10096, SE]      ;vento
type = PlaySnd
trigger1 = AnimElem = 17
value = 41,1              

[State 1300, SE]
type = PlaySnd
trigger1 = AnimElem = 3
value = 11016, 0
volume = -15

[State 1300, velset]
type = velset
trigger1 = animelem = 3
x = 6.5
y = 5.5

[State 1300, veladd]
type = veladd
trigger1 = animelem = 3, > 0
trigger1 = animelem != 4
y = .45

[State 1300, Freeze]                 
type = PosFreeze
trigger1 = AnimElem = 4
trigger2 = AnimElem = 5
trigger3 = AnimElem = 6
trigger4 = AnimElem = 7
trigger5 = AnimElem = 8
trigger6 = AnimElem = 9
trigger7 = AnimElem = 10


;[State 1300, CG]                 ;va a una anim speciale se p2 si para (!!!)
;type = ChangeState
;trigger1 = moveguarded
;value = 1301

[State 1300, CG]                 ; se non colpisce nessuno
type = ChangeState
trigger1 = Pos Y >= 0 && vel y > 0
value = 1302


[State 1300, Primo Calcio In Aria]
type = HitDef
trigger1 = AnimElem = 2
attr = A, SA
hitflag = MAF ;HLA
animtype = HARD
damage = 43,13
guardflag = HLA
pausetime = 5,15
sparkno = S8018
guard.sparkno = S8050
sparkxy = 15,-38
hitsound = S200, 2
guardsound = S11,2
ground.type = low
ground.velocity = -6,6
air.velocity = -6,6
airguard.velocity = -2.5,-1
id = 1300
hitonce = 1
fall = 0
fall.recover = 0
forcestand = 1
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
getpower = 0,0
givepower = 21,21
air.juggle = 1
guard.pausetime = 5,11
guard.slidetime = 22
guard.hittime = 44
guard.ctrltime = 44
fall.yVelocity = -6.4
yaccel = .5
envshake.ampl = 6            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 15

[State 1300, secondo Calcio In Aria]
type = HitDef
trigger1 = AnimElem = 10
attr = A, SA
hitflag = MAF ;HLA
animtype = HARD
damage = 43,10
guardflag = HLA
pausetime = 5,15
sparkno = S8018
guard.sparkno = S8050
sparkxy = 15,-38
hitsound = S200, 2
guardsound = S11,2
ground.type = low
ground.velocity = -6,6
air.velocity = -6,6
airguard.velocity = -2.5,-1
id = 1300
hitonce = 1
fall = 0
fall.recover = 0
forcestand = 1
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
getpower = 0,0
givepower = 21,21
air.juggle = 1
guard.pausetime = 5,11
guard.slidetime = 22
guard.hittime = 44
guard.ctrltime = 44
fall.yVelocity = -6.4
yaccel = .5
envshake.ampl = 6            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 15

[State 1300, terzo Calcio In Aria]
type = HitDef
trigger1 = AnimElem = 18
attr = A, SA
hitflag = MAF ;HLA
animtype = HARD
damage = 43,10
guardflag = HLA
pausetime = 5,25
sparkno = S8018
guard.sparkno = S8050
sparkxy = 15,-38
hitsound = S200, 2
guardsound = S11,2
ground.type = low
ground.velocity = -6,6
air.velocity = -6,6
airguard.velocity = -2.5,-1
id = 1300
hitonce = 1
fall = 0
fall.recover = 0
forcestand = 1
guard.velocity = -12
guard.slidetime = 17
guard.hittime = 17
getpower = 0,0
givepower = 21,21
air.juggle = 1
guard.pausetime = 5,11
guard.slidetime = 22
guard.hittime = 44
guard.ctrltime = 44
fall.yVelocity = -6.4
yaccel = .5
envshake.ampl = 6            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 15


[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 1300]
type = ChangeState
trigger1 = animtime = 0
Value = 1302

;------------------------------------------------------------------------
;salto indietro
[Statedef 1301]
type = A
movetype = I
physics = A
poweradd = 0
ctrl = 0
anim = 1301
velset = 0,0

[State vel]
type	= veladd
trigger1 = time = 0
x = -4
y = -2

;-------------------------------------------------------------------------
;giano atterra
[StateDef 1302]
Type = S
MoveType = I
physics = S
anim = 1302
Ctrl = 0
PowerAdd = 0
velset = 0,0
FaceP2 = 0
HitDefPersist = 0
MoveHitPersist = 0
HitCountPersist = 0
SprPriority = 2

[State 1302, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 8506
postype = p1
pos = 0,0
ontop = 0
bindtime = 1
ownpal = 1
ignorehitpause = 1
;pausemovetime = 50

[State 1302, AfterImage]
type = AfterImagetime
trigger1 = time = 0
time = 0

[State 1302, Vel]
type = posset
trigger1 = time = 0
Y = 0

[State 1302, CG]
type = ChangeState
trigger1 = Animtime = 0
Value = 0
ctrl = 1

[State 1302, SE]         ;sfx atterro
type = PlaySnd
trigger1 = AnimElem = 1
value = 15060, 50
volume = 50

[State 1302, SE]         ;sfx atterro
type = PlaySnd
trigger1 = AnimElem = 1
value = 11, 2
volume = 250

;------------------------------------------------------------
;non balzo indietro dopo che colpisco (annullato)
[Statedef 1303]
type = A
movetype = I
physics = A
poweradd = 0
ctrl = 0
anim = 1303
velset = 0,0

[State 1303, vel]
type = veladd
trigger1 = time = 0
x = -7
y = -10



;---------------------------------------------------------------------
;-eggs crusher (debole)
[Statedef 1400]
type = A
movetype = A
physics = N
anim = 1400
velset = 0,.1
ctrl = 0
juggle = 2
poweradd = 30

[State 1400,0]
type = RemoveExplod
trigger1 = Time = 0
trigger1 = Var(9) = 1
trigger1 = NumExplod(2992) = 1
ID = 2992

[State 1400,1]
type = RemoveExplod
trigger1 = Time = 0
trigger1 = Var(9) = 1
trigger1 = NumExplod(2993) = 1
ID = 2993

[State 1400,4]
type = Hitdef
trigger1 = AnimElem = 3
attr = A, ST
hitflag = AF
guardflag = None
getpower = 50
givepower = 8
sparkno = -1
hitsound = S900, 0
p1stateno = 1402
p2stateno = 1420
p2getp1state = 1
p2facing = 1
fall = 1
air.recover = 0
fall.recover = 0

[State 1400,5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1401

;---------------------------------------------------------------------
;eggs crusher  torna a terra (liscio)
[Statedef 1401]
type = A
movetype = I
physics = N
anim = 1401

[State 1401]      ;vento
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,1         

[State 1401,0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 1401,1]
type = VelAdd
trigger1 = AnimElem = 2, >= 0
y = .8

[State 1401,2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1815

[Statedef 1815]
type = S
movetype = I
physics = S
velset = 0, 0

[State 1815,1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1815,2]
type = ChangeState
trigger1 = Time = 0
value = 12
ctrl = 1

;---------------------------------------------------------------------
; eggs crusher p1 rompe effettivamente l'uovo
[Statedef 1402]
type = A
movetype = A
physics = N
anim = 1402
velset = 0, 0


[State 1402]      ;vento
type = PlaySnd
trigger1 = AnimElem = 3
value = 41,1         

[State 1402]      ;vento caduta
type = PlaySnd
trigger1 = AnimElem = 7
value = 41,0         

[State 1402]      ;cick
type = PlaySnd
trigger1 = AnimElem = 1
value = 800,0

[State 1402, Explod]     
type = Explod
trigger1 = AnimElem = 1
anim = 8007
pos = 0,-100
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 1402,2]
type = VarSet
trigger1 = Time = 0
v = 3
value = 1

[State 1402,3]
type = TargetBind
trigger1 = 1
pos = 0,0

[State 1402,9]
type = VelSet
trigger1 = AnimElem = 1
y = -2;2.0                   eccolo sale

[State 1402,10]
type = VelAdd
trigger1 = AnimElem = 5, >= 0
y = 2                           ;eccolo scende

[State 1402,11]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1540
ctrl = 0

;---------------------------------------------------------------------
; eggs crusher l'uovo è stato preso (p2)
[Statedef 1420]
type = A
movetype = H
physics = N
velset = 0, 0
ctrl = 0

[State 1420,0]
type = VarSet
trigger1 = Time = 0
v = 4
value = 1

[State 1420,1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1420

[State 1420,2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1431

;------------------------------------------
[Statedef 1431]
type = A
movetype = H
physics = N
velset = 0, 0
ctrl = 0

[State 1420,1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1431

[State 1431]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1432                          ;value = 5100

;[State 1590,2]
;type = SelfState
;trigger1 = AnimTime = 0      ;Pos Y >= 0
;value = 5100
;ctrl = 1

;[State 1431, CS]
;type = ChangeState
;Trigger1 = AnimTime = 0
;value = 0
;ctrl = 1

;------------------------------------------
[Statedef 1432]
type = L
movetype = H
physics = N
velset = 0, 0
ctrl = 0

[State 1432, PosSet]  
type = PosSet
trigger1 = Time = 0
y = 0

[State 1432,1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1432

[State 1432,2]
type = SelfState
trigger1 = AnimTime = 0
value = 5120                  ;5100              ;5110
ctrl = 0


;---------------------------------------------------------------------
; eggs crasher sub - salto indietro del del p1
[Statedef 1540]
type = A
movetype = A
physics = N
velset = 0,0
anim = 1403

[State 1403, SE]      ;coccida
type = PlaySnd
trigger1 = AnimElem = 1      
value = 310,0         

[State 1403, SE]      ;botto
type = PlaySnd
trigger1 = AnimElem = 2       
value = 10005,0         

[State 1403, SE]      ;saltino indietro
type = PlaySnd
trigger1 = AnimElem = 10       
value = 210,1  

[State 1403, Explod]     ; botto a terra
type = Explod
trigger1 = AnimElem = 1
anim = 8022
pos = 0,0
postype = p1
ownpal = 1
;shadow = -1
sprpriority = 5
ontop = 1  

[State 1403, Explod]  ; cocci   
type = Explod
trigger1 = AnimElem = 3
anim = 8104
pos = 0,0
postype = p1
ownpal = 1
;shadow = -1
sprpriority = 5
ontop = 1            

[State 1403, Explod]     
type = Explod
trigger1 = AnimElem = 1
anim = 8506
pos = 0,0
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5


[State 1540,1]
type = GameMakeAnim
trigger1 = Time = 1
value = 61
under = 1


[State 1540,3]
type = EnvShake
trigger1 = Time = 0
time = 35

[State 1540,4]
type = TargetLifeAdd
triggerall = Var(5) = 0
trigger1 = Time = 0
trigger1 = Var(2) = 0
trigger1 = Var(3) = 0
value = -150

[State 1540,5]
type = TargetLifeAdd
triggerall = Var(5) = 0
trigger1 = Time = 0
trigger1 = Var(2) = 1
trigger1 = Var(3) = 0
value = -200

[State 1540,6]
type = TargetLifeAdd
triggerall = Var(5) = 0
trigger1 = Time = 0
trigger1 = Var(2) = 0
trigger1 = Var(3) = 1
value = -120

[State 1540,7]
type = TargetLifeAdd
triggerall = Var(5) = 1
trigger1 = Time = 0
trigger1 = Var(2) = 0
trigger1 = Var(3) = 0
value = -180

[State 1540,8]
type = TargetLifeAdd
triggerall = Var(5) = 1
trigger1 = Time = 0
trigger1 = Var(2) = 1
trigger1 = Var(3) = 0
value = -250

[State 1540,9]
type = TargetLifeAdd
triggerall = Var(5) = 1
trigger1 = Time = 0
trigger1 = Var(2) = 0
trigger1 = Var(3) = 1
value = -150

[State 1540,10]
type = VarSet
trigger1 = Time = 1
v = 2
value = 0

[State 1540,11]
type = VarSet
trigger1 = Time = 1
v = 3
value = 0

[State 1540,12]
type = PosSet
trigger1 = Time = 0
y = 0


[State 1540,14]
type = VelSet
trigger1 = AnimElem = 10
x = -6.5
y = -6.5

[State 1540,15]
type = VelSet
trigger1 = AnimElem = 14
x = -6.5
y = 6.5

[State 1540,16]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y > 0
value = 1550

;------------------------------------
;stato di passaggio alla stand del p1
[Statedef 1550]
type = S
movetype = I
physics = S
velset = 0,0

[State 1550,1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1550,2]
type = ChangeState
trigger1 = Time = 0
value = 12
ctrl = 1

;---------------------------------------------------------------------
;-eggs crusher FORTE
[Statedef 1444]
type = A
movetype = A
physics = N
anim = 1400
velset = 0,.1
ctrl = 0
juggle = 2
poweradd = 30

[State 1444,0]
type = RemoveExplod
trigger1 = Time = 0
trigger1 = Var(9) = 1
trigger1 = NumExplod(2992) = 1
ID = 2992

[State 1444,1]
type = RemoveExplod
trigger1 = Time = 0
trigger1 = Var(9) = 1
trigger1 = NumExplod(2993) = 1
ID = 2993

[State 1444,4]
type = Hitdef
trigger1 = AnimElem = 3
attr = A, ST
hitflag = AF
guardflag = None
getpower = 50
givepower = 8
sparkno = -1
hitsound = S900, 0
p1stateno = 1445
p2stateno = 1420
p2getp1state = 1
p2facing = 1
fall = 1
air.recover = 0
fall.recover = 0

[State 1444,5]
type = ChangeState
trigger1 = AnimTime = 0
value = 1401

;---------------------------------------------------------------------
;eggs crusher  torna a terra
[Statedef 1401]
type = A
movetype = I
physics = N
anim = 1401

[State 1401]      ;vento
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,1         

[State 1401,0]
type = AfterImageTime
trigger1 = Time = 0
time = 0

[State 1401,1]
type = VelAdd
trigger1 = AnimElem = 2, >= 0
y = .8

[State 1401,2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1815

;-----------------------------------------
[Statedef 1815]
type = S
movetype = I
physics = S
velset = 0, 0

[State 1815,1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1815,2]
type = ChangeState
trigger1 = Time = 0
value = 12
ctrl = 1

;---------------------------------------------------------------------
; eggs crusher rompe effettivamente l'uovo
[Statedef 1445]
type = A
movetype = A
physics = N
anim = 1445
velset = 0, 0

[State 1445]      ;vento
type = PlaySnd
trigger1 = AnimElem = 3
value = 41,1         

[State 1445]      ;vento caduta
type = PlaySnd
trigger1 = AnimElem = 7
value = 41,0         

[State 1445]      ;cick
type = PlaySnd
trigger1 = AnimElem = 1
value = 800,0

[State 1445, Explod]     
type = Explod
trigger1 = AnimElem = 1
anim = 8007
pos = 0,-100
postype = p1
ownpal = 1
shadow = -1
sprpriority = 5
ontop = 1

[State 1445,2]
type = VarSet
trigger1 = Time = 0
v = 3
value = 1

[State 1445,3]
type = TargetBind
trigger1 = AnimElem = 1
pos = 0,0

[State 1445,4]
type = TargetBind
trigger1 = AnimElem = 2
trigger2 = AnimElem = 6
pos = 0,0

[State 1445,5]
type = TargetBind
trigger1 = AnimElem = 3
trigger2 = AnimElem = 7
pos = 0,0

[State 1445,6]
type = TargetBind
trigger1 = AnimElem = 4
pos = 0,0

[State 1445,7]
type = TargetBind
trigger1 = AnimElem = 5
pos = 0,0

[State 1445,8]
type = TargetBind
trigger1 = AnimElem = 8
pos = 0,0

[State 1445,9]
type = VelSet
trigger1 = AnimElem = 1
y = -5;2.0                   eccolo sale

[State 1445,10]
type = VelAdd
trigger1 = AnimElem = 5, >= 0
y = 4                           ;eccolo scende

[State 1445,11]
type = ChangeState
trigger1 = Pos Y >= 0
trigger1 = Vel Y >= 0
value = 1540

;---------------------------------------------------------------------
; eggs crusher l'uovo è stato preso
[Statedef 1420]
type = A
movetype = H
physics = N
velset = 0, 0
ctrl = 0

[State 1815,1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 1420,0]
type = VarSet
trigger1 = Time = 0
v = 4
value = 1

[State 1420,1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1420

[State 1420,2]
type = ChangeState
trigger1 = Pos Y >= 0
value = 1431

;---------------------------------
;eggs crusher p2 a terra
[Statedef 1431]
type = A
movetype = H
physics = N
velset = 0, 0
ctrl = 0

[State 1420,1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1431

[State 1431]
type = SelfState
Trigger1 = AnimTime = 0
value = 5100

;[State 1431]
;type = ChangeState
;trigger1 = Pos Y >= 0
;value = 5100

;[State 1431, CS]
;type = ChangeState
;Trigger1 = AnimTime = 0
;value = 0
;ctrl = 1

;----------------------------------------------------------------
;-Ti prendo in aria
[Statedef 3000]
type    = S
movetype= A
physics = S
poweradd=110
velset = 0,0
juggle  = 1
anim = 3000
ctrl = 0
sprpriority = 2

[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit


[State 3000, Explod]         
type = Explod
trigger1 = AnimElem = 4
anim = 8131
pos = 0, -40
postype = p1
sprpriority = 6
bindtime = 1
ownpal = 1


[State 3000, Explod]         
type = Explod
trigger1 = AnimElem = 12
anim = 8132
pos = -10, -10
postype = p1
sprpriority = 6
bindtime = 1
ownpal = 1

[State 3000, 1]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 3000, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 1

[State 3000, Blink]  ;si colora bello chiaro
type = PalFX
trigger1 = AnimElem = 1
time = 15
sinadd = 50,50,50,3

[State 3000, SE]         ;voce
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,0
volume = 70

[State 3000, SE]
type = PlaySnd
trigger1 = AnimElem = 3
value = 6000, 0
volume = -50

[State 3000, HitDef]
type = HitDef
Trigger1 = p2bodydist Y < 0
Trigger1 = AnimElem = 3
attr = S, HT         
hitflag = MAF         
priority = 1, Miss    
pausetime = 0,0
sparkno = 50          
sparkxy = 0,-75
hitsound   = s800,0
sprpriority = 1
p1stateno = 3001      
p2stateno = 3002            
fall = 1  

[State 10100, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


[State 3000, Proj]
type = Projectile
trigger1 = Time = 11
projanim = 3002
offset = 0, 0          ;0,-35
velocity = 0.2, 0.2
projremovetime = 10
attr = A, SP
animtype  = medium
getpower = 0,0
givepower = 20,10
damage    = 58,6
guardflag = MA
hitflag = MAF
pausetime = 10,15        
sparkno = S8516       
guard.sparkno = S8050
sparkxy = 100,-100          
hitsound   = s17012, 0
volume = 200
guardsound =  6,0        
ground.type = Low
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -1,-8.5
airguard.velocity = -3.5      
air.velocity = -0.5,-5.5
air.juggle = 5
;air.hittime  = 20
fall = 1
fall.recover = 1
palfx.time = 60
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 16
envshake.ampl = -6
envshake.freq = 90


[State 3000, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 3000, Proj]
type = Projectile
trigger1 = Time = 44
projanim = 3003
offset = 0, 0         
velocity = 0.05, 0
projremovetime = 10
attr = A, SP
animtype  = Hard
getpower = 0,0
givepower = 20,10
damage    = 58,6
guardflag = MA
hitflag = MAF
pausetime = 5,25        
sparkno = S8500        ;S3106 
guard.sparkno = S8050
sparkxy = 90,-120          
hitsound   = s1100,2
guardsound =  6,0        
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -12.5,12.5        
airguard.velocity = -3.5      
air.velocity = -12.5,12.5     
air.juggle = 3
fall = 1
fall.recover = 1
palfx.time = 60
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1
envshake.time = 5
envshake.ampl = -6
envshake.freq = 90
fall.envshake.time = 12
fall.envshake.ampl = -4
fall.envshake.freq = 90

[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 3000, SE]         ;voce
type = PlaySnd
trigger1 = AnimElem = 12
value = 6000,0
volume = 70

[State 3000, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;=============================================================
;-AORISTO PUNCH (super a uno)
[Statedef 3100, Aoristo Punch]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3100
ctrl = 0
poweradd = -1000

[State 310, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 1

[State 3100, VarSet]
type = VarSet
trigger1 = var(10) = 1
var(10) = 0

[State 3100, SE]
type = PlaySnd
trigger1 = time = 0
value = 700, 1

[State 3100, SE]        ;voce
type = PlaySnd
trigger1 = AnimElem = 1
value = 3100, 1;
channel = 0

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 3
value = 640, 0
volume = 150

[State 3100, Explod]
type = Explod
trigger1 = Time = 0        
anim = 4000
pos = -30, -85
postype = p1
supermove = 1
sprpriority = 2
bindtime = 1

[State 3100, Explod]
type = Explod
trigger1 = Time = 0       
anim = 4001
pos = -30, -85
postype = p1
supermove = 1
supermovetime = 9999
pausemovetime = 9999
under = 1

[State 3100, SP]
type = SuperPause
trigger1 = Time = 0
time = 30
;Movetime = 20
anim = -1
unhittable = 1

[State 3100, SE]
type = EnvShake
trigger1 = AnimElem = 3
time = 25
ampl = 12
freq = 90

[State 3100, VS]
type = VelSet
trigger1 = AnimElem = 3
;trigger1 = P2Dist X >= 25
x = 8

[State 3100, SE]
type = PlaySnd
trigger1 = Animelem = 3
value = 10005, 0
volume = 175

[State 3100, Proj]     
type = Projectile
trigger1 = Animelem = 3
projanim = 3110
ID = 3110
;projhitanim = 8511
offset = 60, 0
;velocity = 25, 0
projhits = 15
projpriority = 7
projremove = 0
projremovetime = 30
attr = A, HP
animtype  = diagup
getpower = 0,0
givepower = 10,5
damage    = 27,5
guardflag = MA
hitflag = MAF
pausetime = 0,15
sparkno = S8018
guard.sparkno = S8050
sparkxy = 50, -55
;random = 20, 80
;hitsound   = s3100,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -8,-5.5 
air.velocity = -2.5,-5.5
p2stateno = 3101
fall = 1

;[State 3100, Explod]
;type = Explod
;trigger1 = HitCount > 0  
;trigger1 = HitCount < 15      
;anim = 8018
;pos = 0, -55
;postype = p2
;supermove = 1
;sprpriority = 2
;bindtime = 1


[State 3100, Explod]
type = Explod
triggerall = P2movetype = H
trigger1 = Time = 30
;trigger1 = HitCount > 1      
anim = 8511
pos = 0, -55
postype = p2
supermove = 1
sprpriority = 7
bindtime = 1


[State 3100, VelSet]
type = VelSet
triggerall = BackEdgeDist < 20
trigger1 = AnimElemTime(26) >= 0
x = 4

;[State 3100, PosAdd]         ;riallineamento del p1
;type = PosAdd
;trigger1 = AnimTime = 0
;x = -44
;y = 0

[State 3100, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------
;Aoristo Punch Subimento p2
[Statedef 3101]
type = A
movetype = H
physics = N
anim = 5030
velset = 0, 0
ctrl = 0


[State 3101,Pause]
type = Pause
trigger1 = Time = [12,22] 
trigger1 = RoundState = 2
time = 1
darken = 1

[State 3101,ChangeAnim]
type = ChangeAnim
trigger1 = HitShakeOver
persistent = 0
value = IfElse(SelfAnimExist(5052),5052,5050)

[State 3101,VelSet]
type = VelSet
trigger1 = HitShakeOver
persistent = 0
x = -6.0
y = -7.0

[State 3101,Gravity]
type = Gravity
trigger1 = HitShakeOver

[State 3101,ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y > 0 
trigger1 = Anim = 5050 || Anim = 5052
trigger1 = SelfAnimExist(5062)
value = 5062

[State 3101,SelfState]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;-------------------------------------------------------------
;-PERFETTO PUNCH (super a due)
[Statedef 3160, Perfetto Punch]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3160
juggle = 3
ctrl = 0
poweradd = -2000

[State 310, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 1

[State 3160, VarSet]
type = VarSet
trigger1 = var(10) = 1
var(10) = 0

[State 3160, EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 248,248,248
time = 2
under = 1

[State 3100, SE]           ;parolina
type = PlaySnd
trigger1 = Time = 0
value = 11011, 2
;volume = 0

[State 3160, EnvColor]
type = EnvColor
trigger1 = AnimElem = 1, =3
value = 0,0,0
time = 50
under = 1

[State 3060, SE]
type = PlaySnd
trigger1 = AnimElem = 1, =3
value = 41, 0
voluem = -25

[State 3060, SE]        ;sfx super a due
type = PlaySnd
trigger1 = AnimElem = 1, =3
value = 3000, 1
volume = 50

[State 3060, Explod]   ;flash super davanti
type = Explod
trigger1 =  AnimElem = 1, =3      
anim = 4003
pos = -30, -85
postype = p1
supermove = 1
supermovetime = 9999
pausemovetime = 9999
sprpriority = 2
bindtime = 1

[State 3060, Explod]     ;flash super in fondo
type = Explod
trigger1 = AnimElem = 1, =3    
anim = 4002
pos = -30, -85
postype = p1
supermove = 1
supermovetime = 9999
pausemovetime = 9999
under = 1

[State 3060, SP]
type = SuperPause
trigger1 = AnimElem = 1, =3
time = 50
;Movetime = 5
anim = -1
unhittable = 1

[State 3160, BGPALFX]       ;inversione colori schermo
type = BGPalFX
trigger1 = AnimElemTime(1) > 2           
trigger1 = AnimElemTime(55) < 3
time = 1
invertall = 1
value = 0
ignorehitpause = 1
scale = 1.08, 1.08

[State 3060, SE]
type = EnvShake
trigger1 = AnimElem = 1, =3
ampl = 8
time = 30

[State 3160, SE]
type = PlaySnd
trigger1 = AnimElem = 16
value = 1100, 2;SE

[State 3160, SE]
type = PlaySnd
trigger1 = AnimElem = 16
trigger2 = AnimElem = 30
value = 17022, 0        ; Cannon!

[State 3060, SE]
type = EnvShake
trigger1 = AnimElem = 3
ampl = 10
time = 12
freq = 110

[State 3160, VS]
type = VelSet
trigger1 = AnimElem = 3
x = 8

[State 3160, Primo Proj]     
type = Projectile
trigger1 = Animelem = 3
projanim = 8507
ID = 8507
;projhitanim = 8511
offset = 90, -80
velocity = 2, 0
projhits = 30
projpriority = 7
projremove = 0
projremovetime = 55
attr = A, HP
animtype  = hard
getpower = 0,0
givepower = 10,5
damage    = 10,1             ;280,50
guardflag = MAF
hitflag = MAF            ;M         ;MAF
pausetime = 0,35
sparkno = S20000
guard.sparkno = S8050
sparkxy = 20, 0
;hitsound   = s3100,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -3.2,-5.5
air.velocity = -3.2,-5.5
;p2stateno = 3101
fall = 1
;fall.recover = 0

[State 3100, SE]
type = PlaySnd
trigger1 = Animelem = 3
value = 10005, 0
volume = 255

[State 3100, SE]        ;FINAL FLASH!!!
type = PlaySnd
trigger1 = AnimElem = 6
value = 3100, 1;
volume = 120
channel = 0

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 3
value = 41, 1
voluem = 50

[State 3160, Explod]       
type = Explod
trigger1 = ProjHit = 1
trigger1 = Animelem = 3, =1
anim = 8500
ID = 8500
pos = -10, -80
postype = p2
bindtime = 1
ownpal = 1
ontop = 1

;[State 3160, HitAdd]
;type = HitAdd
;trigger1 = Animelem = 4
;value = 30

[State 3160, Explod]       ;roba ventosa
type = Explod
trigger1 = AnimElem = 20
anim = 8133
pos = 0, -70
postype = p1
bindtime = 1
ownpal = 1
ontop = 1

[State 3160, Secondo Proj]     
type = Projectile
trigger1 = Animelem = 21
projanim = 3110
ID = 3110
;projhitanim = 8511
offset = 70,0
velocity = 0, 0
projhits = 15
projpriority = 7
projremove = 0
projremovetime = 30
attr = A, HP
animtype  = diagup
getpower = 0,0
givepower = 10,5
damage    = 22,5
guardflag = MAF
hitflag = MAF
pausetime = 0,15
sparkno = S8018
guard.sparkno = S8050
sparkxy = 30, -75
;random = 20, 80
;hitsound   = s3100,0
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 20
ground.velocity = -15,-5.5
air.velocity = -15.5,-5.5
p2stateno = 3102
fall = 1

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 21
value = 640, 0
volume = 150

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 21
value = 10130, 0
volume = 185

[State 3160, VS]
type = VelSet
trigger1 = AnimElem = 21
x = 10

[State 3160, EnvColor]
type = EnvColor
trigger1 = AnimElem = 21
time = 2
value = 248,248,248
under = 1
ignorehitpause = 1

[State 3060, SE]
type = EnvShake
trigger1 = AnimElem = 21
ampl = 18
time = 25
freq = 110

;[State 3160, VelSet]
;type = VelSet
;triggerall = BackEdgeDist < 20
;trigger1 = AnimElemTime(26) >= 0
;x = 4

[State 3160, PosAdd]         ;riallineamento del p1
type = PosAdd
trigger1 = AnimTime = 0
x = -23

[State 3100, Explod]
type = Explod
triggerall = P2movetype = H
trigger1 = Time = 95
anim = 8511
pos = -40, -75
postype = p2
supermove = 1
sprpriority = 7
bindtime = 1
ontop = 1

[State 3160, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------
;Perfetto Punch Subimento p2
[Statedef 3102]
type = A
movetype = H
physics = N
anim = 5030
velset = 0, 0
ctrl = 0


[State 3101,Pause]
type = Pause
trigger1 = Time = [12,22] 
trigger1 = RoundState = 2
time = 1
darken = 1

[State 3101,ChangeAnim]
type = ChangeAnim
trigger1 = HitShakeOver
persistent = 0
value = IfElse(SelfAnimExist(5052),5052,5050)

[State 3101,VelSet]
type = VelSet
trigger1 = HitShakeOver
persistent = 0
x = -21.0
y = -2

;[State 3101,VelAdd]
;type = VelAdd
;trigger1 = HitShakeOver
;persistent = 0
;x = -7
;y = -1


[State 3101,Gravity]
type = Gravity
trigger1 = HitShakeOver

[State 3101,ChangeAnim]
type = ChangeAnim
trigger1 = Vel Y > 0 
trigger1 = Anim = 5050 || Anim = 5052
trigger1 = SelfAnimExist(5062)
value = 5062

[State 3101,SelfState]
type = SelfState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 5100

;---------------------------------------------
;-Un Due Tre!
[Statedef 3165, Un Due Tre]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3165
juggle = 1
ctrl = 0
poweradd = 30

[State 310, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 1

[State 3165, Blink]  ;si colora bello chiaro
type = PalFX
trigger1 = AnimElem = 2
time = 10
sinadd = 50,50,50,3

[State 3165, Projcancel]          ;cancella la fireball con il suo proj finto
type = Projectile
trigger1 = AnimElem = 2
hitflag = P
attr = S, SP                     
persistent = 1
ignorehitpause = 1
persistent = 1
projanim = 301
projid = 301
projremovetime = 15
offset= 0, 0
postype = P1
bindtime = 1
;Vel = .0001
projsprpriority = 2
projpriority = 9999
ownpal = 1

[State 3165, Projeater]
type = Helper
trigger1 = AnimElem = 2
name = "ProjEater"
id = 301
stateno = 301
pos = -50,40
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1

[State 3165, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SA, NA,SA  
trigger1 = AnimElem = 2
pausetime = 9,18         
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit
envshake.time = 18
envshake.ampl = -3
envshake.freq = 178

[State 3165, VS]
type = VelSet
trigger1 = AnimElem = 4
;trigger1 = P2Dist X >= 25
x = 6

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 3
value = 41,0

[State 3165, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = hard
damage = 60,8
guardflag = HA
pausetime = 7,15
sparkno = S8018
guard.sparkno = S8060
sparkxy = 10,-70
hitsound   = s20,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4
envshake.ampl = 4            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 8

[State 3165, HitDef]
type = HitDef
trigger1 = AnimElem = 11
attr = S, NA
animtype  = Medium
damage = 30, 8
guardflag = MA
pausetime = 3,15
sparkno = S8018
guard.sparkno = S8060
sparkxy = 0,-80
hitsound  = S20,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -2.5,-4
envshake.ampl = 3            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 6

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 11
value = 210,1

[State 3165, Hitdef]
type = HitDef
trigger1 = AnimElem = 16
attr = S, NA
animtype  = Hard
damage    = 60,10
;hitflag = H
guardflag = MA
pausetime = 15,25
sparkno = S8018
guard.sparkno = S8060
sparkxy = 0,-80
hitsound   = S20,0
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -6,-5
air.velocity = -2.2,-3.2
envshake.ampl = 8            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 12
fall = 1

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 16
value = 41,1

[State 3165, EnvColor] 
type = EnvColor
trigger1 = MoveHit && AnimElem = 16
time = 2
value = 248,248,248
under = 1
ignorehitpause = 1

[State 3165, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 311
ctrl = 1

;---------------------------------------------
;-Quattro Cinque Sei...(uno STRONZO)
[Statedef 3166, Quattro Cinque Sei]
type    = S
movetype= A
physics = S
velset = 0,0
anim = 3166
ctrl = 0
poweradd = 30

[State 310, StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 1

[State 3166, Blink]  ;si colora bello chiaro
type = PalFX
trigger1 = AnimElem = 1
time = 9
sinadd = 50,50,50,3

[State 3166, Projcancel]          ;cancella la fireball con il suo proj finto
type = Projectile
trigger1 = AnimElem = 1
hitflag = P
attr = S, SP                     
persistent = 1
ignorehitpause = 1
persistent = 1
projanim = 301
projid = 301
projremovetime = 15
offset= 0, 0
postype = P1
bindtime = 1
;Vel = .0001
projsprpriority = 2
projpriority = 9999
ownpal = 1

[State 3166, Projeater]
type = Helper
trigger1 = AnimElem = 1
name = "ProjEater"
id = 301
stateno = 301
pos = -50,40
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1

[State 3166, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SA, NA,SA  
trigger1 = AnimElem = 1
pausetime = 9,18         
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit
envshake.time = 18
envshake.ampl = -3
envshake.freq = 178

[State 3166, VS]
type = VelSet
trigger1 = AnimElem = 2
trigger2 = AnimElem = 10
;trigger1 = P2Dist X >= 25
x = 6

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 3
value = 41,0

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 11
value = 210,1

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 16
value = 41,1

[State 3166, HitDef]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
animtype  = hard
damage = 40,8
guardflag = HA
pausetime = 7,15
sparkno = S8018
guard.sparkno = S8060
sparkxy = 10,-70
hitsound   = s20,0
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5.5
air.velocity = -2.5,-4
envshake.ampl = 8            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 8

[State 3166, HitDef]
type = HitDef
trigger1 = AnimElem = 11
attr = S, NA
animtype  = Medium
damage = 30, 8
guardflag = MA
pausetime = 3,15
sparkno = S8018
guard.sparkno = S8060
sparkxy = 0,-80
hitsound  = S20,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -7
air.velocity = -2.5,-4
envshake.ampl = 4            ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 6

[State 3166, Hitdef]
type = HitDef
trigger1 = AnimElem = 16
attr = S, NA
animtype  = diagup
damage    = 40,10
;hitflag = H
guardflag = MA
pausetime = 8,15
sparkno = S8018
guard.sparkno = S8060
sparkxy = 0,-80
hitsound   = S20,2
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -.5,-9
air.velocity = -.5,-9
envshake.ampl = 12           ;Parameters for shaking the screen on hit
envshake.freq = 178
envshake.time = 14
fall = 1

[State 3166, EnvColor] 
type = EnvColor
trigger1 = MoveHit && AnimElem = 16
time = 2
value = 248,248,248
under = 1
ignorehitpause = 1

[State 3166, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------
;TANTIPUGNI (Super a uno)
[Statedef 10001, Tantipugni]
type = S
movetype = A
physics = S
anim = 10001
velset = 0,0
poweradd = -1000
ctrl = 0

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 700,1

[State 3100, SE]             ;internazionale!
type = PlaySnd
trigger1 = AnimElem = 1
value = 10001,2
volume = 40



[State 10001, Explod]
type = Explod
trigger1 =  AnimElem = 1    
anim = 4000
pos = -40, -75
postype = p1
supermove = 1
sprpriority = 2
bindtime = 1

[State 10001, Explod]
type = Explod
trigger1 =  AnimElem = 1    
anim = 4001
pos = -40, -75
postype = p1
supermove = 1
supermovetime = 9999
pausemovetime = 9999
under = 1

[State 10001, SP]
type = SuperPause
trigger1 = AnimElem = 1
time = 40
;Movetime = 999
anim = -1
unhittable = 1

[State 10001, Afterimage]   ;la solita scia
type = AfterImage
trigger1 = AnimElem = 1
length = 10
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 1
Trans = sub
time = 2

[State 10001, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(88) < 3
time = 2

[State 1020, Blink]  ;si colora bello chiaro
type = PalFX
trigger1 = AnimElem = 4
time = 8
sinadd = 50,50,50,3

[State 10001, Projcancel]          ;cancella la fireball con il suo proj finto
type = Projectile
trigger1 = AnimElem = 2, >0
trigger1 = AnimElem = 4, <2
hitflag = P
attr = S, SP                     
persistent = 1
ignorehitpause = 1
persistent = 1
projanim = 301
projid = 301
projremovetime = 15
offset= 0, 0
postype = P1
bindtime = 1
;Vel = .0001
projsprpriority = 2
projpriority = 9999
ownpal = 1
getpower = 0,0

[State 10001, Projeater]
type = Helper
trigger1 = AnimElem = 2, >0
trigger1 = AnimElem = 4, <2
name = "ProjEater"
id = 301
stateno = 301
pos = -50,40
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1

[State 10001, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SA, NA,SA  
trigger1 = AnimElem = 2, >0
trigger1 = AnimElem = 4, <2
pausetime = 9,18         
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit
getpower = 0,0
envshake.time = 18
envshake.ampl = -3
envshake.freq = 178

[State 440, Explod]    ;polverino
type = Explod
trigger1 = AnimElem = 6
anim = 8003
sprpriority = 5
postype = p1
pos = -30,0
random = 0,0
;facing = -1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 10001, VS]
type = VelSet
triggerall = P2Dist X >= 40
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
x = 2   

[State 3100, SE]          ;HORAHORAHORA
type = PlaySnd
trigger1 = AnimElem = 16
value = 10001,0
volume = 100
channel = 0

[State 10003, HitDef]     ;colpi alti
type = HitDef
trigger1 = AnimElem = 16
trigger2 = AnimElem = 30
trigger3 = AnimElem = 42
trigger4 = AnimElem = 49
trigger5 = AnimElem = 61
trigger6 = AnimElem = 71
attr = S, HA
damage = 13,5
animtype = Hard
guardflag = M
hitflag = MAF
priority = 6, Hit
pausetime = 0,50                  
hitonce = 1
sparkno = S8018
guard.sparkno = S8060
sparkxy = -30, -80
hitsound = S20,0
guardsound = S11,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -22,-6
air.velocity = -20,-6
ground.cornerpush.veloff = 0     ;evita che venga spinto indietro
getpower = 0,0
givepower = 5,2
kill = 0
fall = 0
fall.recover = 0
yaccel = .5
mindist = 65,0                    ;50,-55
maxdist = 60,-10
envshake.time = 3
envshake.ampl = -6
envshake.freq = 90

[State 3100, SE]          ;sfx vento colpi
type = PlaySnd
trigger1 = AnimElem = 16
trigger2 = AnimElem = 25
trigger3 = AnimElem = 38
trigger4 = AnimElem = 50
trigger5 = AnimElem = 64
trigger6 = AnimElem = 75
value = 41,0
volume = -50

[State 10003, HitDef]     ;colpi bassi
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 25
trigger3 = AnimElem = 38
trigger4 = AnimElem = 44
trigger5 = AnimElem = 55
trigger6 = AnimElem = 67
attr = S, HA
damage = 13,5
animtype = Light
guardflag = M
hitflag = MAF
priority = 6, Hit
pausetime = 0,50                 ;24,24
hitonce = 1
sparkno = S8018
guard.sparkno = S8060
sparkxy = -30, -55
hitsound = S20,1
guardsound = S11,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -22,-6
air.velocity = -20,-6
ground.cornerpush.veloff = 0
getpower = 0,0
givepower = 3,2
kill = 0
fall = 0
fall.recover = 0
yaccel = .5
mindist = 75,0                    ;50,-55
maxdist = 60,-10
envshake.time = 3
envshake.ampl = -6
envshake.freq = 90

[State 3100, SE]          ;sfx vento colpi
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 30
trigger3 = AnimElem = 42
trigger4 = AnimElem = 55
trigger5 = AnimElem = 69
trigger6 = AnimElem = 80
value = 41,1
volume = -50

[State 10003, HitDef]     ;colpo  finale
type = HitDef
trigger1 = AnimElem = 76
attr = S, HA
damage = 60,25
animtype = DiagUp
guardflag = M
hitflag = MAF
priority = 6, Hit
pausetime = 0,25
hitonce = 1
sparkno = S8139          ;8511
guard.sparkno = S8060
sparkxy = -15, -70
hitsound = S10138
guardsound = S1020,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -2,-22
air.velocity = -20,-2
getpower = 0,0
givepower = 3,2
fall = 1
fall.recover = 0
yaccel = .5
mindist = 45,0                    
maxdist = 60,-10
envshake.time = 15
envshake.ampl = -12
envshake.freq = 90

[State 3100, SE]          ;sfx vento colpo finale
type = PlaySnd
trigger1 = AnimElem = 76
value = 640, 0
volume = -10

[State 3100, SE]          ;sfx vento ritorno
type = PlaySnd
trigger1 = AnimElem = 102
value = 200, 1

[State 3100, SE]          
type = PlaySnd
trigger1 = AnimElem = 102
value = 17020,0
volume = 100

[State 10004,Explod]
type = Explod
trigger1 = AnimElem = 89
anim = 8135
ID = 8135
pos = 55,0
postype = P1
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1

[State 3100, SE]             ;uacadi
type = PlaySnd
trigger1 = AnimElem = 75
value = 15060,50
volume = 150

[State 10001, END]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;--------------------------------------------------------
;-PROPRIOTANTIPUGNI (Super a DUE)
[Statedef 19500, ProprioTantipugni]
type = S
movetype = A
physics = S
anim = 19500
velset = 0,0
poweradd = -2000
sprpriority = 7
ctrl = 0

[State 3060, SE]        ;sfx super a due
type = PlaySnd
trigger1 = AnimElem = 1, =2
value = 3000, 1

[State 3100, SE]             ;stop toying with me!
type = PlaySnd
trigger1 = Time = 0
value = 15060,30
volume = 125

[State 19500,EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 248,248,248
time = 2
under = 1

[State 3060, Schermo Nero]
type = EnvColor
trigger1 = AnimElem = 1, =2
time = 52                   
value = 0,0,0
under = 1

[State 19500,Explod]
type = Explod
trigger1 = AnimElem = 1, =2
anim = 4003
ID = 4003
pos = -40,-75
postype = P1
sprpriority = 7
supermove = 1
ownpal = 1
bindtime = -1

[State 19500,Explod]
type = Explod
trigger1 = AnimElem = 1, =2
anim = 4002
ID = 4002
pos = -40,-75
postype = P1
sprpriority = -2
supermove = 1
ownpal = 1
bindtime = -1

[State 19500, SP]
type = SuperPause
trigger1 = AnimElem = 1, =2
time = 40
;pos = -5, -55
anim = -1
sound = 20, 0
unhittable = 1

[State 19500, BGPALFX]       ;inversione colori schermo
type = BGPalFX
trigger1 = AnimElemTime(2) > 0           
trigger1 = AnimElemTime(181) < 5
time = 1
invertall = 1
value = 0
ignorehitpause = 1
scale = 1.08, 1.08

[State 19500, SE]
type = EnvShake
trigger1 = AnimElem = 2
ampl = 8
time = 30

[State 10001, Afterimage]   ;la solita scia
type = AfterImage
trigger1 = AnimElem = 1
length = 10
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 1
Trans = sub
time = 2

[State 19500, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(159) < 3
time = 2

[State 19500, Blink]  ;si colora bello chiaro
type = PalFX
trigger1 = AnimElem = 4
time = 8
sinadd = 50,50,50,3

[State 19500, Projcancel]          ;cancella la fireball con il suo proj finto
type = Projectile
trigger1 = AnimElem = 2, >0
trigger1 = AnimElem = 5, <2
hitflag = P
attr = S, SP                     
persistent = 1
ignorehitpause = 1
persistent = 1
projanim = 301
projid = 301
projremovetime = 15
offset= 0, 0
postype = P1
bindtime = 1
;Vel = .0001
projsprpriority = 2
projpriority = 9999
ownpal = 1

[State 19500, Projeater]
type = Helper
trigger1 = AnimElem = 2, >0
trigger1 = AnimElem = 5, <2
name = "ProjEater"
id = 301
stateno = 301
pos = -50,40
postype = p1
helpertype = normal
keyctrl = 0
ownpal = 1

[State 19500, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SA, NA,SA  
trigger1 = AnimElem = 2, >0
trigger1 = AnimElem = 5, <2
pausetime = 9,18         
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit
envshake.time = 18
envshake.ampl = -3
envshake.freq = 178

[State 19500, Explod]    ;polverino
type = Explod
trigger1 = AnimElem = 6
anim = 8003
sprpriority = 5
postype = p1
pos = -30,0
random = 0,0
;facing = -1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 19500, VS]
type = VelSet
triggerall = P2Dist X >= 40
trigger1 = AnimElem = 6
trigger2 = AnimElem = 7
trigger3 = AnimElem = 8
x = 2  

[State 3100, SE]          ;HORAHORAHORA
type = PlaySnd
trigger1 = AnimElem = 25
value = 10001,0
volume = 100
channel = 0

[State 3100, SE]          ;HORARAHORA 2
type = PlaySnd
trigger1 = AnimElem = 70
value = 10001,1
volume = 100
channel = 0

[State 3100, SE]          ;sfx vento colpi
type = PlaySnd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 30
trigger3 = AnimElem = 42
trigger4 = AnimElem = 55
trigger5 = AnimElem = 69
trigger6 = AnimElem = 80
trigger7 = AnimElem = 101
trigger8 = AnimElem = 113
trigger9 = AnimElem = 126
trigger10 = AnimElem = 140
trigger11 = AnimElem = 151
value = 41,0
volume = -50

[State 3100, SE]          ;sfx vento colpi
type = PlaySnd
trigger1 = AnimElem = 16
trigger2 = AnimElem = 25
trigger3 = AnimElem = 38
trigger4 = AnimElem = 50
trigger5 = AnimElem = 64
trigger6 = AnimElem = 75
trigger7 = AnimElem = 87
trigger8 = AnimElem = 96
trigger9 = AnimElem = 109
trigger10 = AnimElem = 121
trigger11 = AnimElem = 135
trigger12 = AnimElem = 146
value = 41,1
volume = -50


[State 19504, Explod]    ;manina alta
type = Explod
trigger1 = AnimElem = 8
trigger2 = AnimElem = 30
trigger3 = AnimElem = 42
trigger4 = AnimElem = 55
trigger5 = AnimElem = 69
trigger6 = AnimElem = 80
trigger7 = AnimElem = 101
trigger8 = AnimElem = 113
trigger9 = AnimElem = 126
trigger10 = AnimElem = 140
trigger11 = AnimElem = 151
anim = 19600
ontop = 1
pos = 0,0
postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 19504, Explod]    ;manina bassa
type = Explod
trigger1 = AnimElem = 16
trigger2 = AnimElem = 25
trigger3 = AnimElem = 38
trigger4 = AnimElem = 50
trigger5 = AnimElem = 64
trigger6 = AnimElem = 75
trigger7 = AnimElem = 87
trigger8 = AnimElem = 96
trigger9 = AnimElem = 109
trigger10 = AnimElem = 121
trigger11 = AnimElem = 135
trigger12 = AnimElem = 146
anim = 19700
under = 1
pos = 0,0
postype = p1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 10003, HitDef]     ;colpi alti
type = HitDef
trigger1 = AnimElem = 16
trigger2 = AnimElem = 25
trigger3 = AnimElem = 38
trigger4 = AnimElem = 50
trigger5 = AnimElem = 64
trigger6 = AnimElem = 75
trigger7 = AnimElem = 87
trigger8 = AnimElem = 96
trigger9 = AnimElem = 109
trigger10 = AnimElem = 121
trigger11 = AnimElem = 135
trigger12 = AnimElem = 146
attr = S, HA
damage = 10,5
animtype = Hard
guardflag = M
hitflag = MAF
priority = 7, Hit
pausetime = 0,50                  
hitonce = 1
sparkno = S8516
guard.sparkno = S8060
sparkxy = -10, -55
hitsound = S210,2
guardsound = S11,1
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -22,-6
air.velocity = -20,-6
ground.cornerpush.veloff = 0     ;evita che venga spinto indietro
getpower = 0,0
givepower = 0,2
kill = 0
fall = 0
fall.recover = 0
yaccel = .5
mindist = 85,0                    ;50,-55
maxdist = 60,-10
p2facing = 1                     ;p2 deve sempre guardare il p1 in faccia
envshake.time = 3
envshake.ampl = -6
envshake.freq = 90

[State 10003, HitDef]     ;colpi bassi
type = HitDef
trigger1 = AnimElem = 8
trigger2 = AnimElem = 30
trigger3 = AnimElem = 42
trigger4 = AnimElem = 55
trigger5 = AnimElem = 69
trigger6 = AnimElem = 80
trigger7 = AnimElem = 101
trigger8 = AnimElem = 113
trigger9 = AnimElem = 126
trigger10 = AnimElem = 140
trigger11 = AnimElem = 151
attr = S, HA
damage = 10,5
animtype = Light
guardflag = M
hitflag = MAF
priority = 7, Hit
pausetime = 0,50                 ;24,24
hitonce = 1
sparkno = S8518
guard.sparkno = S8060
sparkxy = -10, -85
hitsound = S200,2
guardsound = S11,2
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -22,-6
air.velocity = -20,-6
ground.cornerpush.veloff = 0
getpower = 0,0
givepower = 3,2
kill = 0
fall = 0
fall.recover = 0
yaccel = .5
mindist = 75,0                    ;50,-55
maxdist = 60,-10
p2facing = 1                     ;p2 deve sempre guardare il p1 in faccia
envshake.time = 3
envshake.ampl = -6
envshake.freq = 90

[State 19500, HitDef]     ;uppercut
type = HitDef
trigger1 = AnimElem = 158
attr = S, HA
damage = 15,25
animtype = DiagUp
guardflag = M
hitflag = MAF
priority = 7
pausetime = 0,53
hitonce = 1
sparkno = S8511
guard.sparkno = S8060
sparkxy = -30, -75
hitsound = S210,2
guardsound = S11,2
ground.type = High
ground.slidetime = 30
ground.hittime  = 38
ground.velocity = -4,-5
air.velocity = -2,-9
getpower = 0,0
givepower = 3,2
fall = 1
fall.recover = 0
yaccel = .5
mindist = 50,-55
maxdist = 100,-10
envshake.time = 15
envshake.ampl = -12
envshake.freq = 90
p1stateno = 19501


[State 3100, SE]          ;sfx vento colpo finale
type = PlaySnd
trigger1 = AnimElem = 158
value = 640, 0
volume = -10

[State 3100, SE]          ;sfx vento ritono
type = PlaySnd
trigger1 = AnimElem = 173
value = 200,1

[State 3100, SE]          
type = PlaySnd
trigger1 = AnimElem = 173
value = 17020,0
voluem = 35

[State 19500,Explod]
type = Explod
trigger1 = AnimElem = 154
anim = 8506
ID = 8135
pos = 0,0
postype = P1
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1

[State 19500, SE]          ;parlo
type = PlaySnd
trigger1 = AnimElem = 40
value = 17008, 0
volume = 200


[State 19500, SE]          ;parlo
type = PlaySnd
trigger1 = AnimElem = 80
value = 17028, 0
volume = 200


[State 19500, END]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------
;PROPRIOTANTIPUGNI il p1 cresce e sputa
[Statedef 19501, ProprioTantipugni]
type = S
movetype = A
physics = S
anim = 19501
velset = 0,0
ctrl = 0

[State 19501,EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 248,248,248
time = 2
under = 1

[State 3060, Schermo Nero]
type = EnvColor
trigger1 = AnimElem = 9, =10
time = 52                   
value = 0,0,0
under = 1

[State 19501,Explod]
type = Explod
trigger1 = AnimElem = 9, =10
anim = 4003
ID = 4003
pos = 10,-130
postype = P1
sprpriority = 7
supermove = 1
ownpal = 1
bindtime = -1

[State 19501,Explod]
type = Explod
trigger1 = AnimElem = 9, =10
anim = 4002
ID = 4002
pos = 10,-130
postype = P1
sprpriority = -2
supermove = 1
ownpal = 1
bindtime = -1

[State 19501, SP]
type = SuperPause
trigger1 = AnimElem = 9, =10
time = 30
;pos = -5, -55
anim = -1
sound = 3000, 1
unhittable = 1

[State 19501, SP]
type = SuperPause
trigger1 = AnimElem = 9, =10
time = 30
;pos = -5, -55
anim = -1
sound = 20, 0
unhittable = 1




[State 19501, BGPALFX]       ;inversione colori schermo
type = BGPalFX
trigger1 = AnimElemTime(2) > 0           
trigger1 = AnimElemTime(181) < 5
time = 1
invertall = 1
value = 0
ignorehitpause = 1
scale = 1.08, 1.08

[State 19501, SE]
type = EnvShake
trigger1 = AnimElem = 10
ampl = 8
time = 30

[State 19501, SE]          
type = PlaySnd
trigger1 = time = 28
value = 3000,1
volume = 50
ignorehitpause = 1

[State 19501, BGPALFX]       ;inversione colori schermo
type = BGPalFX
trigger1 = AnimElemTime(1) > 0           
trigger1 = AnimElemTime(75) < 5
time = 2
invertall = 1
va[State 19501, TargetState]
type = TargetState
trigger1 = AnimElem = 11
;trigger2 = AnimElem = 16
trigger2 = AnimElem = 21
;trigger4 = AnimElem = 26
trigger3 = AnimElem = 31
;trigger6 = AnimElem = 36
trigger4 = AnimElem = 41
value = 19503lue = 0
ignorehitpause = 1
scale = 1.08, 1.08

[State 19501, SE]          ;botto
type = PlaySnd
trigger1 = AnimElem = 1
value = 11, 0
volume = 250
ignorehitpause = 1


[State 19501, HitDef]     ;sputo esplosivo finale
type = HitDef
trigger1 = AnimElem = 27
attr = S, HA
damage = 150,35
animtype = DiagUp
guardflag = M
hitflag = MAF
priority = 7
pausetime = 0,45
hitonce = 1
sparkno = S8130
guard.sparkno = S8060
sparkxy = 0, -100
hitsound = S10005,1
guardsound = 6,4
ground.type = High
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = -3,-3
air.velocity = -4,-4
getpower = 0,0
givepower = 3,2
fall = 1
fall.recover = 0
yaccel = .5
mindist = 50,-55
maxdist = 100,-10
envshake.time = 15
envshake.ampl = -12
envshake.freq = 90
palfx.time = 110
palfx.add = 40,-70,-200
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1

[State 19501, SE]          
type = PlaySnd
trigger1 = time = 1     ; aaaaschish
value = 15060,20
volume = 250
ignorehitpause = 1

[State 19501, SE]          
type = PlaySnd
trigger1 = time = 40     ; tusssse!
value = 15060,10
volume = 250
ignorehitpause = 1


[State 19501, SE]          ;urlo
type = PlaySnd
trigger1 = AnimElem = 23
value = 5000, 3
volume = 200

[State 19501, SE]          ;urlo
type = PlaySnd
trigger1 = AnimElem = 38
value = 17008, 0
volume = 150




[State 19501, SE]          ;botto
type = PlaySnd
trigger1 = AnimElem = 25
value = 11006, 0
volume = 150

[State 19501, SE]          ;mi gonfio
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, 2
volume = 60

[State 19501, SE]          ;mi sgonfio
type = PlaySnd
trigger1 = AnimElem = 44
value = 3000, 2
volume = 60

[State 19501, SE]          ;mi sgonfio
type = PlaySnd
trigger1 = AnimElem = 44
value = 10097, 0
volume = 150


[State 19501, SE]          ;sfx vento colpo finale
type = PlaySnd
trigger1 = AnimElem = 1
value = 640, 0
volume = -10

[State 19501, SE]          ;sfx vento ritono
type = PlaySnd
trigger1 = AnimElem = 27
value = 200,1

[State 19501, SE]          
type = PlaySnd
trigger1 = AnimElem = 27
value = 17020,0
voluem = 35

[State 19501,Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 8504
ID = 8504
pos = 0,10
postype = P1
sparkxy = -80, 0
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1

[State 19501,Explod]
type = Explod
trigger1 = AnimElem = 24
anim = 8506
ID = 8506
pos = 0,10
postype = P1
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1

[State 19501,Explod]
type = Explod
trigger1 = AnimElem = 25
anim = 8524
ID = 8524
pos = 110,15
postype = P1
sprpriority = 5
supermove = 1
ownpal = 1
bindtime = -1

[State 19501,Explod]
type = Explod
trigger1 = AnimElem = 28
anim = 8104
ID = 8104
pos = 100,-10
postype = P1
sprpriority = 4
supermove = 1
ownpal = 1
bindtime = -1


[State 19501, SE]           ;botto!
type = PlaySnd
trigger1 = AnimElem = 25
value = 11002,0
volume = 150

[State 19501, END]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;--------------------------------------------------------------------------------------
;-ImperoSadico (SUPER a DUE)
[Statedef 10050, impero]
type    = S
movetype= A
physics = S
juggle  = 3
poweradd= -2000
velset = 0,0
anim = 10050
ctrl = 0
sprpriority = 5

[State 10050, BGPALFX]       ;inversione colori schermo
type = BGPalFX
trigger1 = AnimElemTime(4) > 0           
trigger1 = AnimElemTime(181) < 5
time = 2         
invertall = 1
value = 0
ignorehitpause = 1
scale = 1.08, 1.08

[State 10050, SE]
type = EnvShake
trigger1 = AnimElem = 4
ampl = 8
time = 30

[State 10050,EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 248,248,248
time = 2
under = 1

[State 10050, Schermo Nero]
type = EnvColor
trigger1 = AnimElem = 1, =3
time = 52                   
value = 0,0,0
under = 1


[State 10050, Width]
type = Width
trigger1 = 1
edge = 0,50

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3000,1

[State 3100, SE]         ;voce
type = PlaySnd
trigger1 = AnimElem = 1
value = 10050,0

[State 10050, Explod]
type = Explod
trigger1 =  AnimElem = 4   
anim = 4003
pos = -20, -95
postype = p1
supermove = 1
ontop = 1
bindtime = 1

[State 10050, Explod]
type = Explod
trigger1 =  AnimElem = 4    
anim = 4002
pos = -20, -95
postype = p1
supermove = 1
supermovetime = 9999
pausemovetime = 9999
under = 1

[State 10050, SP]
type = SuperPause
trigger1 = AnimElem = 4
time = 40
;Movetime = 999
anim = -1
unhittable = 1

[State 10050, Friction]
type = VelAdd
trigger1 = AnimElem = 20
;trigger1 = time > 53
;trigger1 = time < 56
x = 3.85

[State 10010, SE]
type = PlaySnd
trigger1 = Time = 1
value = 640, 0
volume = -170

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 19
value = 41,1

[State 10010, SE]    ; ehya!
type = PlaySnd
trigger1 = AnimElem = 17
value = 17020, 0

[State 10050, Afterimage]
type = AfterImage
trigger1 = AnimElem = 14
length = 12
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub
time = 2

[State 10010, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(25) < 19
time = 2

[State 10050, 1]                      ;controlla che sfx e'
type = PlaySnd
trigger1 = Time = 2
value = 0, 3

[State 10060, Explod]
type = Explod
trigger1 = AnimElem = 19
anim = 8009
id = 8009
sprpriority = 5
pos = 0,0
;bindtime = 0
ownpal = 1
ignorehitpause = 1
ontop = 1


[State 10050, 5]
type = VelSet
trigger1 = AnimElem = 20
;trigger1 = time > 53
;trigger1 = time < 56
x = 25

[State 10050, Explod]
type = Explod
trigger1 = AnimElem = 20
anim = 8009
id = 8009
sprpriority = 1
pos = -30,5
bindtime = 1
supermovetime = -1
ownpal = 1
ontop = 1

[State 10050, Hit]
type = HitDef
trigger1 = AnimElem = 20
trigger2 = AnimElem = 21 
trigger3 = AnimElem = 23
persistent = 0
attr = S, HA
animtype = Hard
damage = 40,15
getpower = 58
sparkno = S8137
guard.sparkno = S8005
sparkxy = 10,-74
priority = 4
guardflag = M
yaccel = 0.5
pausetime = 5,10
hitsound = S1020,1
guardsound = S11,2
ground.type = Low
ground.slidetime = 5
ground.hittime = 18
ground.velocity = -7.5,8.5
guard.velocity = -3.5
air.velocity = -7.5,8.5
air.animtype = Back
fall = 1
fall.recover = 0
envshake.time = 15
envshake.ampl = -12
envshake.freq = 90
p1stateno = 10051
p2stateno = 10052
kill = 0

[State 10050, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------
;-Horatimeno (SUPER A 2) continuazione col P1 che da i calcioni 
[Statedef 10051]
type    = S
movetype= A
physics = S
juggle  = 3
velset = 0,0
anim = 10051
ctrl = 0
sprpriority = 2

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 10055
id = 10055
sprpriority = 7
pos = 0,0
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 5
anim = 8018
id = 8018
sprpriority = 7
pos = 60,-80
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1

[State 3100, SE]         ;estrazione
type = PlaySnd
trigger1 = AnimElem = 5
value = 210,2
volume = 55

[State 3100, SE]         ;risata
type = PlaySnd
trigger1 = AnimElem = 1
value = 15060,10
volume = 255

[State 3100, SE]         ;risata1
type = PlaySnd
trigger1 = AnimElem = 9
value = 15060,50
;volume = 255

[State 3100, SE]         ;risata2
type = PlaySnd
trigger1 = AnimElem = 18
value = 15060,50
;volume = 255

[State 3100, SE]         ;risata3
type = PlaySnd
trigger1 = AnimElem = 27
value = 15060,50
;volume = 255

[State 3100, SE]         ;risata4
type = PlaySnd
trigger1 = AnimElem = 35
value =  15070,0
volume = 255

[State 3100, SE]         ;impatto finale
type = PlaySnd
trigger1 = AnimElem = 38
value = 11002,0
volume = 155

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 11
value = 10130,0

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 20
value = 11006,0

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 29
value = 1020,1

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 53
value = 200,1
volume = -50

[State 10051, TargetBind]
type = TargetBind
trigger1 = Time = 0
time = 1
pos = 40,0

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 8506
id = 8506
sprpriority = 1
pos = 60,0
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 8520
id = 8520
sprpriority = 1
pos = 0,0
postype = p2
bindtime = 1
supermovetime = -1
ownpal = 1
supermove = 1

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 8520
id = 8520
sprpriority = 1
pos = 100,0
postype = p2
bindtime = 1
supermovetime = -1
ownpal = 1
supermove = 1

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 8520
id = 8520
sprpriority = 1
pos = -100,0
postype = p2
bindtime = 1
supermovetime = -1
ownpal = 1
supermove = 1




[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 8519
id = 8519
sprpriority = 3
pos = 0,0
postype = p2
bindtime = 1
supermovetime = -1
ownpal = 1
supermove = 1


[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 10
trigger2 = AnimElem = 20
trigger3 = AnimElem = 27
anim = 8506
id = 8506
sprpriority = 7
postype = p2
pos = 0,0
bindtime = 1
supermovetime = -1
ownpal = 1
ontop = 1


[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 10
trigger2 = AnimElem = 20
trigger3 = AnimElem = 27
anim = 8504
id = 8504
sprpriority = 7
postype = p1
pos = 50,0
bindtime = 1
supermovetime = -1
ownpal = 1
ontop = 1


[State 10051, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
length = 1
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub
time = 1

[State 10010, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(39) < 2
time = 1

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 10
anim = 8500
id = 8500
sprpriority = 1
postype = p1
pos = 55,-80
bindtime = 1
supermovetime = -1
ownpal = 1
ontop = 1


[State 10051, Schermo Nero]  ;   schermo nero
type = EnvColor
trigger1 = AnimElem = 1, =3
time = 240                   
value = 0,0,0
under = 1

[State 182, Schermo Bianco]  ;schermo bianco
type = EnvColor
trigger1 = AnimElem = 1
time = 3
value = 246,246,246


[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 20
anim = 8500
id = 8500
sprpriority = 1
postype = p1
pos = 65,-50
bindtime = 1
supermovetime = -1
ownpal = 1
ontop = 1

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 28
anim = 8500
id = 8500
sprpriority = 1
postype = p1
pos = 55,-15
bindtime = 1
supermovetime = -1
ownpal = 1
ontop = 1

[State 10051, 1]
type = TargetState
trigger1 = AnimElem = 11
value = 10053

[State 10051, 2]
type = EnvShake
trigger1 = AnimElem = 11
trigger2 = AnimElem = 20
trigger3 = AnimElem = 29
time = 6
ampl = -8
freq = 90

[State 10051, TargetLifeAdd]      ;il p2 perde energiga
type = TargetLifeAdd
trigger1 = AnimElem = 11
trigger2 = AnimElem = 20
trigger3 = AnimElem = 29
value = -40
kill = 0
absolute = 1

[State 10051, TargetLifeAdd]      ;il p2 perde energiga col pedatone finale
type = TargetLifeAdd
trigger1 = AnimElem = 38
value = -250
kill = 1
absolute = 1

[State 10051, 3]                ;calcio che fa volare il p2
type = TargetState
trigger1 = AnimElem = 38
value = 10054

[State 10051, 4]
type = EnvShake
trigger1 = AnimElem = 38
time = 14
ampl = -12
freq = 105

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 37
anim = 8135
id = 8135
sprpriority = 6
pos = 40,0
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1
;ontop = 1

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 38
anim = 8139
id = 8139
;sprpriority = 1
pos = 70,-90
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1
ontop = 1

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 38
anim = 8008
id = 8008
;sprpriority = 1
pos = 70,0
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1
ontop = 1

[State 182, Schermo Bianco]  ;schermo bianco
type = EnvColor
trigger1 = AnimElem = 38
time = 3
value = 246,246,246


[State 10051, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------
;Impero P2 cade a terra
[Statedef 10052]
type    = L
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 5

[State 10052, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

;[State 10052, PosAdd]
;type = PosAdd
;trigger1 = Time = 0
;x = 0
;y = 0

[State 10052, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 10052

[State 10052, 2]             
type = SelfState
Trigger1 = AnimTime = 0
value = 5110

;---------------------------------------------
;Impero P2 subisce i calci a terra
[Statedef 10053]
type    = L
movetype= H
physics = N
velset = 0,0
ctrl = 0
sprpriority = 2

[State 10053, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 10053, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 10053

;-------------------------------------------------
;Impero P2 subisce il calcio che lo proietta in aria
[Statedef 10054]
type    = S      ;A
movetype= H
physics = S      ;N
velset = 0,0
ctrl = 0
sprpriority = 5

[State 10054, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 10054, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 10054

[State 10054, 3]
type = EnvShake
trigger1 = AnimElem = 10
ampl = 10
time = 15
freq = 150
      
[State 10054, 2]             ;il p2 si rialza perfettamente da terra
type = SelfState
Trigger1 = AnimTime = 0
value = 5110

;-------------------------------------------------------
;-Governopazzo (SUPER A UNO)
[Statedef 10060. governo]
type    = S
movetype= A
physics = S
juggle  = 3
velset = 0,0
poweradd = -1000
anim = 10050
ctrl = 0
sprpriority = 5

[State 10060, Width]
type = Width
trigger1 = 1
edge = 0,50


[State 10060,Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 4000
ID = 4000
pos = -10, -95
postype = P1
sprpriority = 7
supermove = 1
ownpal = 1
bindtime = -1

[State 10060,Explod]
type = Explod
trigger1 = AnimElem = 4
anim = 4001
ID = 4001
pos = -10, -95
postype = P1
sprpriority = -2
supermove = 1
ownpal = 1
bindtime = -1

[State 10060, SP]
type = SuperPause
trigger1 = AnimElem = 4
time = 40
;pos = -5, -55
anim = -1
sound = 20, 0
unhittable = 1

[State 3060, SE]        ;sfx super a due
type = PlaySnd
trigger1 = AnimElem = 4
value = 700, 1

[State 3060, SE]        ;miserable brat
type = PlaySnd
trigger1 = AnimElem = 1
value = 17008,0


[State 10060, Blink]  ;si colora bello chiaro
type = PalFX
trigger1 = AnimElem = 14
time = 7
sinadd = 50,50,50,3

[State 10060, Friction]
type = VelAdd
trigger1 = AnimElem = 20
;trigger1 = time > 53
;trigger1 = time < 56
x = 3.85

[State 10060, Afterimage]
type = AfterImage
trigger1 = AnimElem = 14
length = 12
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub
time = 2

[State 10060, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(25) < 19
time = 2

[State 10060, Explod]
type = Explod
trigger1 = AnimElem = 19
anim = 8120
id = 8120
sprpriority = 5
pos = 0,0
;bindtime = 0
ownpal = 1
ignorehitpause = 1
ontop = 1

[State 3100, SE]         
type = PlaySnd
trigger1 = AnimElem = 19
value = 41,1
volume = -25


[State 10060, 5]
type = VelSet
trigger1 = AnimElem = 20
;trigger1 = time > 53
;trigger1 = time < 56
x = 25

[State 10060, Hit]
type = HitDef
trigger1 = AnimElem = 20
trigger2 = AnimElem = 21 
trigger3 = AnimElem = 23
persistent = 0
attr = S, HA
animtype = Hard
damage = 30,15
getpower = 58
sparkno = S8137
guard.sparkno = S8005
sparkxy = 20,-75
priority = 4
guardflag = M
yaccel = 0.5
pausetime = 5,10
hitsound = S200, 2
guardsound = S11,2
ground.type = Low
ground.slidetime = 5
ground.hittime = 18
ground.velocity = -7.5,8.5
guard.velocity = -3.5
air.velocity = -7.5,8.5
air.animtype = Back
fall = 1
fall.recover = 0
envshake.time = 15
envshake.ampl = -12
envshake.freq = 90
kill = 0
p1stateno = 10061
p2stateno = 10052

[State 10060, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------
;-governo (super a due) continuazione col P1 che da i calcioni 
[Statedef 10061]
type    = S
movetype= A
physics = S
juggle  = 3
velset = 0,0
anim = 10061
ctrl = 0
sprpriority = 4

[State 10061, TargetBind]
type = TargetBind
trigger1 = Time = 0
time = 1
pos = 40,0

[State 3060, SE]        
type = PlaySnd
trigger1 = AnimElem = 4
value = 10051,0
volume = 155

[State 3100, SE]
type = PlaySnd
trigger1 = AnimElem = 11
value = 20,2


[State 3100, SE]         ;risata1
type = PlaySnd
trigger1 = AnimElem = 10
value = 210,0
;volume = 255


[State 3100, SE]          ;impatto   
type = PlaySnd
trigger1 = AnimElem = 9
value = 10005,0
volume = 255

[State 3100, SE]         
type = PlaySnd
trigger1 = AnimElem = 71
value = 11000,0

[State 10061, Schermo Nero]
type = EnvColor
trigger1 = AnimElem = 1
time = 4                   
value = 0,0,0
under = 1

[State 10061, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 10056
id = 10056
sprpriority = 7
pos = 0,0
bindtime = 1
supermovetime = -1
ownpal = 1

[State 10061, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 8506
id = 8506
sprpriority = 1
pos = -50,0
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1

[State 10061, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
length = 1
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub
time = 1

[State 10010, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(39) < 2
time = 1



[State 10061, 2]
type = EnvShake
trigger1 = AnimElem = 11
time = 6
ampl = -8
freq = 90

[State 10061, TargetLifeAdd]      ;il p2 perde energiga
type = TargetLifeAdd
trigger1 = AnimElem = 11
value = -40
kill = 0
absolute = 1



[State 811, Bind 1]
type = TargetBind
trigger1 = AnimElem = 61
pos = 30, -35

[State 811, Bind 2]
type = TargetBind
trigger1 = AnimElem = 62
pos = 20, -75

[State 10051, Explod]
type = Explod
trigger1 = AnimElem = 9
anim = 8135
id = 8135
sprpriority = 6
pos = 50,0
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1
;ontop = 1


[State 10051, 3]                ;pugnone
type = TargetState
trigger1 = AnimElem = 9
value = 10063

[State 10061, Hit]
type = HitDef
trigger1 = AnimElem = 9
attr = A, HA
hitflag = MAF
animtype = back         ;diagup
damage = 160,35
getpower = 58
sparkno = S8130
guard.sparkno = S8050
sparkxy = -50,-95
priority = 7
guardflag = H
yaccel = 0.5
pausetime = 0,30
hitsound = S200, 2
guardsound = S150,1
ground.type = Low           ;Trip           ;Low
ground.slidetime = 50
ground.hittime = 25
ground.velocity = -4,-4
guard.velocity = -4.5
air.velocity = -9,-4
air.slidetime = 50
;air.animtype = Back
fall = 1
fall.recover = 0
fall.recovertime = 200
envshake.time = 24
envshake.ampl = -16
envshake.freq = 110
kill = 1

[State 10061,EnvColor]
type = EnvColor
trigger1 = AnimElem = 9
value = 248,248,248
time = 2
under = 1

[State 10061, Explod]
type = Explod
trigger1 = AnimElem = 9
anim = 8511
id = 8511
sprpriority = 7
pos = 60,-90
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1
ontop = 1
shadow = 1


[State 10061, CS]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-------------------------------------------------
;Horatimeno P2 subisce il calcio che lo proietta in aria
[Statedef 10062]
type    = S
movetype= H
physics = N    
velset = 0,0
ctrl = 0
sprpriority = 7
ID = 10062

[State 10062, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 10062, VelSet]
type = VelSet
trigger1 = Time = 49
x = 0
y = 0.45


[State 10061, VelAdd]
type = VelAdd
trigger1 = Time = 49
x = 0
y = 0.45


[State 10062, CA]
type = ChangeAnim2
Trigger1 = Time = 0
value = 10062

;-------------------------------------------------
;Horatimeno P2 subisce il calcio finale rovesciata
[Statedef 10063]
type    = A
movetype= H
physics = N     
velset = 0,0
sprpriority = 5

[State 10063, CA]
type = ChangeAnim2
Trigger1 = Time = 0
value = 10063

;[State 10063, 1] 
;type = PosAdd
;trigger1 = Time = 0
;x = 0
;y = -50

[State 10063, 2] 
type = SelfState
trigger1 = Time = 0
value = 5030       

[State 10063, 3] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground



;------------------------------------------------------
;-amarillo dentro
[Statedef 12000]
type = S
movetype= A
physics = S
juggle = 1
anim = 12000
velset = 0,0
poweradd = 20
ctrl = 0


[State 12000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT  
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10 || AnimElem = 11 || AnimElem = 12 || AnimElem = 13 || AnimElem = 14 || AnimElem = 15 || AnimElem = 16 || AnimElem = 17 || AnimElem = 18 || AnimElem = 19 || AnimElem = 20 || AnimElem = 21  || AnimElem = 22 || AnimElem = 23 || AnimElem = 24 || AnimElem = 25
pausetime = 5,25         
sparkno = S8005
sparkxy = 10,0
hitsound = S11001,0
volume = 250
numhits = 0
priority = 7, Hit
getpower = 0,0
envshake.time = 18
envshake.ampl = -3
envshake.freq = 178



[State 12000, polverone]        ;sparo
type = Explod
trigger1 = AnimElem = 7  || AnimElem = 16  || AnimElem = 21  || AnimElem = 24  
anim = 8003  
postype = p1
pos = -60,10                 
supermove = 1
ontop = 1
sprpriority = 5
ownpal = 1
shadow = -1
vel = 0.0
scale = 1, 1
pausemovetime = 9999

[State 12000, polverone]        ;polverone per terra (opposto)
type = Explod
trigger1 = AnimElem = 7  || AnimElem = 16  || AnimElem = 21 || AnimElem = 24
anim = 10142  
postype = p1
pos = 20,10                 
supermove = 1
ontop = 1
sprpriority = 5
ownpal = 1
shadow = -1
vel = 0.0
scale = 1, 1
pausemovetime = 9999

[State 12000, Explod]         ;roba davanti
type = Explod
trigger1 = AnimElem = 6  || AnimElem = 14  || AnimElem = 18 || AnimElem = 21
anim = 3103
pos = -25, 0
postype = p1
sprpriority = -2
bindtime = 1
ownpal = 1

[State 12000, Explod]       ;roba dietro
type = Explod
trigger1 = AnimElem = 6  || AnimElem = 14  || AnimElem = 18 || AnimElem = 21
anim = 3104
pos = -25, 0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 1


[State 12000, Explod]
type = Explod
trigger1 = AnimElem = 26
anim = 8009
postype = p1
pos = -20,0                 
supermove = 1
ontop = 1
sprpriority = 5
ownpal = 1
shadow = -1
vel = 0.0
scale = 1, 1
pausemovetime = 9999

[State 12000, VS]
type = VelSet
trigger1 = AnimElem = 26
trigger2 = AnimElem = 27
x = 10 

[State 12000, VS]
type = VelSet
trigger1 = AnimElem = 17
trigger2 = AnimElem = 18
x = 0

[State 12000, 1]
type = HitDef
trigger1 = AnimElem = 27 
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 100,15
sparkno = S8512
guard.sparkno = S8050
sparkxy = -50,-75
hitsound   = S210,2
guardsound = 6, 0
ground.type = high
priority = 7, Hit
pausetime = 0,65
ground.slidetime = 9
ground.hittime = 9
ground.velocity = 0              ;-4
air.velocity = 0.0          ;-3.5,-3
guard.velocity = -4
guard.pausetime = 11,11
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -4
yaccel = .5
envshake.time = 7
envshake.ampl = -8
envshake.freq = 90
p1stateno = 12002


[State 12000, AssertSpecial]
type = AssertSpecial
trigger1 = 1
;AnimElem = 27
flag = unguardable

[State 12000, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 12000, SE] 
type = PlaySnd        ;
trigger1 = AnimElem = 1 
value = 1100, 3;SE       ;3100 1
volume = 80
channel = 0



[Statedef 12002]
type = S
movetype= A
physics = S
juggle = 1
anim = 12002
velset = 0,0
poweradd = 20
ctrl = 0

[State 12002]
type = HitDef
trigger1 = AnimElem = 20 
ID = 12002
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = diagup
damage = 90,15
sparkno = S8511
guard.sparkno = S8050
sparkxy = -10,-75
hitsound   = S20,0
guardsound = 6, 0
ground.type = low
priority = 7, Hit
pausetime = 5,15
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -8.5
air.velocity = -8.5,-3
guard.velocity = -4
guard.pausetime = 11,11
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -4
fall = 1
yaccel = .5
air.fall = 1
fall.recover = 0
envshake.time = 8
envshake.ampl = -12
envshake.freq = 90
givepower = -1000








[State 12002, SE]         ;sfx vento
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 16
value = 41, 1
volume = -100

[State 12002, SE] 
type = PlaySnd        
trigger1 = AnimElem = 17 
value = 800, 1;SE      
volume = 80

[State 12002, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
length = 8                  
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub                     
time = 2

[State 12002, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(36) < 2
time = 2

[State 12002, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------------------------------------------
;-amarillo sotto
[Statedef 12100]
type = S
movetype= A
physics = S
juggle = 1
anim = 12100
velset = 0,0
poweradd = 20
ctrl = 0


[State 12100, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SA, NA,SA  
trigger1 = AnimElem = 3 || AnimElem = 4 || AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10 || AnimElem = 11 || AnimElem = 12 || AnimElem = 13 || AnimElem = 14 || AnimElem = 15 || AnimElem = 16 || AnimElem = 17 || AnimElem = 18 || AnimElem = 19 || AnimElem = 20 || AnimElem = 21  || AnimElem = 22  || AnimElem = 23
pausetime = 5,25         
sparkno = S8005
sparkxy = 10,0
hitsound = S11001,0
volume = 250
numhits = 0
priority = 7, Hit
getpower = 0,0
envshake.time = 18
envshake.ampl = -3
envshake.freq = 178




[State 12100, polverone]        ;sparo
type = Explod
trigger1 = AnimElem = 1  || AnimElem = 6  || AnimElem = 111  || AnimElem = 15  || AnimElem = 19 || AnimElem = 22
anim = 8003  
postype = p1
pos = -40,10                 
supermove = 1
ontop = 1
sprpriority = 5
ownpal = 1
shadow = -1
vel = 0.0
scale = 1, 1
pausemovetime = 9999

[State 12100, polverone]        ;polverone per terra (opposto)
type = Explod
trigger1 = AnimElem = 1  || AnimElem = 6  || AnimElem = 111  || AnimElem = 15  || AnimElem = 19 || AnimElem = 22
anim = 10142  
postype = p1
pos = 40,10                 
supermove = 1
ontop = 1
sprpriority = 5
ownpal = 1
shadow = -1
vel = 0.0
scale = 1, 1
pausemovetime = 9999

[State 12100, Explod]         ;roba davanti
type = Explod
trigger1 = AnimElem = 1  || AnimElem = 6  || AnimElem = 111  || AnimElem = 15  || AnimElem = 19 || AnimElem = 22
anim = 3103
pos = 0, 0
postype = p1
sprpriority = -2
bindtime = 1
ownpal = 1

[State 12100, Explod]       ;roba dietro
type = Explod
trigger1 = AnimElem = 1  || AnimElem = 6  || AnimElem = 111  || AnimElem = 15  || AnimElem = 19 || AnimElem = 22
anim = 3104
pos = 0, 0
postype = p1
sprpriority = 2
bindtime = 1
ownpal = 1
ontop = 1



[State 12100, Explod]
type = Explod
trigger1 = AnimElem = 27
anim = 8506
id = 8506
sprpriority = 6
pos = 95,0
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1


[State 12100, Explod]
type = Explod
trigger1 = AnimElem = 28
anim = 8517
id = 8517
sprpriority = 3
pos = 95,0
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1




[State 12100, SE] 
type = PlaySnd        
trigger1 = AnimElem = 27 
value = 3100, 0;SE      
volume = 80

[State 12100, SE] 
type = PlaySnd        
trigger1 = AnimElem = 1 
value = 3100, 1;SE      aaaaaaaaatsuragnia
volume = 80
channel = 0



[State 12100, VS]
type = VelSet
trigger1 = AnimElem = 26
trigger2 = AnimElem = 27
x = 0 

[State 12100, VS]
type = VelSet
trigger1 = AnimElem = 17
trigger2 = AnimElem = 18
x = 0

[State 12100, 1]
type = HitDef
trigger1 = AnimElem = 27 
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 140,15
pausetime = 5,10
sparkno = S8500
guard.sparkno = S8050
sparkxy = -50,-25
hitsound   = S210,2
guardsound = 6, 0
ground.type = Trip
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -1,-10
air.velocity = -1,-8
;P2Stateno = 411
;fall = 1
envshake.time = 18
envshake.ampl = -6
envshake.freq = 178

[State 12000, Explod]
type = Explod
trigger1 = AnimElem = 27
anim = 8106
id = 8106
sprpriority = 7
pos = 95,0
postype = p1
bindtime = 1
supermovetime = -1
ownpal = 1

[State 12100]
type = EnvShake
trigger1 = AnimElem = 27
time = 16
ampl = -6
freq = 90

[State 12100, AssertSpecial]
type = AssertSpecial
trigger1 = AnimElem = 27
flag = unguardable

[State 12100, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1





;------------------------------------------------------
;-demasiado punch l
[Statedef 12001]
type = S
movetype= A
physics = S
juggle = 1
anim = 12001
velset = 0,0
poweradd = 22
ctrl = 0

[State 12001, VS]
type = VelSet
trigger1 = AnimElem = 6
x = 3

[State 12001, polverone]        ;polverone per terra
type = Explod
trigger1 = AnimElem = 5 || AnimElem = 12 || AnimElem = 18 || AnimElem = 24
anim = 12033 
postype = p1
pos = 0, 0                
supermove = 1
ontop = 1
sprpriority = 5
ownpal = 1
shadow = -1
vel = -.7
scale = 1, 1
pausemovetime = 9999


[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit

[State 12001, polverone]        ;polverone per terra
type = Explod
trigger1 = AnimElem = 4 || AnimElem = 6 || AnimElem = 12 || AnimElem = 18 || AnimElem = 20 || AnimElem = 26
anim = 8120  
postype = p1
pos = -18,                 
supermove = 1
ontop = 1
sprpriority = 3
ownpal = 1
shadow = -1
vel = -.7
scale = .5, .5
pausemovetime = 9999

[State 12001, polverone]        ;polverone per terra (opposto)
type = Explod
trigger1 = AnimElem = 4 || AnimElem = 6 || AnimElem = 12 || AnimElem = 18 || AnimElem = 20 || AnimElem = 26
anim = 8120  
postype = p1
pos = 18,                 
supermove = 1
ontop = 1
sprpriority = 3
facing = -1
ownpal = 1
shadow = -1
vel = .7
scale = .5, .5
pausemovetime = 9999


[State 12001, 1]
type = HitDef
trigger1 = AnimElem = 4 || AnimElem = 6 || AnimElem = 12 || AnimElem = 18 || AnimElem = 20 || AnimElem = 26 
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 10,3
sparkno = S8018
guard.sparkno = S8050
sparkxy = 0,-90
hitsound   = S20,1
guardsound = S11,1
ground.type = high
priority = 7, Hit
pausetime = 1,15
ground.slidetime = 9
ground.hittime = 9
ground.velocity = 0          
air.velocity = -3.5,-3
guard.velocity = -4
guard.pausetime = 5,5
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -4
yaccel = .5
air.fall = 1
fall.recover = 0
forcestand = 1
envshake.time = 3
envshake.ampl = -3
envshake.freq = 90

[State 12001, 2]
type = HitDef
trigger1 = AnimElem = 5 || AnimElem = 11 || AnimElem = 13 || AnimElem = 19 || AnimElem = 25 || AnimElem = 27 
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 10,3
sparkno = S8018
guard.sparkno = S8050
sparkxy = -20,-65
hitsound   = S20,2
guardsound = S11,2
ground.type = low
priority = 7, Hit
pausetime = 5,25
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -4
air.velocity = -3.5,-3
guard.velocity = 0               
guard.pausetime = 5,5
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -5
air.cornerpush.veloff = -4
yaccel = .5
air.fall = 1
fall.recover = 0
forcestand = 1
envshake.time = 3
envshake.ampl = -3
envshake.freq = 90

[State 12001, SE] 
type = PlaySnd        ;aroaroaro
trigger1 = AnimElem = 1 
value = 10001, 1;SE         ;era 195   ;oppure 19500 1
volume = 80
channel = 0





[State 12001, SE]         ;sfx vento
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 11 || AnimElem = 16 || AnimElem = 21 || AnimElem = 26
value = 41, 1;SE
volume = -100

[State 12001, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
length = 8                 
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub                     
time = 2

[State 12001, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(60) < 2
time = 2

[State 12000, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1




;------------------------------------------------------
;-demasiado l QUELLO FINTO con X X X
[Statedef 12010]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
anim = 12010
ctrl = 0
sprpriority = 2
[State 12010, VS]
type = VelSet
trigger1 = AnimElem = 6
x = 3


[State 12010, polverone]        ;polverone per terra
type = Explod
trigger1 = AnimElem = 4 || AnimElem = 6 || AnimElem = 12 || AnimElem = 18 || AnimElem = 20 || AnimElem = 26
anim = 8120  
postype = p1
pos = -18,                 
supermove = 1
ontop = 1
sprpriority = 3
ownpal = 1
shadow = -1
vel = -.7
scale = .5, .5
pausemovetime = 9999

[State 12010, polverone]        ;polverone per terra (opposto)
type = Explod
trigger1 = AnimElem = 4 || AnimElem = 6 || AnimElem = 12 || AnimElem = 18 || AnimElem = 20 || AnimElem = 26
anim = 8120  
postype = p1
pos = 18,                 
supermove = 1
ontop = 1
sprpriority = 3
facing = -1
ownpal = 1
shadow = -1
vel = .7
scale = .5, .5
pausemovetime = 9999


[State 12010, 1]
type = HitDef
trigger1 = AnimElem = 4 || AnimElem = 6 || AnimElem = 12 || AnimElem = 18 || AnimElem = 20 || AnimElem = 26 
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 5,3
sparkno = S8018
guard.sparkno = S8050
sparkxy = 0,-90
hitsound   = S20,1
guardsound = S11,1
ground.type = high
priority = 7, Hit
pausetime = 1,15
ground.slidetime = 9
ground.hittime = 9
ground.velocity = 0          
air.velocity = -3.5,-3
guard.velocity = -4
guard.pausetime = 5,11
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -2
air.cornerpush.veloff = -4
yaccel = .5
air.fall = 1
fall.recover = 0
forcestand = 1
envshake.time = 3
envshake.ampl = -3
envshake.freq = 90

[State 12010, 2]
type = HitDef
trigger1 = AnimElem = 5 || AnimElem = 11 || AnimElem = 13 || AnimElem = 19 || AnimElem = 25 || AnimElem = 27 
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 6,3
sparkno = S8018
guard.sparkno = S8050
sparkxy = -20,-65
hitsound   = S20,2
guardsound = S11,2
ground.type = low
priority = 7, Hit
pausetime = 5,15
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -4
air.velocity = -3.5,-3
guard.velocity = 0               
guard.pausetime = 5,11
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -2
air.cornerpush.veloff = -4
yaccel = .5
air.fall = 1
fall.recover = 0
forcestand = 1
envshake.time = 3
envshake.ampl = -3
envshake.freq = 90



[State 12010, SE]         ;sfx vento
type = PlaySnd
trigger1 = AnimElem = 5 || AnimElem = 11 || AnimElem = 16 || AnimElem = 21 || AnimElem = 26
value = 41, 1;SE
volume = -100

[State 12010, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
length = 8                 
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub                     
time = 2

[State 12010, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(60) < 2
time = 2

[State 12010, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1



;------------------------------------------------------
;-demasiado Punch h
[Statedef 12050]
type = S
movetype= A
physics = S
juggle = 1
anim = 12050
velset = 0,0
poweradd = 22
ctrl = 0

[State 12050, VS]
type = VelSet
trigger1 = AnimElem = 6
x = 0


[State 1000, RE]             ;reversal colpi medi e alti
type = ReversalDef
reversal.attr = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT ;SA,NA,SA  
trigger1 = AnimElem = 1, >0
trigger1 = AnimElem = 3, <2
pausetime = 9,9           
sparkno = S8050
sparkxy = 10,0
hitsound = S3,6
numhits = 0
priority = 7, Hit


[State 12050, polverone]        ;polverone per terra
type = Explod
trigger1 = AnimElem = 3 || AnimElem = 8 || AnimElem = 13 || AnimElem = 18 || AnimElem = 21 
anim = 8120  
postype = p1
pos = -18,                 
supermove = 1
ontop = 1
sprpriority = 3
ownpal = 1
shadow = -1
vel = -.7
scale = .5, .5
pausemovetime = 9999

[State 12050, polverone]        ;polverone per terra (opposto)
type = Explod
trigger1 = AnimElem = 3 || AnimElem = 8 || AnimElem = 13 || AnimElem = 18 || AnimElem = 21 
anim = 8120  
postype = p1
pos = 18,                 
supermove = 1
ontop = 1
sprpriority = 3
facing = -1
ownpal = 1
shadow = -1
vel = .7
scale = .5, .5
pausemovetime = 9999


[State 12050, 1]
type = HitDef
trigger1 = AnimElem = 3 || AnimElem = 5 || AnimElem = 8 || AnimElem = 10 || AnimElem = 13 || AnimElem = 15 || AnimElem = 18|| AnimElem = 20
;Trigger1 = p2bodydist Y < 0
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 8,3
sparkno = S8018
guard.sparkno = S8050
sparkxy = 0,-90
hitsound   = S20,1
guardsound = S11,1
ground.type = high
priority = 7, Hit
pausetime = 3,3
ground.slidetime = 9
ground.hittime = 9
ground.velocity = 0          
air.velocity = -3.5,-3
guard.velocity = -4
guard.pausetime = 2,6
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -2
air.cornerpush.veloff = -2
yaccel = .5
air.fall = 1
fall.recover = 0
forcestand = 1
envshake.time = 3
envshake.ampl = -3
envshake.freq = 90
mindist = 75,-75

[State 12050, 2]
type = HitDef
trigger1 = AnimElem = 4 || AnimElem = 6 || AnimElem = 9 || AnimElem = 11 || AnimElem = 14 || AnimElem = 16 || AnimElem = 19|| AnimElem = 21
;Trigger1 = p2bodydist Y < 0
attr = S, SA
hitflag = MAF
guardflag = M
animtype = Hard
air.animtype = back
damage = 8,3
sparkno = S8018
guard.sparkno = S8050
sparkxy = -20,-65
hitsound   = S20,2
guardsound = S11,2
ground.type = low
priority = 7, Hit
pausetime = 3,3
ground.slidetime = 9
ground.hittime = 9
ground.velocity = -4
air.velocity = -3.5,-3
guard.velocity = 0               
guard.pausetime = 3,6
guard.slidetime = 10
guard.hittime = 10
guard.ctrltime = 10
ground.cornerpush.veloff = -2
air.cornerpush.veloff = -2
yaccel = .5
air.fall = 1
fall.recover = 0
forcestand = 1
envshake.time = 3
envshake.ampl = -3
envshake.freq = 90

[State 12050, SE] 
type = PlaySnd        ;aroaroaro
trigger1 = AnimElem = 1 
value = 195, 0;SE         ;era 195   ;oppure 19500 1
volume = 60
channel = 0



[State 12050, SE]         ;sfx vento
type = PlaySnd
trigger1 = AnimElem = 3 || AnimElem = 7 ;|| AnimElem = 11 || AnimElem = 15 || AnimElem = 18
value = 15060,40;SE
volume = -90

[State 12050, Afterimage]
type = AfterImage
trigger1 = AnimElem = 1
length = 8                 
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub                     
time = 2

[State 12050, Afterimage]
type = AfterImageTime
trigger1 = AnimElemTime(60) < 2
time = 2

[State 12050, CS]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;===================================================================
;-CARAMBOLA INIZIO (HYPER Mossa a UNO)
[Statedef 16000]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 16000
poweradd = -1000
sprpriority = 2

[State 19981, SS]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 16000, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S, HA         
hitflag = MAF
guardflag = MAF
priority = 6, Miss    
pausetime = 0,0
guard.pausetime = 0,10
sparkno = 50  
sparkxy = 0,-75
guard.sparkno = S8005
hitsound   = S800,0
guardsound = 11, 2
sprpriority = 1
p1stateno = 16001     
p2stateno = 16005           
fall = 1
;envshake.time = 20
;envshake.ampl = -12
;envshake.freq = 195

[State 16000, SE]         
type = PlaySnd
trigger1 = AnimElem = 3
value = 41,1
channel = 1


[State 16000, Blink]  ;si colora bello chiaro
type = PalFX
trigger1 = AnimElem = 2
time = 15
sinadd = 50,50,50,3

[State 16000, SP]
type = SuperPause
trigger1 = AnimElem = 2
time = 24
anim = -1
unhittable = 1
darken = 1

[State 16000, Explod]
type = Explod
trigger1 =  AnimElem = 2      
anim = 4000
pos = 36, -40
postype = p1
supermove = 1
ontop = 1
bindtime = 1

[State 16000, Explod]
type = Explod
trigger1 = AnimElem = 2  
anim = 4001
pos = 36, -40
postype = p1
supermove = 1
supermovetime = 9999
pausemovetime = 9999
under = 1

[State 16000, Explod]          ;polvere
type = Explod
trigger1 =  AnimElem = 4      
anim = 8502
pos = 0,20
postype = p1
supermove = 1
ontop = 1
bindtime = 1

[State 16000, SE]         ;fischio o vento
type = PlaySnd
trigger1 = AnimElem = 4
value = 41, 1



[State 16000, SE]         ;sfx della super a uno
type = PlaySnd
trigger1 = AnimElem = 2
value = 700, 1;SE

[State 16000, SE]         
type = PlaySnd
trigger1 = AnimElem = 1
value = 17029,0
channel = 1

[State 16000, Velset]
type = Velset
trigger1 = AnimElem = 4
x = 30 
y = -9

[State 16000, Veladd]
type = VelAdd
trigger1 = AnimElem = 4
x = 30 
y = -6

[State 16000, StopSnd]
type = StopSnd
trigger1 = AnimTime = 0
channel = 1

[State 16000, CS]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 5
trigger2 = AnimTime = 20
trigger3 = moveguarded
value = 1301
ctrl = 0

;--------------------------------------------
;CARAMBOLA p1 salta
[Statedef 16001]
type    = S
movetype= A
physics = A
anim = 16001
ctrl = 0

[State 16001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 16000, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 16000, Velset]
type = Velset
trigger1 = time = 0
x = 25
y = -6

[State 16000, Veladd]
type = VelAdd
trigger1 = time = 0
x = 25
y = -4

[State 10101, Bind 1]        ;il p2 davanti a giano
type = TargetBind
trigger1 = 1
pos = 79, -81

[State 16003, Pause]
type = Pause
trigger1 = FrontEdgeBodyDist < 5
time = 5

[State 16000, Life 1]        
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -100
;ID = 17006
kill = 0
absolute = 0

[State 16001, State End]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 5
trigger2 = AnimTime = 50
value = 16002
ctrl = 0

;----------------------------------------------------
;Carambola salta dall'altro lato
[Statedef 16002]
type    = A
movetype= A
physics = A
anim = 16002
ctrl = 0

[State 10101, Bind 1]        ;il p2 davanti a giano
type = TargetBind
trigger1 = 1

[State 16004, State 1]        
type = TargetState
trigger1 = AnimElem = 1
value = 16006

[State 16002, Explod]
type = Explod
trigger1 = AnimElem = 1
;trigger1 = FrontEdgeBodyDist < 30
anim = 8501
sprpriority = 6
postype = front
pos = 0,90
pausemovetime = 9999
supermovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 16002, Turn]
type = Turn
trigger1 = AnimElem = 1

[State 16001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 16002, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 16002, Afterimage]   ;la solita scia
type = AfterImage
trigger1 = AnimElem = 1
length = 13
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub
time = 370

[State 16002, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1020, 1
volume = 150

[State 16000, Life 1]        
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -100
;ID = 17006
kill = 0
absolute = 0


[State 16002, Velset]
type = Velset
trigger1 = AnimElem = 1
x = 25
y = -4

[State 16002, Veladd]
type = VelAdd
trigger1 = AnimElem = 1
x = 25
y = -4

[State 16002, 3]
type = EnvShake
trigger1 = FrontEdgeBodyDist < 30
time = 20
ampl = -12
freq = 108

[State 16002, Pause]
type = Pause
trigger1 = FrontEdgeBodyDist < 5
time = 5

[State 16002, State End]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 5
trigger2 = AnimTime = 50
value = 16003
ctrl = 0

;----------------------------------------------------
;Carambola P1 atterra
[Statedef 16003]
type    = A
movetype= A
physics = N
anim = 16003
ctrl = 0

[State 16003, Explod]
type = Explod
trigger1 = AnimElem = 1
;trigger1 = FrontEdgeBodyDist < 30
anim = 8501
sprpriority = 6
postype = front
pos = 0,60
pausemovetime = 9999
supermovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 16003, Explod]
type = Explod
trigger1 = AnimTime = 3
anim = 8504
sprpriority = 6
pos = 50,0
pausemovetime = 9999
supermovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 16003, Explod]
type = Explod
trigger1 = AnimTime = 3
anim = 8500
sprpriority = 7
pos = 50,0
pausemovetime = 9999
supermovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1


[State 16003, SE]         
type = PlaySnd
trigger1 = AnimTime = 3
value = 20,0
channel = 1
volume = 240

[State 16003, SE]         
type = PlaySnd
trigger1 = AnimTime = 3
value = 1020,1
channel = 1
volume = 180



[State 16003, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 16003, Afterimage]   ;la solita scia
type = AfterImage
trigger1 = AnimElem = 1
length = 45
PalBright   =  30, 30,  0
PalContrast =  70, 70, 20
TimeGap  = 1
FrameGap = 2
Trans = sub
time = 180


;[State 16003, BindToTarget]
;type = BindToTarget
;trigger1 = 1
;time = 1                        
;pos = 0,6,Head

[State 10101, State 1]        
type = TargetState
trigger1 = AnimElem = 1
value = 16007

[State 10101, Bind 1]        ;il p2 trascinato
type = TargetBind
trigger1 = 1
pos = 30, 0

[State 16000, Life 1]        
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -130
kill = 1
absolute = 1

[State 16500,EnvColor]
type = EnvColor
trigger1 = AnimElem = 1
value = 248,248,248
time = 2
under = 1

[State 16003, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1020, 1
volume = 150

[State 16002, Turn]
type = Turn
trigger1 = AnimElem = 1

[State 16003, Velset]
type = Velset
trigger1 = AnimElem = 1
x = 10
y = 25

[State 16003, Veladd]
type = VelAdd
trigger1 = AnimElem = 1
x = 10
y = 25

[State 16003, PosAdd]  
type = PosAdd
trigger1 = AnimTime = 0
y = 0

[State 16003, 3]
type = EnvShake
trigger1 = FrontEdgeBodyDist < 30
time = 25
ampl = -15
freq = 115


[State 16003, State End]
type = ChangeState
;trigger1 = AnimTime = 0
trigger1 = Pos Y >= 0
value = 1302        
ctrl = 0

;----------------------------------------------------
;Carambola P1 a terra
[Statedef 16004]
type    = A
movetype= I
physics = N
anim = 16004
ctrl = 0

[State 16004, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 16004, BindToTarget]
type = BindToTarget
trigger1 = AnimElem = 1              ;AnimElemTime(6) < 5   
time = 1                     
pos = 50,0,Foot

[State 16004, PosAdd]  
type = PosAdd
trigger1 = AnimElem = 1
y = 0

[State 16004, PosAdd]  
type = PosAdd
trigger1 = AnimElemTime(1) > 0
y = 0

;[State 16004, State 1]        
;type = TargetState
;trigger1 = AnimElem = 1
;value = 16007

[State 16004, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0         
ctrl = 1

;[State 160004, TargetDrop]
;type = TargetDrop
;trigger1 = AnimElem = 2
;excludeID = -1
;keepone = 1

;-----------------------------------------------------
;Carambola state in cui va il p2 se preso
[Statedef 16005]
type    = A      
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 16005, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 16005, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 16005

;-----------------------------------------------------
;Carambola p2 subisce altro lato
[Statedef 16006]
type    = A      
movetype= H
physics = N
velset = 0,0
ctrl = 0

;[State 16006, Turn]
;type = Turn
;trigger1 = AnimElem = 1


[State 16006, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 16006, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 16006

;-----------------------------------------------------
;Carambola p2 cade terra
[Statedef 16007]
type    = A      
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 16007, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 16007, Turn]
type = Turn
trigger1 = AnimElem = 1

[State 16007, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 16007

[State 16007, PosSet]  
type = PosSet
trigger1 = AnimTime = 0
y = 0

[State 16007, State end]
type = SelfState
trigger1 = AnimTime = 0
;trigger1 = Pos Y >= 0
value = 5120  

;------------------------------------------------------------
;-Filotto reale (HYPER Mossa a DUE)
[Statedef 17000]
type    = S
movetype= A
physics = S
velset = 0,0
ctrl = 0
anim = 16000
poweradd = -2000
sprpriority = 2  

[State 19981, SS]
type = StopSnd
trigger1 = Time = 0
channel = 0


[State 19500,EnvColor]
type = EnvColor
trigger1 = Time = 0
value = 248,248,248
time = 2
under = 1

[State 3060, Schermo Nero]
type = EnvColor
trigger1 = AnimElem = 1, =2
time = 24                   
value = 0,0,0
under = 1

[State 17000, Explod]
type = Explod
trigger1 =  AnimElem = 1, =2     
anim = 4002
pos = 36, -50
postype = p1
supermove = 1
sprpriority = 7
bindtime = 1

[State 17000, Explod]          ;polvere
type = Explod
trigger1 =  AnimElem = 4      
anim = 8502
pos = 0,20
postype = p1
supermove = 1
ontop = 1
bindtime = 1

[State 17000, SE]         ;fischio o vento
type = PlaySnd
trigger1 = AnimElem = 4
value = 41, 1


[State 17000, Explod]
type = Explod
trigger1 = AnimElem = 1, =2  
anim = 4003
pos = 36, -50
postype = p1
supermove = 1
supermovetime = 9999
pausemovetime = 9999
under = 1

[State 17000, SP]
type = SuperPause
trigger1 = AnimElem = 1, =2
time = 24
anim = -1
unhittable = 1
;darken = 1

[State 19500, SE]
type = EnvShake
trigger1 = AnimElem = 1, =2
ampl = 8
time = 30


[State 16000, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S, HA         
hitflag = MAF
guardflag = MAF
priority = 6, Miss    
pausetime = 0,0
guard.pausetime = 0,10
sparkno = 50  
sparkxy = 0,-75
guard.sparkno = S8005
hitsound   = S800,0
guardsound = 11, 2
sprpriority = 1
p1stateno = 17001    
p2stateno = 16005          
fall = 1

[State 17000, Blink]  ;si colora bello chiaro
type = PalFX
trigger1 = AnimElem = 1
time = 15
sinadd = 50,50,50,3

[State 3160, BGPALFX]       ;inversione colori schermo
type = BGPalFX
trigger1 = AnimElemTime(1) > 3            
time = 10
invertall = 1
value = 0
ignorehitpause = 1
scale = 1.08, 1.08

[State 17000, SE]         ;sfx della super a 2
type = PlaySnd
trigger1 = AnimElem = 1, =2
value = 3000, 1;SE  

[State 17000, SE]         
type = PlaySnd
trigger1 = AnimElem = 1, =2
value = 17029,0
channel = 1

[State 16003, Afterimage]   ;la solita scia
type = AfterImage
trigger1 = AnimElem = 1, =2
length = 10
paladd = 100,10,10
palmul = .65,.72,.80
;PalBright   =  30, 30,  0
;PalContrast =  20, 70, 70
TimeGap  = 1
FrameGap = 1
Trans = add1
time = 16

[State 16000, Velset]
type = Velset
trigger1 = AnimElem = 4
x = 30 
y = -9

[State 16000, Veladd]
type = VelAdd
trigger1 = AnimElem = 4
x = 30
y = -6

[State 16000, StopSnd]
type = StopSnd
trigger1 = AnimTime = 0
channel = 1

[State 16000, CS]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 5
trigger2 = AnimTime = 20
trigger3 = moveguarded
value = 1301
ctrl = 0

;--------------------------------------------
;filotto P1 continua
[Statedef 17001]
type    = S
movetype= A
physics = A
anim = 16001
ctrl = 0

[State 16003, Afterimage]   ;la solita scia
type = AfterImage
trigger1 = AnimElem = 1
length = 10
paladd = 100,10,10
palmul = .65,.72,.80
;PalBright   =  30, 30,  0
;PalContrast =  20, 70, 70
TimeGap  = 1
FrameGap = 1
Trans = add1
time = 180

[State 3160, BGPALFX]       ;inversione colori schermo
type = BGPalFX
trigger1 = time > 0            
time = 10
invertall = 1
value = 0
ignorehitpause = 1
scale = 1.08, 1.08

[State 17001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow


[State 17001, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 17001, Velset]
type = Velset
trigger1 = time = 0
x = 25
y = -4

[State 17001, Veladd]
type = VelAdd
trigger1 = time = 0
x = 25
y = -4

[State 10101, Bind 1]        ;il p2 davanti a giano
type = TargetBind
trigger1 = 1
pos = 79, -81

[State 17001, Pause]
type = Pause
trigger1 = FrontEdgeBodyDist < 5
time = 5

[State 16000, Life 1]        
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -70
kill = 0
absolute = 0

[State 17001, State End]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 5
trigger2 = AnimTime = 50
value = 17002
ctrl = 0

;--------------------------------------------
;filotto salta dall'altro lato
[Statedef 17002]
type    = S
movetype= A
physics = N
anim = 16002
ctrl = 0

[State 3160, BGPALFX]       ;inversione colori schermo
type = BGPalFX
trigger1 = time > 0            
time = 10
invertall = 1
value = 0
ignorehitpause = 1
scale = 1.08, 1.08

[State 10101, Bind 1]        ;il p2 davanti a giano
type = TargetBind
trigger1 = 1

[State 16004, State 1]        
type = TargetState
trigger1 = 1                  ;AnimElem = 1
value = 16006

[State 16002, Explod]
type = Explod
trigger1 = AnimElem = 1
;trigger1 = FrontEdgeBodyDist < 30
anim = 8501
sprpriority = 6
postype = p1
pos = 60,-60                         ;postype = front ;pos = 0,80
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 16002, Explod]
type = Explod
trigger1 = AnimElem = 1
;trigger1 = FrontEdgeBodyDist < 30
anim = 8129
sprpriority = 5
postype = p1
pos = 60,-60
facing = -1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1


[State 16002, Turn]
type = Turn
trigger1 = AnimElem = 1

[State 16001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 16002, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA


[State 16002, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1020, 1
volume = 150

[State 16000, Life 1]        
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -70
kill = 0
absolute = 0


[State 16002, Velset]
type = Velset
trigger1 = AnimElem = 1
x = 25
y = -4

[State 16002, Veladd]
type = VelAdd
trigger1 = AnimElem = 1
x = 25
y = -4

[State 16002, 3]
type = EnvShake
trigger1 = FrontEdgeBodyDist < 30
time = 20
ampl = -12
freq = 108

[State 16002, Pause]
type = Pause
trigger1 = FrontEdgeBodyDist < 5
time = 5

[State 16002, State End]
type = ChangeState
trigger1 = FrontEdgeBodyDist < 5
trigger2 = AnimTime = 50
value = 17003
ctrl = 0

;----------------------------------------------------
;filotto p1 si porta a terra il p2
[Statedef 17003]
type    = A
movetype= A
physics = N
anim = 16003
ctrl = 0


[State 3160, BGPALFX]       ;inversione colori schermo
type = BGPalFX
trigger1 = time > 0            
time = 2
invertall = 1
value = 0
ignorehitpause = 1
scale = 1.08, 1.08

[State 17003, SE]   
type = PlaySnd
trigger1 = AnimElem = 1
value = 12,2
volume = 255

[State 17003, SE]   
type = PlaySnd
trigger1 = AnimElem = 1
value = 12,3
volume = 255


[State 16003, Explod]
type = Explod
trigger1 = AnimElem = 1
;trigger1 = FrontEdgeBodyDist < 30
anim = 8501
sprpriority = 6
postype = p1
pos = 40,-50 
;postype = front
;pos = 0,45
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 16003, Explod]
type = Explod
trigger1 = AnimElem = 1
;trigger1 = FrontEdgeBodyDist < 30
anim = 8129
sprpriority = 5
postype = p1
pos = 40,-50
facing = -1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 16003, Explod]    ;explod che sbatte per terra
type = Explod
trigger1 = AnimTime = 3
anim = 8500
sprpriority = 6
pos = 50,0
pausemovetime = 9999
supermovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1

[State 16003, Explod]    
type = Explod
trigger1 = AnimTime = 3
anim = 8506
sprpriority = 5
pos = 50,0
pausemovetime = 9999
supermovetime = 9999
bindtime = -1
ownpal = 1
ignorehitpause = 1


[State 16003, SE]         
type = PlaySnd
trigger1 = AnimTime = 3
value = 17022,0
channel = 1
volume = 150


[State 16003, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA


;[State 16003, BindToTarget]
;type = BindToTarget
;trigger1 = 1
;time = 1                        
;pos = 0,6,Head

[State 10101, State 1]        
type = TargetState
trigger1 = AnimElem = 1
value = 16007

[State 10101, Bind 1]        ;il p2 trascinato
type = TargetBind
trigger1 = 1
pos = 30, 0

[State 16000, Life 1]        
type = TargetLifeAdd
trigger1 = AnimElem = 1
value = -70
kill = 0
absolute = 1

[State 16500,EnvColor]
type = EnvColor
trigger1 = AnimElem = 1
value = 248,248,248
time = 2
under = 1

[State 16003, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1020, 1
volume = 150

[State 16002, Turn]
type = Turn
trigger1 = AnimElem = 1

[State 16003, Velset]
type = Velset
trigger1 = AnimElem = 1
x = 10
y = 25

[State 16003, Veladd]
type = VelAdd
trigger1 = AnimElem = 1
x = 10
y = 25

[State 16003, PosAdd]  
type = PosSet
trigger1 = AnimTime = 0
y = 0

[State 16003, 3]
type = EnvShake
trigger1 = FrontEdgeBodyDist < 30
time = 20
ampl = -12
freq = 108

[State 16003, CG]
type = ChangeState
;trigger1 = AnimTime = 0
trigger1 = Pos Y >= 0
value = 17005       
ctrl = 0

;----------------------------------------------------
;filotto P1 pugno e rialzata
[Statedef 17005]
type    = S
movetype= I
physics = S
anim = 17005
velset = 0,0
ctrl = 0

[state 17005, AS]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 17005, PosSet]
type = posset
trigger1 = time = 0
Y = 0

[State 10101, State 1]        
type = TargetState
trigger1 = animelem = 1
value = 17006

[State 17001, SE]   
type = PlaySnd
trigger1 = AnimElem = 19
value = 10005,0
volume = 255

[State 17001, SE]   
type = PlaySnd
trigger1 = AnimElem = 19
value = 17012,0

[State 17005, SE]   
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000,4
volume = 255

[State 17005, BGPALFX]       ;inversione colori schermo
type = BGPalFX
trigger1 = AnimElemTime(1) > 0
trigger1 = AnimElemTime(21) < 2
time = 2
invertall = 1
value = 0
ignorehitpause = 1
scale = 1.08, 1.08

[State 17003, BindToTarget]
type = BindToTarget
trigger1 = AnimElem = 19           
time = 1                        
pos = 0,50,Mid

[State 17005, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 19500,EnvColor]
type = EnvColor
trigger1 = AnimElem = 19
value = 248,248,248
time = 2
under = 1

[State 3060, Schermo Nero]
type = EnvColor
trigger1 = AnimElem = 19, 2
time = 2                 
value = 0,0,0
under = 1

[State 16000, Life 1]        
type = TargetLifeAdd
trigger1 = AnimElem = 19
value = -240
kill = 1
absolute = 1

[State 17005, 3]
type = EnvShake
trigger1 = AnimElem = 19
ampl = 35
time = 45
freq = 100

[State 17005, Explod]
type = Explod
trigger1 = AnimElem = 19
anim = 8504
sprpriority = 5
postype = p1
pos = 0,0
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 17005, Explod]
type = Explod
trigger1 = AnimElem = 19
anim = 8500
sprpriority = 7
postype = p1
pos = 0,0
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 17005, Explod]
type = Explod
trigger1 = AnimElem = 21
anim = 8506
sprpriority = 6
postype = p1
pos = 0,0
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 17005, Explod]
type = Explod
trigger1 = AnimElem = 25
anim = 8008
sprpriority = 6
postype = p1
pos = 0,0
ontop = 1
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1
scale = 1.5

[State 17005, Explod]    ; Esplosione MAX
type = Explod
trigger1 = AnimElem = 19
anim = 8105
ID = 8105
postype = left
pos = 160,245
scale = 1.08,1.08
facing = facing
bindtime = -1
removetime = 40
sprpriority = -3
ownpal = 1

[State 17005, Explod]
type = Explod
trigger1 = AnimElem = 19
anim = 8022
sprpriority = 6
postype = p1
pos = 0,0
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1
ontop = 1

[State 17005, AssertSpecial]
type = AssertSpecial
trigger1 = NumExplod(8105)
flag = NoBG
flag2 = NoFG
ignorehitpause = 1

;[State 17003, BindToTarget]  ;era di kuando forse va eliminato
;type = BindToTarget
;trigger1 = AnimTime = 0         
;time = 1                        
;pos = 40,0,Foot

[State 17005, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 17009                    
ctrl = 0


;-----------------------------------------------------
;filotto il p2 subisce il colpo finale
[Statedef 17006]
type    = S      
movetype= H
physics = N
velset = 0,0
ctrl = 0
;anim = 17006

[State 17006, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 17006

[State 17006, 1]    
type = Playerpush
trigger1 = time >= 0
value = 0

[state 17005, AS]
type = assertspecial
trigger1 = 1
flag = noshadow

[State 17006, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 17006, 2]
type = SelfState
Trigger1 = AnimTime = 0
value = 5100                ;5110

;-----------------------------------------------------
;TESTEDICOCCO il p2 sbattuto a terra poi subisce il pugno finale
[Statedef 17007]
type    = L      
movetype= H
physics = N
velset = 0,0
ctrl = 0
;ID = 17007 

[State 17007, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 17007

[State 17007, 2]
type = SelfState
Trigger1 = AnimTime = 0
value = 5100  

;------------------------------------------------------

;salto indietro
[Statedef 17009]
type = A
movetype = I
physics = A
poweradd = 0
ctrl = 0
anim = 17009
velset = 0,0

[State vel]
type	= veladd
trigger1 = time = 0
x = -6
y = -3


            


;=========================================================
;--MOSSE VS--
;-SERIE DI PUNCH (giano vs giano)
[Statedef 19900]
type = S
movetype = A
physics = S
anim = 19900
velset = 0, 0
ctrl = 0

[State 17000, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S, ST          
hitflag = M-         
priority = 1, Miss    
pausetime = 0,0
sparkno = 50          
sparkxy = 0,-75
;hitsound   = s17010,0
sprpriority = 1
p2facing = 1
p1stateno = 19901    
p2stateno = 19910  
;mindist = -50
;maxdist = -100      
fall = 1

[State 19900, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------------------
;SERIE DI PUNCH continuazione pugni p1
[Statedef 19901]
type = S
movetype = A
physics = S
anim = 19901
velset = 0, 0
sprpriority = 4
ctrl = 0

[State 19901, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 19900, 0; 

[State 180, 2]
type = PowerAdd
trigger1 = AnimElem = 29
value = 1000

[State 19901, SE]
type = PlaySnd
trigger1 = AnimElem = 8
value = 10005,0

[State 19901, SE]
type = PlaySnd
trigger1 = AnimElem = 16
value = 11000,0

[State 19901, SE]
type = PlaySnd
trigger1 = AnimElem = 24
value = 11002,0

[State 19901, SE]
type = PlaySnd
trigger1 = AnimElem = 33
value = 10130,0

[State 19901, SE]
type = PlaySnd
trigger1 = AnimElem = 33
value = 800,1

[State 180, 3]
type = LifeAdd
trigger1 = AnimElem = 8
trigger2 = AnimElem = 16
trigger3 = AnimElem = 24
trigger4 = AnimElem = 33
value = -20
kill = 0
absolute = 1

[State 19901, Nothitby]    ;da controllare 
type = NotHitBy
trigger1 = 1
value = SCA

[State 19901, Width]
type = Width
trigger1 = 1
edge = 70

[State 19001, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 8302
persist = 0
sprpriority = 5
postype = p1
pos = -45,-85
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1
ontop = 1

[State 19001, Explod]
type = Explod
trigger1 = AnimElem = 8
anim = 8005
persist = 0
sprpriority = 5
postype = p1
pos = 30,-95
;random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 19001, Explod]
type = Explod
trigger1 = AnimElem = 8
anim = 8018
persist = 0
sprpriority = 6
postype = p1
pos = 40,-80
;random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 19001, Explod]
type = Explod
trigger1 = AnimElem = 15
anim = 8018
persist = 0
sprpriority = 5
postype = p1
pos = 20,-50
;random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 19001, Explod]
type = Explod
trigger1 = AnimElem = 25
anim = 8018
persist = 0
sprpriority = 5
postype = p1
pos = 30,-80
;random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 19001, Explod]
type = Explod
trigger1 = AnimElem = 33
anim = 8018
persist = 0
sprpriority = 6
postype = p1
pos = 30,-75
;random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 19001, Explod]
type = Explod
trigger1 = AnimElem = 33
anim = 8005
persist = 0
sprpriority = 5
postype = p1
pos = 20,-85
;random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 19001, Explod]
type = Explod
trigger1 = AnimElem = 33
anim = 8007
persist = 0
sprpriority = 5
postype = p1
pos = 30,-70
;random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 19001, Explod]
type = Explod
trigger1 = AnimElem = 33
anim = 8506
persist = 0
sprpriority = 5
postype = p1
pos = 20,-10
;random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1
ontop = 1

[State 180, 3]
type = EnvShake
trigger1 = AnimElem = 8
time = 8
ampl = -10
freq = 120

[State 180, 3]
type = EnvShake
trigger1 = AnimElem = 15
trigger2 = AnimElem = 25
time = 6
ampl = -7
freq = 120

[State 180, 4]
type = EnvShake
trigger1 = AnimElem = 34
time = 17
ampl = -15
freq = 165

[State 19900, CG]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;-------------------------------------------
;SERIE DI PUNCH continuazione pugni p2 
[Statedef 19910]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
sprpriority = 3
anim = 19910

[State 19912, PosAdd]
type = PosAdd
trigger1 = Time = 1
x = -20

[State 19910, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 180, 3]
type = LifeAdd
trigger1 = AnimElem = 13
trigger2 = AnimElem = 23
trigger3 = AnimElem = 29
value = -30
kill = 0
absolute = 1

[State 180, 2]
type = PowerAdd
trigger1 = AnimElem = 29
value = 1000

[State 19010, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 8302
persist = 0
sprpriority = 5
postype = p1
pos = -30,-90
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1
ontop = 1

[State 19910, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 19911
ctrl = 0

;------------------------------------------------
;SERIE DI PUNCH p2 scatta all'indietro 
[Statedef 19911]
type = A
movetype = I
physics = N
anim = 19911
ctrl = 0
velset = 0, 0

[State 19911, Velset]
type = VelSet
trigger1 = AnimElem = 1
x = Const(velocity.run.back.x)
y = Const(velocity.run.back.y)

[State 19911, VelAdd]
type = VelAdd
trigger1 = AnimElem = 1, > 0
y = .43

[State 19911, CG]
type = ChangeState
;trigger1 = AnimElem = 3, > 0
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 19912

;------------------------------------------------
;SERIE DI PUNCH p2 atterra
[Statedef 19912]
type = S
movetype = I
physics = S
anim = 19912
ctrl = 0
velset = 0, 0

[State 19912, SE]
type = PlaySnd
trigger1 = time = 0
value = 11000,0
volume = 125

[State 19912, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 8003
postype = p1
pos = -30,20
bindtime = 1
supermove = 1
ontop = 1
sprpriority = 7
ownpal = 1
shadow = -1
pausemovetime = 9999

[State 19912, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 10142
postype = p1
pos = 30,20
bindtime = 1
supermove = 1
ontop = 1
sprpriority = 7
ownpal = 1
shadow = -1
pausemovetime = 9999

[State 19912, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 19912, VS]
type = VarSet
trigger1 = AnimTime = 0 
var(7) = 0

[State 19912, SelfState] 
type = SelfState
trigger1 = AnimTime = 0 
value = 0 
ctrl = 1

;------------------------------------------------------
;Adore (Ubu VS Kuando) subimento Kuando
[Statedef 19925]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
sprpriority = 3
anim = 19925

[State 19925, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 19901, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 10051,0
volume = 100

[State 180, 2]
type = PowerAdd
trigger1 = AnimElem = 32
value = 1000

[State 180, 3]
type = LifeAdd
trigger1 = AnimElem = 32
value = -80
kill = 0
absolute = 1

[State 19041, Explod]
type = Explod
trigger1 = AnimElem = 2
anim = 8302
persist = 0
sprpriority = 5
postype = p1
pos = 0,-100
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1
ontop = 1

[State 19921, PosAdd]
type = PosAdd
trigger1 = Time = 1
x = -9

[State 19925, VS]
type = VarSet
trigger1 = AnimTime = 0 
var(7) = 0

[State 19921, PosAdd]
type = PosAdd
trigger1 = AnimTime = 0
x = -100

[State 19925, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 5120
ctrl = 1

;------------------------------------------------------------------
;SONOLEDUE (Ella VS Kuando) subimento Kuando
[Statedef 19945]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
sprpriority = 3
anim = 19945

[State 19945, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 180, 2]
type = PowerAdd
trigger1 = AnimElem = 44
value = 1000

[State 180, 3]
type = LifeAdd
trigger1 = AnimElem = 15
trigger2 = AnimElem = 32
trigger3 = AnimElem = 44
value = -25
kill = 0
absolute = 1


[State 19041, Explod]
type = Explod
trigger1 = AnimElem = 1
anim = 8302
persist = 0
sprpriority = 5
postype = p1
pos = -5,-80
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1
ontop = 1

[State 19945, PosAdd]
type = PosAdd
trigger1 = Time = 1
x = -20

[State 19945, SP]
type = Sprpriority
trigger1 = AnimElemTime(13) > 0
trigger1 = AnimElemTime(23) < 2
value = 5

[State 19945, SP]
type = Sprpriority
trigger1 = AnimElemTime(23) > 0
value = 3

[State 19945, VS]
type = VarSet
trigger1 = AnimTime = 0 
var(7) = 0


[State 19945, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0                   ;5120
ctrl = 1

;---------------------------------------------------
;-Adore (giano vs Ubu)
[Statedef 19960]
type = S
movetype = A
physics = S
anim = 19900
velset = 0, 0
ctrl = 0

[State 19900, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S, ST          
hitflag = M-         
priority = 1, Miss    
pausetime = 0,0
sparkno = 50          
sparkxy = 0,-75
;hitsound   = s17010,0
sprpriority = 1
p2facing = 1
p1stateno = 19925
p2stateno = 19921
;mindist = -50
;maxdist = -100      
fall = 1

[State 180, 4]
type = EnvShake
trigger1 = Time = 0
time = 3
ampl = -4
freq = 165

[State 19920, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------
;Adore (giano vs Ubu) subimento Ubu
[Statedef 19921]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
sprpriority = 3
;anim = 19921

[State 19921, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 19921, VS]
type = VarSet
trigger1 = AnimTime = 0 
var(7) = 0

[State 19921, 1]
type = SelfState
trigger1 = Time = 0
value = 19921       ;Ubu va alla sua anim
ctrl = 0

;---------------------------------------------------
;-SONOLEDUE! (giano vs Ella)
[Statedef 19970]
type = S
movetype = A
physics = S
anim = 19900
velset = 0, 0
ctrl = 0

[State 19970, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S, ST          
hitflag = M-         
priority = 1, Miss    
pausetime = 0,0
sparkno = 50          
sparkxy = 0,-75
;hitsound   = s17010,0
sprpriority = 1
p2facing = 1
p1stateno = 19945 
p2stateno = 19941
;mindist = -50
;maxdist = -100      
fall = 1

[State 180, 4]
type = EnvShake
trigger1 = Time = 0
time = 3
ampl = -4
freq = 165

[State 19970, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------
;SONOLEDUE! (Ella vs giano) Ella subisce 
[Statedef 19941]
type    = S
movetype= I
physics = S
velset = 0,0
ctrl = 0
sprpriority = 3
anim = 19941

[State 19941, Nothitby]    
type = NotHitBy
trigger1 = 1
value = SCA

[State 19941, PosSet]
type = PosSet
trigger1 = 1
y = 0

[State 19941, VS]
type = VarSet
trigger1 = AnimTime = 0 
var(7) = 0

[State 19941, 1]
type = SelfState
trigger1 = Time = 0
value = 19941       ;Ella va alla sua anim
ctrl = 0

;-------------------------------------------------------------
;-SpecialCharge (giano vs Altri)
[Statedef 19980]
type = S
movetype = A
physics = S
anim = 19900
velset = 0, 0
ctrl = 0

[State 19981, SS]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 19000, HitDef]
type = HitDef
Trigger1 = Time = 0
attr = S, ST          
hitflag = M-         
priority = 1, Miss    
pausetime = 0,0
sparkno = 50          
sparkxy = 0,-75
;hitsound   = s17010,0
sprpriority = 1
p2facing = 1
p1stateno = 19981   
p2stateno = 19985  
;mindist = -50
;maxdist = -100      
fall = 1

[State 19901, SE]
type = PlaySnd
trigger1 = Time = 0
value = 10111, 0;

[State 19900, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------
;SuperCharge (giano vs altri) continuazione pugni p1
[Statedef 19981]
type = S
movetype = A
physics = S
anim = 19981
velset = 0, 0
sprpriority = 4
ctrl = 0

[State 19981, Nothitby]    ;da controllare 
type = NotHitBy
trigger1 = 1
value = SCA

[State 10101, Width]    ;distanza dal bordo
type = Width
trigger1 = 1
edge = 75,10

[State 19981, SE]
type = PlaySnd
trigger1 = AnimElem = 1
value = 19900, 0; 

[State 19041, Explod]
type = Explod
trigger1 = AnimElem = 3
anim = 8302
persist = 0
sprpriority = 5
postype = p1
pos = 0,-135
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1
ontop = 1

[State 210, EnvColor]
type = EnvColor
trigger1 = AnimElem = 3
time = 1
value = 255,255,255
under = 1
ignorehitpause = 1

[State 180, 4]
type = EnvShake
trigger1 = AnimElem = 3
time = 10
ampl = -8
freq = 165

[State 1020, Blink]  ;si colora bello chiaro
type = PalFX
trigger1 = AnimElem = 8
time = 12
sinadd = 100,100,100,3

[State 180, 2]
type = PowerAdd
trigger1 = AnimElem = 8
value = 1000

[State 19981, HitDef]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype = diagup         ;Back
damage = 50
guardflag = M
pausetime = 0,2
;sparkxy = 0,-55
sparkno = S99999
hitsound = S210,2
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -5.0,-4.0
air.velocity = -5.5,-4.7
fall = 1
maxdist = 15, -25
mindist = 15, -25

[State 19981, SE]
type = PlaySnd
trigger1 = AnimElem = 6
value = 17020,0 
volume = 255

[State 180, 4]
type = EnvShake
trigger1 = AnimElem = 6
time = 12
ampl = -6
freq = 165

[State 19021, Explod]      
type = Explod
trigger1 = AnimElem = 6
anim = 8500
persist = 0
sprpriority = 5
postype = p1
pos = 15,-135
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 19021, Explod]      
type = Explod
trigger1 = AnimElem = 6
anim = 8125
persist = 0
sprpriority = 5
postype = p1
pos = 15,-135
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1
ontop = 1

[State 10101, Bind 1]
type = TargetBind
trigger1 = Time = [0,43] 
pos = 15,-140

[State 19900, 1]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------------------------------------------
;SuperCharge (giano vs altri) lo state in cui va il p2 se preso
[Statedef 19985]
type    = A    
movetype= H
physics = N    
velset = 0,0
ctrl = 0

;[State 19985, Nothitby]    
;type = NotHitBy
;trigger1 = Time = [0,43] 
;value = SCA

[State 1020, Blink]  ;si colora bello chiaro
type = PalFX
trigger1 = Time = 31
time = 12
sinadd = 100,100,100,3

[State 180, 2]
type = PowerAdd
trigger1 = Time = 35
value = -1000

;[State 4003, PosAdd]
;type = PosAdd
;trigger1 = Time = 43
;x = 65
;y = 0

[State 19985, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 19985

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = AnimTime = 0
value =  0

;---------------------------------------------------------------------------
;
;=============================================================================================
; schivo
[Statedef 725]
type = S
movetype = I
physics = S
anim = 725
velset = 0
ctrl = 0

[State 725, 1]
type = HitBy
trigger1 = Time = 0
value = SCA, NT, ST, HT
time = 47             

[State 725, 2]
type = SprPriority
trigger1 = Time = 0
value = -2

[State 725, 3]
type = PlayerPush
trigger1 = Time >= 0
value = 0

[State 725, 4]
type = PlaySnd
triggerall = Random < 300
trigger1 = Time = 1
value = 725,0;
volume = -20

[State 725, 5]
type = ChangeState
triggerall = AnimElem = 1, > 0
trigger1 = command = "x"
trigger2 = command = "a"
trigger3 = command = "y"
trigger4 = command = "b"
value = 730

[State 725, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------------------------------------------
; schivo e colpisco
[Statedef 730]
type = S
movetype = A
physics = S
anim = 730
poweradd = 60

[State 730, 1]
type = HitBy
trigger1 = Time = 0
value = SCA

[State 730, 3]
type = HitDef
trigger1 = time = 0
attr = S, NA
damage = 50
animtype = hard
guardflag = MA
sparkno = S8018
guard.sparkno = S8060
sparkxy = -10,-65
hitsound = s210,2
guardsound = 6,0
pausetime = 12,12
ground.hittime = 19
ground.type = low
ground.slidetime = 19
ground.velocity = -10
air.velocity = -4,-3

[State 730, Explod]
type = Explod
triggerall = movehit
trigger1 = AnimElem = 8
anim = 8001
sprpriority = 5
postype = p2
pos = -10,-52
random = 25,25
pausemovetime = 9999
supermovetime = 9999
bindtime = 1
ownpal = 1
ignorehitpause = 1

[State 730, 5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
;rotolino av
[Statedef 750]
type = S
movetype = I
physics = S
anim = 750
velset = 0
ctrl = 0

[State 750, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 26

[State 750, 2]
type = AfterImage
trigger1 = Time = 3
time = 16
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2
length = 5

[State 750, 3]
type = SprPriority
trigger1 = Time = 8
value = -2

[State 750, 4]
type = VelSet
trigger1 = Time = [8,22]
x = 7 ;5

[State 750, 4.5]
type = PosAdd
trigger1 = AnimElem = 4
x = 10

[State 750, 5]
type = PlayerPush
trigger1 = Time = [8,22]
value = 0

[State 750, 6]
type = VelSet
trigger1 = AnimElem = 9
x = 0

[State 750, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
;rotolino ind
[Statedef 775]
type = S
movetype = I
physics = S
anim = 775
velset = 0
ctrl = 0

[State 775, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 25

[State 775, 2]
type = AfterImage
trigger1 = Time = 3
time = 16
trans = add1
timegap = 2
PalBright = 0,0,0
PalContrast = 128,128,128
PalAdd = 0,0,0
PalMul = 1,1,1
framegap = 2
length = 5

[State 775, 3]
type = SprPriority
trigger1 = Time = 7
value = -2

[State 775, 4]
type = VelSet
trigger1 = Time = [7,20]
x = -7 ;-5

[State 775, 405]
type = PosAdd
trigger1 = AnimElem = 3
x = -8

[State 775, 5]
type = PlayerPush
trigger1 = Time = [7,20]
value = 0

[State 775, 6]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 775, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;=================================================
;CARICAMENTO INIZIO
[Statedef 700]
type = S
movetype = I
physics = S
anim = 700
velset = 0
ctrl = 0

[State 700, 2]
type = PlaySnd
trigger1 = Time = 0
value = 700,0
channel = 0
volume = -50

[State 700, 3]
type = PowerAdd
trigger1 = ((Time + 2) % 2) = 0
value = 5 ;60

[State 700, 4]
type = ChangeState
trigger1 = power >= 5000
value = 715

[State 700, 5]
type = ChangeState
triggerall = AnimElem = 2, >= 0
trigger1 = command != "hold_x"
trigger2 = command != "hold_a"
value = 710

[State 700, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 705

;-----------------
;-CARICAMENTO LOOP
[Statedef 705]
type = S
movetype = I
physics = S
anim = 705

[State 705, 1]
type = PowerAdd
trigger1 = ((Time + 2) % 2) = 0
value = 60

[State 705, 2]
type = Explod
trigger1 = ((Time + 12) % 12) = 0
anim = 711
sprpriority = 3
postype = p1
pos = -12,5
bindtime = -1

[State 705, 3]
type = ChangeState
trigger1 = power >= 5000
value = 715

[State 705, 4]
type = ChangeState
trigger1 = command != "hold_x"
trigger2 = command != "hold_a"
value = 710

[State 705, 5]
type = EnvShake
trigger1 = AnimElem = 5
trigger2 = AnimElem = 6
trigger3 = AnimElem = 7
trigger4 = AnimElem = 8
time = 3
ampl = -2
freq = 90

;-----------------
;-CARICAMENTO RITORNO (se il caricamento viene spezzato)
[Statedef 710]
type = S
movetype = I
physics = S
anim = 710

[State 710, 1]
type = StopSnd
trigger1 = Time = 0
channel = 0

[State 710, 2]
type = StopSnd
trigger1 = Time = 0
channel = 1

[State 710, 3]
type = RemoveExplod
trigger1 = Time = 0

[State 710, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;-----------------
;CarMAX
[Statedef 715]
type = S
movetype = I
physics = S
anim = 715
ctrl = 0

[State 715, 1]
type = StopSnd
trigger1 = Time = 10
channel = 0

[State 715, 2]
type = StopSnd
trigger1 = Time = 10
channel = 1

[State 715, 3]
type = RemoveExplod
trigger1 = Time = 12

[State 715, 4]
type = Explod
trigger1 = AnimElem = 1
anim = 720
postype = p1
pos = -12,-3
sprpriority = 4
bindtime = 1
ownpal = 1

[State 715, 5]
type = EnvShake
trigger1 = AnimElem = 1
time = 20

[State 715, 6]
type = PalFX
trigger1 = AnimElem = 1
add = 64,64,64
time = 6

[State 715, 7]
type = PlaySnd
trigger1 = AnimElem = 1
value = 700,1

[State 715, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;==========================================
[Statedef 5201]
type = S
movetype = I
physics = N
anim = 5200
ctrl = 0

[State 5201,0]
type = turn
trigger1 = Time = 0
trigger1 = Vel X > 0
 
[State 5201,1]
type = VelSet
trigger1 = Time = 0
x = -3.0
y = 0

[State 5201,2]
type = VelAdd
trigger1 = Time >= 16
x = .80

[State 5201,3]
type = VelSet
trigger1 = Time > 16
trigger1 = Vel X >= 0
x = 0
y = 0

[State 5201,4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5201,5]
type = NotHitBy
trigger1 = Time >= 0
value = SCA

[State 5201,6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;============================================================================
[Statedef 780]
type = S
movetype = A
physics = S
poweradd = -1000
anim = 730
ctrl = 0

[State 780,0]
type = SuperPause
trigger1 = Time = 0
time = 10
movetime = 10
anim = S780
pos = 0,-60

[State 780, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 780, SE]
type = PlaySnd
trigger1 = AnimElem = 2
value = 730, 0

[State 780, SE]
type = PlaySnd
trigger1 = AnimElem = 3
value = 210, 1

[State 780, AfterImage]
type = AfterImage
trigger1 = Time = 3
time = 12
trans = add1
timegap = 1
framegap = 2
length = 8

[State 780, 3]
type = HitDef
trigger1 = time = 0
attr = S, SA
animtype = Back
damage = 10
guardflag = M
pausetime = 14,14
sparkxy = 0,-55
sparkno = 1
hitsound = 5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime = 15
ground.velocity = -5.0,-3.0
air.velocity = -5.5,-3.7
fall = 1

[State 780, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------
[Statedef 790]
type = S
movetype = I
physics = S
anim = 750
velset = 0
poweradd = -1000
ctrl = 0

[State 790,0]
type = SuperPause
trigger1 = Time = 0
time = 10
movetime = 10
anim = S780
pos = 0,-60

[State 790, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 790, 2]
type = AfterImage
trigger1 = Time = 3
time = 22
trans = add1
timegap = 1
framegap = 2
length = 8

[State 790, 3]
type = SprPriority
trigger1 = Time = 8
value = -2

[State 790, 4]
type = VelSet
trigger1 = Time = [4,24]
x = 5

[State 790, 5]
type = PlayerPush
trigger1 = Time = [4,24]
value = 0

[State 790, 6]
type = VelSet
trigger1 = AnimElem = 10
x = 0

[State 790,7]
type = Turn
trigger1 = AnimTime = 0 
trigger1 = P2BodyDist X < -5

[State 790, 8]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------------------------
[Statedef 795]
type = S
movetype = I
physics = S
anim = 775
velset = 0
ctrl = 0

[State 795,0]
type = SuperPause
trigger1 = Time = 0
time = 10
movetime = 10
anim = S780
pos = 0,-60

[State 795, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

[State 795, 2]
type = AfterImage
trigger1 = Time = 3
time = 22
trans = add1
timegap = 1
framegap = 2
length = 8

[State 795, 3]
type = SprPriority
trigger1 = Time = 8
value = -2

[State 795, 4]
type = VelSet
trigger1 = Time = [4,24]
x = -5

[State 795, 5]
type = PlayerPush
trigger1 = Time = [4,24]
value = 0

[State 795, 6]
type = VelSet
trigger1 = AnimElem = 8
x = 0

[State 795, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;============================================================================
;AI
[Statedef 9999]
anim = 9999
ctrl = 0

[State 9999, AI]
type = VarSet
trigger1 = Command = "a"
trigger2 = Command = "b"
trigger3 = Command = "c"
trigger4 = Command = "x"
trigger5 = Command = "y"
trigger6 = Command = "z"
trigger7 = Command = "holdup"
trigger8 = Command = "holddown"
trigger9 = Command = "holdfwd"
trigger10 = Command = "holdback"
trigger11 = Command = "s"
var(59) = 1



;============================================================================
[Statedef -2]

;-Health Regen---------------------------------------------------------------
[State -2, Regen]
type = LifeAdd
triggerall = movetype != H
triggerall = Alive   ;<----------if im alive, This will know and I'll start healing
triggerall = RoundState = 2
triggerall = Life < LifeMax*0.99 ;<--------------this determines how much needs to be left in order to gain the regen effect
trigger1 = ceil(GameTime%12) = 1 ;<--------------------im telling this code when to apply the regen effect,decrease the % to make it faster and increase to make slower.
value = 2 
absolute = 1
ignorehitpause = 1

;-Power Regen-----------------------------------------------------------------
[State -2, PowerAdd]
type = PowerAdd
triggerall = RoundState = 2
triggerall = Alive
trigger1 = gametime%5=0
value = 3

;[State -2, SE]
;type = PlaySnd
;triggerall = RoundState = 2
;triggerall = Time = 390 || Time = 1140 || Time = 1920 || Time = 2310
;trigger1 = stateno = 0
;trigger2 = var(8) != 2 || var(8) != -2
;value = 186,0
;volume = -155

[State -2, SE]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 50
trigger2 = stateno = 105
trigger3 = stateno = 51
trigger3 = var(8) != 2 || var(8) != -2
value = 41,0

[State -2, SE]
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 51
trigger1 = var(8) = 2 || var(8) = -2
value = 41,1

[State -2, SE]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52
trigger2 = stateno = 106
value = 40,0

;---------------------------------------------------------------------------
[State -2, SE]
type = PlaySnd
triggerall = Random < 500
triggerall = time = 1
trigger1 = stateno = 200
trigger2 = stateno = 400
trigger3 = stateno = 600
trigger4 = stateno = 230
trigger5 = stateno = 430
trigger6 = stateno = 630
value = 200, 0

[State -2, SE]
type = PlaySnd
triggerall = Random < 500
triggerall = time = 1
trigger1 = stateno = 210
trigger2 = stateno = 410
trigger3 = stateno = 610
trigger4 = stateno = 240
trigger5 = stateno = 440
trigger6 = stateno = 640
trigger7 = stateno = 245
trigger8 = stateno = 215
value = 210, 0

;---------------------------------------------------------------------------
[State -2, SE]
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 200
trigger2 = stateno = 400
trigger3 = stateno = 600
trigger4 = stateno = 430
trigger5 = stateno = 630
value = 200, 1

[State -2, SE]
type = PlaySnd
triggerall = time = 1
trigger1 = stateno = 210
trigger2 = stateno = 410
trigger3 = stateno = 610
trigger4 = stateno = 230
trigger5 = stateno = 240
trigger6 = stateno = 640
trigger7 = stateno = 245
trigger8 = stateno = 215
value = 210, 1

;---------------------------------------------------------------------------
[State -2, SE]
type = PlaySnd
triggerall = Random < 300
triggerall = Time = 1
trigger1 = anim = 5000
trigger2 = anim = 5001
trigger3 = anim = 5010
value = 5000, 0

[State -2, SE]
type = PlaySnd
triggerall = Random < 300
triggerall = Time = 1
trigger1 = anim = 5001
trigger2 = anim = 5011
trigger3 = anim = 5021
value = 5000, 1

[State -2, SE]
type = PlaySnd
triggerall = Random < 300
triggerall = Time = 1
trigger1 = anim = 5002
trigger2 = anim = 5012
trigger3 = anim = 5022
value = 5000, 2

[State -2, SE]
type = PlaySnd
triggerall = Time = 1
trigger1 = anim = 5200
value = 5200, 0

[State -2, SE]
type = PlaySnd
triggerall = Time = 1
trigger1 = anim = 5210
value = 5200, 1

[State -2, SE]
type = PlaySnd
trigger1 = anim = 170
trigger1 = time = 10
value = 5000, 3

[State -2, SE]
type = PlaySnd
trigger1 = anim = 10851
trigger1 = Time = 6
value = 800, 2;
volume = -10
;---------------------------------------------------------------------------
[State -2, RemoveExplod]
type = RemoveExplod
triggerall = NumExplod(3001) = 1
trigger1 = Stateno != 3000
ID = 3001

[State -2, RemoveExplod]
type = RemoveExplod
triggerall = NumExplod(3210) = 1
trigger1 = Stateno != 3201
ID = 3210

;---------------------------------------------------------------------------
;COMANDI FINALI
[State, VarSet]
type = VarSet
triggerall = stateno = 1000 || stateno = 1010 || stateno = 1100 || stateno = 1110
triggerall = Time >= 10
trigger1 = command = "graborama" || command = "psycho" 
trigger1 = power >= 2000
var(10) = 1

[State, PalFX]
type = PalFX
triggerall = stateno = 1000 || stateno = 1010 || stateno = 1100 || stateno = 1110
triggerall = Time >= 10
trigger1 = command = "graborama" || command = "psycho" 
trigger1 = power >= 2000
add = 255,255,255
time = 4

[State, Poweradd]
type = Poweradd
triggerall = stateno = 1000 || stateno = 1010 || stateno = 1100 || stateno = 1110
triggerall = Time >= 10
trigger1 = command = "graborama" || command = "psycho" 
trigger1 = power >= 2000
value = -1000

[State, CS]
type = ChangeState
trigger1 = command = "graborama"
trigger1 = power >= 1000
trigger1 = var(10) = 1
value = 3000;
ctrl = 0

[State, CS]
type = ChangeState
trigger1 = command = "psycho" 
trigger1 = power >= 1000
trigger1 = var(10) = 1
value = 3100;
ctrl = 0


;--------------------------------------------------------------------------
[State -2, VarAdd­]
type = VarAdd
triggerall = Var(4) >= 10
trigger1 = stateno = 5000 && Time = 0
v = 4
value = -1

[State -2, ­VarADD]
type = VarAdd
triggerall = Var(4) >= 10
trigger1 = timemod  = 100, 50
v = 4
value = -1
;===========================================================================
[Statedef -3]

;INTRO BASSI
[State -3, Turns Mode Intro]
type = ChangeState
triggerall = teammode = turns
triggerall = roundno > 1
triggerall = time = 0
triggerall = roundstate = 0
trigger1 = roundsexisted <= 0
trigger2 = p2name = "evilryu"
trigger3 = p4name = "evilryu"
trigger4 = p2name = "evilken"
trigger5 = p4name = "evilken"
value = 191

[state -3, nolifebar]
type = assertspecial
trigger1 = roundstate != 2
flag = NoBarDisplay

;-------------------------------------------------
[State -3, VarSet]
type = Varset
trigger1 = var(7) = 1
trigger1 = RoundState = 3
var(7) = 0

[State -3, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
ignorehitpause = 1
text = "AI(var 7) %d, guard(var 4) %d"
params = var(7),var(4)