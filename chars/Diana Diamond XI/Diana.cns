[Data]

life			= 1000
power 			= 4000
attack			= 100
defence			= 100
fall.defence_up		= 50
liedown.time		= 50
airjuggle		= 20
sparkno			= 2
guard.sparkno		= 40
KO.echo			= 0
volume			= 255
IntPersistIndex		= 60
FloatPersistIndex	= 40


[Size]
xscale = 1           ;Horizontal scaling factor.
yscale = 1           ;Vertical scaling factor.
ground.back = 15     ;Player width (back, ground)
ground.front = 13    ;Player width (front, ground)
air.back = 12        ;Player width (back, air)
air.front = 12       ;Player width (front, air)
z.width = 3          ;Player width (into and out)
height = 60	     ;Height of player (for opponent to jump over)
attack.width = 4,4   ;Default attack width: back, front
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too   
head.pos = -5, -90   ;Approximate position of head
mid.pos = -5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow

[Velocity]
walk.fwd  = 2      ;Walk forward
walk.back = -2.5     ;Walk backward
run.fwd  = 5.6, 0    ;Run forward (x, y)  - if y<0, player will hop
run.back = -8.5,-3.8 ;Run backward (x, y) - if y=0, player will run
jump.neu = 0,-7.8     ;Neutral jumping velocity (x, y)
jump.back = -2.75   ;Jump back Speed (x, y)
jump.fwd = 2.8      ;Jump forward Speed (x, y)
runjump.back = -3.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-8.1      ;.
airjump.back = -2.55,-8.1 ;Air jump speeds (opt)
airjump.fwd = 2.5,-8.1    ;.

[Movement]
airjump.num = 0      ;Number of air jumps allowed (opt)
airjump.height = 0  ;Minimum distance from ground before you can air jump (opt)
yaccel = .43         ;Vertical acceleration
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching

;---------------------------------------------------------------------------
; AI Walk
[Statedef 21]
type = S
physics = S
sprpriority = 0
ctrl = 0

[State 21,1]
type = VarSet
trigger1 = !Time
trigger2 = Var(18) < 0
v = 18
value = 0

[State 21,2]
type = VarAdd
triggerall = Var(59) > 9
trigger1 = EnemyNear,Vel X != 0
v = 18
value = 1

[State 21,3]
type = VarAdd
triggerall = Var(59) > 9 && Var(18)
trigger1 = EnemyNear,MoveType = A
trigger2 = EnemyNear,Vel X = 0 && EnemyNear,Time >= 80
v = 18
value = -1

[State 21,4]
type = CtrlSet
trigger1 = (EnemyNear,Pos X-Pos X)*Facing <= 85
trigger2 = EnemyNear,StateType = L
trigger3 = EnemyNear,StateType = A
trigger4 = EnemyNear,MoveType = A
value = 1

[State 21,5]
type = VelSet
trigger1 = (EnemyNear,Pos X-Pos X)*Facing >= 90 && !Var(18)
trigger2 = EnemyNear,Vel X < 0 && Var(18)
trigger3 = EnemyNear,Name = "Diana" && !Var(18)
x = Const(velocity.walk.fwd.x)

[State 21,6]
type = VelSet
trigger1 = EnemyNear,Vel x > 0 && Var(18)
x = Const(velocity.walk.back.x)

[State 21,7]
type = ChangeAnim
triggerall = Vel X > 0
trigger1 = Anim != 20 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 20

[State 21,8]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = Anim != 0
trigger2 = AnimTime = 0
value = 0

[State 21,9]
type = ChangeAnim
triggerall = Vel X < 0
trigger1 = Anim != 21 && Anim != 5
trigger2 = Anim = 5 && AnimTime = 0
value = 21

[State 21,10]
type = ChangeState
triggerall = Var(18)
trigger1 = EnemyNear,Vel X <= -2.5
value = 101

[State 21,11]
type = ChangeState
triggerall = Var(18) && BackEdgeBodyDist >= 30
trigger1 = EnemyNear, Vel X >= 8
trigger2 = Vel X = 0 && Time >= 60 && (EnemyNear,Pos X-Pos X)*Facing <= 120
value = 105

[State 21,12]
type = ChangeState
trigger1 = Win
trigger2 = (EnemyNear,Pos X-Pos X)*Facing <= 20
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; AI RUN_FWD
[Statedef 101]
type = S
physics = S
anim = 100
sprpriority = 1
ctrl = 0

[State 101,1]
type = PosSet
trigger1 = !Time
y = 0

[State 101,2]
type = VarAdd
triggerall = Var(59) > 5
trigger1 = EnemyNear,Vel X != 0
v = 18
value = 1

[State 101,3]
type = VarAdd
triggerall = Var(59) > 5 && Var(18)
trigger1 = EnemyNear,MoveType = A
trigger2 = EnemyNear,Vel X = 0 && EnemyNear,Time >= 80
v = 18
value = -1

[State 101,4]
type = CtrlSet
trigger1 = (EnemyNear,Pos X-Pos X)*Facing <= 85
trigger2 = EnemyNear,StateType = L
trigger3 = EnemyNear,StateType = A
trigger4 = EnemyNear,MoveType = A
value = 1

[State 101,5]
type = Turn
triggerall = PrevStateNo = 2041
trigger1 = Time = 100

[State 101,6]
type = VelSet
trigger1 = EnemyNear,Vel X < 0 && Var(18)
trigger2 = !Var(18)
x = Const(velocity.run.fwd.x)

[State 101,7]
type = ChangeAnim
triggerall = Vel X = 0
trigger1 = Anim != 0
trigger2 = !AnimTime
value = 0

[State 101,8]
type = ChangeAnim
triggerall = Vel X != 0
trigger1 = Anim != 100
trigger2 = !AnimTime
value = 100

[State 101,9]
type = ChangeState
triggerall = Var(59) && Var(18) && BackEdgeBodyDist >= 30
trigger1 = EnemyNear,Vel X >= 0
value = 21

[State 101,10]
type = ChangeState
triggerall = Var(59)
trigger1 = EnemyNear,MoveType = A && EnemyNear,Vel X > 0 && (EnemyNear,Pos X-Pos X)*Facing <= 80
trigger1 = Random <= Var(59)*40
value = 40
ctrl = 1

[State 101,11]
type = ChangeState
triggerall = Var(18) && BackEdgeBodyDist >= 30
trigger1 = Vel X = 0 && Time >= 60 && (EnemyNear,Pos X-Pos X)*Facing <= 120
value = 105

[State 101,13]
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 101,14]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 101,19]
type = ChangeState
trigger1 = Win
value = 0
ctrl = 1

;----------------------------------------------------------------------------
; LOSE (Time over)
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0,0

[State 170, 1]
type = NotHitBy
trigger1 = Time >= 0
value = SCA
time = 1

;-------------------------------------------------------------------------------------------------------
; Win state decider
[Statedef 180 win]
type = S

[State 180, 1]  ;------------------------- Diana & Kula
type = ChangeState
trigger1 = Life = 1200
value = 18500

[State 180, 1]  ;------------------------- Awww Poor Thing
type = ChangeState
trigger1=Time=0&&Random<=300
value = 28100

[State 180, 1]  ;-------------------------  Spin
type = ChangeState
trigger1 = Time = 0
trigger1=Time=0&&Random<=350
value = 181110

[State 180, 1]  ;-------------------------  Call from Kula
type = ChangeState
trigger1 = Time = 0
trigger1=Time=0&&Random<=300
value = 181100

[State 180, 1]  ;------------------------- Telaport
type = ChangeState
trigger1 = Time = 0
trigger1=Time=0&&Random<=100
value = 18100

[State 180, 1]  ;------------------------- Zero Coat envy
type = ChangeState
trigger1 = Time = 0
trigger1=Time=0&&Random<=310
value = 18900

[State 180, 1];---------- "So this is the best our boy can do?"K'Dash & Kyo
type = ChangeState
trigger1 = P2Name = "K'" || P4Name = "K'"
trigger2 = P2Name = "k'XI" || P4Name = "k'XI"
trigger3 = P2Name = "Black K" || P4Name = "Black K"
trigger4 = P2Name = "K akof" || P4Name = "K akof"
trigger8 = P2Name = "Orochi K" || P4Name = "Orochi K"
trigger9 = P2Name = "K Hoshi" || P4Name = "K Hoshi"
trigger10 = P2Name = "K" || P4Name = "K"
trigger11 = P2Name = "Shin K" || P4Name = "Shin K"
trigger12 = P2Name = "Shadow K" || P4Name = "Shadow K"
trigger13 = P2Name = "K'MI" || P4Name = "K'MI"
trigger14 = P2Name = "K/" || P4Name = "K/"
trigger15 = P2Name = "Kyo" || P4Name = "Kyo"
trigger16 = P2Name = "Orochi Kyo" || P4Name = "Orochi Kyo"
trigger17 = P2Name = "Flame Kyo" || P4Name = "Flame Kyo"
trigger18 = P2Name = "KyoMI" || P4Name = "KyoMI"
trigger19 = P2Name = "Kyo kusanagi" || P4Name = "Kyo kusanagi"
trigger20 = P2Name = "K`_XI" || P4Name = "K`_XI"
value = 18200

[State 180, 1]  ;------------------------- Children of NESTS "Bye Bye"
type = ChangeState
trigger1 = Time = 0
trigger1=Time=0&&Random<=400
value = 18300

[State 180, 1]  ;------------------------- Group Pose
type = ChangeState
trigger1 = Time = 0
trigger1=Time=0&&Random<=200
value = 18400

[State 180, 1]  ;------------------------- Club Ready
type = ChangeState
trigger1 = Time = 0
trigger1=Time=0&&Random<=400
value = 18600

[State 180, 1]  ;------------------------- Party Dress
type = ChangeState
trigger1 = Time = 0
trigger1=Time=0&&Random<=300
value = 18700

[State 180, 1]  ;------------------------- Candy Trick
type = ChangeState
trigger1 = Time = 0
trigger1=Time=0&&Random<=200
value = 18800

;---------------------------------------------------------------------------
; PRE-fight INTRO
[Statedef 190 intro]
type = S
ctrl = 0
velset = 0,0

[State 190, 1] ;Kula intro
type = ChangeState
trigger1 = p2name = "Kura" || p4name = "Kura" || p3name = "Kura"
trigger2 = p2name = "Kula Diamond" || p4name = "Kula Diamond" || p3name = "Kula Diamond"
trigger3 = p2name = "Kula" || p3name = "Kula" || p4name = "Kula"
trigger4 = p2name = "EvilKula" || p3name = "EvilKula" || p4name = "EvilKula"
trigger5 = P2Name = "kula & eddie" || P3Name = "kula & eddie" || P4Name = "kula & eddie"
trigger6 = p2name = "Kula akof" || p3name = "Kula akof" || p4name = "Kula akof"
trigger7 = p2name = "CCI Kula" || p3name = "CCI Kula" || p4name = "CCI Kula"
trigger8 = p2name = "Kula_Choi" || p3name = "Kula_Choi" || p4name = "Kula_Choi"
trigger9 = p2name = "Coola" || p3name = "Coola" || p4name = "Coola"
trigger10 = p2name = "KulaXI" || p3name = "KulaXI" || p4name = "KulaXI"
trigger11 = p2name = "Kula_Kofe" || p3name = "Kula_Kofe" || p4name = "Kula_Kofe"
trigger12 = p2name = "Kula_choi" || p3name = "Kula_choi" || p4name = "Kula_choi"
value = 13200

[State 190, 2] ;Foes
type = ChangeState
trigger1 = p2name = "Zero" || p4name = "Zero"
trigger2 = P2Name = "Igniz" || P4Name = "Igniz" || P2Name = "Igniz by Third" || P4Name = "Igniz by Third"
trigger3 = P2Name = "ShinIgniz" || P4Name = "ShinIgniz"
trigger4 = P2Name = "Original Zero" || P4Name = "Original Zero"
trigger5 = P2Name = "krizalid" || P4Name = "krizalid"
trigger6 = P2Name = "God Igniz" || P4Name = "God Igniz"
trigger7 = P2Name = "Krizaldo" || P4Name = "Krizaldo"
trigger8 = P2Name = "Evil Soul" || P4Name = "Evil Soul"
trigger9 = P2Name = "Diana" || P4Name = "Diana"
trigger10 = P2Name = "Another Igniz" || P4Name = "Another Igniz"
trigger11 = P2Name = "K9999" || P4Name = "K9999"
trigger12 = P2Name = "ultrarox_k9999" || P4Name = "ultrarox_k9999"
trigger13 = P2Name = "Krizalid EX" || P4Name = "Krizalid EX"
trigger14 = P2Name = "M_K Krizalid" || P4Name = "M_K Krizalid"
trigger15 = P2Name = "Asasd" || P4Name = "Asasd"
trigger16 = P2Name = "C-Orochi" || P4Name = "C-Orochi"
trigger17 = P2Name = "Nameless" || P4Name = "Nameless"
trigger18 = P2Name = "krizarid" || P4Name = "krizarid"
trigger19 = P2Name = "Ron" || P4Name = "Ron"
trigger20 = P2Name = "long" || P4Name = "long"
trigger21 = P2Name = "02" || P4Name = "02"
trigger22 = P2Name = "Kusanagi" || P4Name = "Kusanagi"
trigger23 = P2Name = "Kyo 1" || P4Name = "Kyo 1"
trigger24 = P2Name = "Kyo 2" || P4Name = "Kyo 2"
trigger25 = P2Name = "Space Zero" || P4Name = "Space Zero"
value = 193

[State 190, 3] ; Friends
type = ChangeState
trigger1 = p2name = "Alpha Candy" || p4name = "Alpha candy"
trigger2 = p2name = "Fliz" || p4name = "Fliz"
trigger3 = p2name = "Candy" || p4name = "Candy"
trigger4 = p2name = "robo-kula" || p4name = "robo-kula"
trigger5 = p2name = "Isabeau" || p4name = "Isabeau"
trigger6 = p2name = "kukuru-akof" || p4name = "kukuru-akof"
trigger7 = p2name = "Flame Purple" || p4name = "Flame Purple"
trigger8 = p2name = "Eve Original" || p4name = "Eve Original"
trigger9 = p2name = "megumi" || p4name = "megumi"
trigger10 = p2name = "ReakF" || p4name = "ReakF"
trigger11 = p2name = "hiel" || p4name = "hiel"
trigger12 = p2name = "Isabeau" || p4name = "Isabeau"
trigger13 = p2name = "Yukino" || p4name = "Yukino"
trigger14 = p2name = "alty" || p4name = "alty"
trigger15 = P2Name = "whip" || P4Name = "whip"
trigger16 = P2Name = "sul" || P4Name = "sul"
trigger17 = p2name = "Ultimate Sula" || p4name = "Ultimate Sula"
trigger18 = p2name = "Nao" || p4name = "Nao"
trigger19 = p2name = "KILL" || p4name = "KILL"
trigger20 = p2name = "Kriz" || p4name = "Kriz"
trigger21 = p2name = "Eiji Shirow" || p4name = "Eiji Shirow"
trigger22 = P2Name = "sula" || P4Name = "sula"
trigger23 = P2Name = "K-BLOOD" || P4Name = "K-BLOOD"
trigger24 = P2Name = "ROBO-K'" || P4Name = "ROBO-K'"
trigger25 = P2Name = "Eve" || P4Name = "Eve"
trigger26 = P2Name = "Y" || P4Name = "Y"
trigger27 = P2Name = "Maxima" || P4Name = "Maxima"
trigger28 = P2Name = "K-Z" || P4Name = "K-Z"
trigger29 = P2Name = "Kriz" || P4Name = "Kriz"
trigger30 = P2Name = "Sachiel" || P4Name = "Sachiel"
trigger31 = P2Name = "Kriz" || P4Name = "Kriz"
trigger32 = P2Name = "AK'" || P4Name = "AK'"
trigger33 = P2Name = "shado" || P4Name = "shado"
trigger34 = P2Name = "Y'" || P4Name = "Y'"
trigger35 = P2Name = "Kriz" || P4Name = "Kriz"
trigger36 = P2Name = "Purple Rain" || P4Name = "Purple Rain"
trigger37 = P2Name = "Aura by Crucifix" || P4Name = "Aura by Crucifix"
trigger38 = P2Name = "Aura" || P4Name = "Aura"
trigger39 = P2Name = "Aura_Crucifix" || P4Name = "Aura_Crucifix"
trigger40 = P2Name = "Gelato" || P4Name = "Gelato"
trigger41 = P2Name = "Alpha Candy" || P4Name = "Alpha Candy"
trigger42 = P2Name = "Flame" || P4Name = "Flame"
trigger43 = P2Name = "Flame Purple" || P4Name = "Flame Purple"
trigger44 = P2Name = "Silvy" || P4Name = "Silvy"
trigger45 = P2Name = "maxima_PRO" || P4Name = "maxima_PRO"
trigger46 = P2Name = "kukuru-akof" || P4Name = "kukuru-akof"
trigger47 = P2Name = "kukuru" || P4Name = "kukuru"
trigger48 = P2Name = "Silvy" || P4Name = "Silvy"
trigger49 = P2Name = "Izuko" || P4Name = "Izuko"
trigger50 = P2Name = "aika" || P4Name = "aika"
trigger51 = P2Name = "Lyzer" || P4Name = "Lyzer"
value = 1195

[State 190, 5]; K'Dash & Kyo
type = ChangeState
trigger1 = P2Name = "K'" || P4Name = "K'"
trigger2 = P2Name = "k'XI" || P4Name = "k'XI"
trigger3 = P2Name = "Black K" || P4Name = "Black K"
trigger4 = P2Name = "K akof" || P4Name = "K akof"
trigger8 = P2Name = "Orochi K" || P4Name = "Orochi K"
trigger9 = P2Name = "K Hoshi" || P4Name = "K Hoshi"
trigger10 = P2Name = "K" || P4Name = "K"
trigger11 = P2Name = "Shin K" || P4Name = "Shin K"
trigger12 = P2Name = "Shadow K" || P4Name = "Shadow K"
trigger13 = P2Name = "K'MI" || P4Name = "K'MI"
trigger14 = P2Name = "K/" || P4Name = "K/"
trigger15 = P2Name = "Kyo" || P4Name = "Kyo"
trigger16 = P2Name = "Orochi Kyo" || P4Name = "Orochi Kyo"
trigger17 = P2Name = "Flame Kyo" || P4Name = "Flame Kyo"
trigger18 = P2Name = "KyoMI" || P4Name = "KyoMI"
trigger19 = P2Name = "Kyo kusanagi" || P4Name = "Kyo kusanagi"
trigger20 = P2Name = "K`_XI" || P4Name = "K`_XI"
value = 194

[State 190, 6]; Foxy Intro
type = ChangeState
trigger1 = p2name = "Foxy" || p4name = "Foxy"
trigger2 = p2name = "D Foxy" || p4name = "D Foxy"
trigger3 = p2name = "Foxy Lives" || p4name = "Foxy Lives"
value = 11990


[State 190, 7]; Heidern's people
type = ChangeState
trigger1 = P2Name = "Leona" || P4Name = "Leona"
trigger2 = P2Name = "Orochi Leona" || P4Name = "Orochi Leona"
trigger3 = P2Name = "Orochi Heidern" || P4Name = "Orochi Heidern"
trigger4 = P2Name = "Another Leona" || P4Name = "Another Leona"
trigger5 = P2Name = "Clark Steel" || P4Name = "Clark Steel"
trigger6 = P2Name = "Clark Still" || P4Name = "Clark Still"
trigger7 = P2Name = "Ralf" || P4Name = "Ralf"
trigger8 = P2Name = "Heidern" || P4Name = "Heidern"
value = 1199

[State 190, 8];Angel
type = ChangeState
trigger1 = P2Name = "Angel" || P4Name = "Angel"
trigger2 = P2Name = "Angell" || P4Name = "Angell"
trigger3 = P2Name = "AOF_Angel" || P4Name = "AOF_Angel"
trigger4 = P2Name = "Clone-Angel" || P4Name = "Clone-Angel"
value = 295

[State 190, 9];Candy Trick
type = ChangeState
trigger1=Time=0&&Random<=400
value = 1900

[State 190, 10]; Diana Energy
type = ChangeState
trigger1=Time=0&&Random<=500
value = 1198

[State 190, 11] ;All others
type = ChangeState
trigger1 = Time = 0&&Random<= 500
value = 192

[State 190, 12]; Diana, School of NESTS
type = ChangeState
trigger1 = Time = 0&&Random<= 500
value = 1197

[State 190, 13] ;Port intro
type = ChangeState
trigger1 = Time = 0&&Random<= 300
value = 191

;---------------------------------------------------------------------------
; Port intro
[Statedef 191, port]
type = S
ctrl = 0
anim = 13329
velset = 0,0

[State 191, 0]
type = AssertSpecial
trigger1 = time = 1
flag = Intro
flag2 = nobardisplay

;--------------------------[Sound]-------------
[State 191, sound]; port
type = PlaySnd
trigger1  = animelem = 3
value = 12,1

[State 191, soundb]; Sword
type = PlaySnd
trigger1  = animelem = 21
value = 7,1
;---------------------------[FX]----------------
[State 191, Flash FX]
type = Explod
trigger1 = animelem = 21
ID = 13329
anim = 1509
postype = p1
pos = 45,-118
bindtime = 20
removetime = 20
sprpriority = 5
ontop = 0
ownpal = 1

[State 191, Flash FX2]
type = Explod
trigger1 = time = 434
ID = 13329
anim = 19199
postype = p1
pos = 45,-118
bindtime = 30
removetime = 30
sprpriority = 5
ontop = 0
ownpal = 1

[State 191, fx];Star Energy
type = Explod
trigger1 = Time = 450
trigger2 = Time = 451
trigger3 = Time = 452
trigger4 = Time = 453
trigger5 = Time = 454
trigger6 = Time = 455
trigger7 = Time = 456
trigger8 = Time = 457
trigger9 = Time = 458
trigger10 = Time = 459
anim = 13330
pos = 45,-118
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0.5
accel = 0,0
random = 40,40
removetime = 150
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1


[State 191, 13]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;------------------------------------------------------------------------------
; Introduction All Others
[Statedef 192, all]
type = S
ctrl = 0
anim = 195
velset = 0,0

;------------------------ Sound -------------
[State 192, 3]; Port
type = PlaySnd
trigger1 = Time = 1
trigger2 = Time = 60
value = 12, 1

[State 192, 4]; Diana talk
type = PlaySnd
trigger1 = animelem = 4
value = 3000,21

[State 192, a2];Candy
type = PlaySnd
trigger1 = Time = 200
value = 50, 5
;----------------- Explods --------------------

[State 192, Explod];Candy
type = Explod
trigger1 = time = 30
ID = 6716
anim = 6716
postype = p1
pos = -60,-20
bindtime = 20
removetime = 180
shadow = 5,5,5
sprpriority = 1
ontop = 0
ownpal = 1

[State 192, Explod]  ; Telaport Flash
type = Explod
trigger1 = time = 25
ID = 182
anim = 182
postype = p1
pos = 0,90
bindtime = -1
removetime = 17
sprpriority = 2
scale = 1,2
ontop = 1
ownpal = 1
afterimage.time = 29
;----------------------------------------------

[State 192, 5D]
type = AfterImage
trigger1 = AnimElem = 1
trans = add1
time = 140
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 192, Helper]
type = Helper
trigger1 = time = 1
helpertype = normal ;player
name = "Kula"
ID = 195
stateno = 7030
pos = 60,-3
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0

[State 192, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 192, 6] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Introduction Foes
[Statedef 193, foes]
type = S
ctrl = 0
anim = 195000
velset = 0,0

[State 193, 0]
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic
flag3 = nobardisplay


[State 193, 1a]
type = PlaySnd
trigger1 = AnimElem = 3
value = 0,2

[State 193, 1b]
type = PlaySnd
trigger1 = AnimElem = 9
value = 7,1
channel = 1

[State 193, 3]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193, Flash FX]
type = Explod
trigger1 = animElem = 9
ID = 195000
anim = 1509
postype = p1
pos = -61,-63
bindtime = 20
removetime = 20
sprpriority = 5
ontop = 0
ownpal = 1

[State 193, Flash FX2]
type = Explod
trigger1 = time = 125
ID = 195000
anim = 19199
postype = p1
pos = -61,-63
bindtime = 20
removetime = 30
sprpriority = 5
ontop = 0
ownpal = 1

[State 193, fx];Star Energy
type = Explod
trigger1 = Time >= 141
anim = 13330
pos = -61,-63
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0.5
accel = 0,0
random = 40,40
removetime = 150
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 193, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;-------------------------------------------------------------------------
; K'Dash
[Statedef 194, k]
type = S
ctrl = 0
anim = 5083
velset = 0,0

[State 194, 1]
type = ChangeAnim
trigger1 = time = 300
value = 1978

;-------------------------[Sound]-------------
[State 194, 1c] ;Little Boy
type = PlaySnd
trigger1 = time = 130
value = 1,11

[State 194, S1]; Cape
type = PlaySnd
trigger1 = time = 304
value = 49,2
channel = 1

;---------------------------[FX]-------------
[State 194, Explod 5] ;Cape
type = Explod
trigger1 = time = 304
ID = 1977
anim = 1977
pos = 18,-84
postype = p1
vel = -3,-2.5
accel = 0,0.1
bindtime = 1
removetime = 300
shadow = 5,5,5
sprpriority = 0
ontop = 0

;--------------------------------------------

[State 194, 3]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 194, 4]
type = ChangeState
trigger1 = Time = 318
value = 0

;-----------------------------------[Tount]---------------------------------
[Statedef 195 tount]
type = S
movetype = I
physics = S
anim = 295
velset = 0, 0
ctrl = 0

[State 195,CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

[State 195,PlaySnd]
type = PlaySnd
trigger1 = animelem = 8
value = 49,12
channel = 20

[State 193,3]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193,4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;-------------------------------------------------------------------------------------------------------
;Powerup
[Statedef 196 charge]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 196
sprpriority = 5
ctrl = 0


;---------------------[Sound]
[State 196, s1]
type = PlaySnd
trigger1  = time >= 1
trigger1  = timeMod = 100,5
value = 3, 4

;-------------[butterflies]

[State 196, Helper, 1]
type = Helper
trigger1 = time >= 10 && Timemod = 40, 38
helpertype = normal ;player
name = "Butterfly charge"
ID = 196
stateno = 1960
pos = -20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0

[State 196, Helper, 2]
type = Helper
trigger1 = time >= 10 && Timemod = 35, 31
helpertype = normal ;player
name = "Butterfly charge"
ID = 196
stateno = 1960
pos = -40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0

[State 196, Helper, 3]
type = Helper
trigger1 = time >= 20 && Timemod = 30, 28
helpertype = normal ;player
name = "Butterfly charge"
ID = 196
stateno = 1960
pos = 20,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0

[State 196, Helper, 4]
type = Helper
trigger1 = time >= 20 && Timemod = 42, 30
helpertype = normal ;player
name = "Butterfly charge"
ID = 196
stateno = 1960
pos = 40,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0


[State 196, Explode];Ground waves
type = Explod
trigger1 = time >= 4 && Timemod = 5, 2
anim = 8101
sprpriority = 8
postype = p1
pos = 5,7
under = 0
ownpal = 1
persistent = 1
scale = 1,1
ignorehitpause = 0

[State 196, Poweradd]; Charge
type = Poweradd
trigger1 = time >= 1 && Timemod = 15, 8
value = 125


[State 1200, SoltaBTN]
type = Changestate
triggerall = var(59)<=0
trigger1 = Command != "powerup" || Power = 3000
value = 0
ctrl = 1

[State 1200, SoltaBTN]
type = Changestate
triggerall = var(59)>=1
trigger1 = Power = powermax || enemynear(0),inguarddist
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND_X
[Statedef 200 s x]
type = S
movetype = A
physics = S
anim = 200
velset = 0,0
juggle = 1
ctrl = 0

[State 0, VarSet]
type = Varadd
trigger1 = movecontact = 1
v = 10
value = 1
ignorehitpause = 1
persistent = 0

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 23
animtype = Light
getpower = 30,15
guardflag = MA
hitflag = MAF
pausetime = 7,8
sparkno=0
sparkxy = -10,-76
guard.sparkno = 40
hitsound = s5,4
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -4
air.velocity = -1.3,-3
fall = 0

[State 200, 2]
type = PlaySnd
trigger1 = movehit = 1
value = 49,10

[State 200, 2a]
type = PlaySnd
trigger1 = AnimElem = 3
value = 8,0

[State 200, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND_Y
[Statedef 210 s y]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
velset = 0,0
anim = 210

;---------------------------[sounds]

[State 210, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = 8,0


[State 210, 2];Die
type = PlaySnd
trigger1=Time=0&&Random<=300
trigger1 = AnimElem = 2
value = 2, 1

;--------------------------[hitdef]

[State 210, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, NA
damage = 23
projhitanim = 38010
animtype = Medium
getpower = 30,15
guardflag = MA
hitflag = MAF
pausetime = 11,11
pausetime = 12,12
sparkxy = -56,-85
sparkno = S360102
guard.sparkno = 40
hitsound = S5,6
guardsound = 0,0
ground.type = High
ground.slidetime = 14
ground.hittime  = 12
ground.velocity = -7
air.velocity = -1,-2
fall = 0

[State 210, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND_Z
[Statedef 220]
type    = C
movetype= A
physics = C
juggle = 15
velset = 0,0
ctrl = 0
anim = 220

[State 220, VelAdd]
type = VelAdd
trigger1 = animelem = 6
x = 9
y = 0

;------------------------[ Sound]-----------------------
[State 220, 1a PlaySnd];Sword swish
type = PlaySnd
trigger1 = AnimElem = 2
value = 5,2

[State 220, PlaySnd]; movment
type = PlaySnd
trigger1 = animelem = 2
value = 8,0

;----------------------------[FX]--------------------
[State 220, Explod f];Shimmer
type = Explod
trigger1 = time = 4
ID = 1006
anim = 1006
postype = p1
pos = 0,13
scale = 1.1,1.1
bindtime = -1
removetime = 20
removeongethit = 1
sprpriority = 2
ontop = 1
;-------------------------------------------------------
[State 220, 5]
type = HitDef
trigger1 = animelem = 2
attr = C, NA
damage    = 40
getpower  = 100,80
givepower = 0
animtype  = heavy
hitflag = MA
guardflag = H
pausetime = 12,12
sparkxy = -30,-80
sparkno = S360102
guard.sparkno = 40
hitsound = S400,3
guardsound = s9,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 14
guard.velocity = -9
ground.velocity = -8
air.hittime = 9999
airguard.ctrltime = 9999
air.velocity = -4,-3.5
fall = 0
fall.recover = 0

[State 220, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------
; STAND_A
[Statedef 230]
type = S
movetype = A
physics = S
anim = 230
juggle = 1
ctrl = 0

[State 230, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 23
animtype = Light
getpower = 30,15
guardflag = MA
hitflag = MAF
pausetime = 7,8
sparkno=0
guard.sparkno = 40
sparkxy = -10,-72
hitsound = S5,3
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -4
air.velocity = -1.3,-3 
fall = 0

[State 230, 2]
type = PlaySnd
trigger1 = Time = 6
value = 2, 6

[State 230, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; STAND_c
[Statedef 240 a c]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
velset = 0,0
anim = 240

;-------------[sound]----------------

[State 240, s2]
type = PlaySnd
trigger1 = AnimElem = 8
value = 49,8

;---------------[hits]-------------------
[State 240, h1]
type = HitDef
trigger1 = AnimElem = 4
trigger2 = AnimElem = 9
attr = S, NA
damage = 40
animtype = Medium
getpower = 30,15
guardflag = MA
hitflag = MAF
pausetime = 11,11
sparkno=0
guard.sparkno = 40
sparkxy = -10,-76
hitsound = s5,5
guardsound = s0,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10
air.velocity = -2,-3
fall = 0

[State 240, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------------------

;Power up end
[Statedef 259]
type = S
movetype = I
physics = S
anim = 196
ctrl = 1

[State 259, Ctrl]
type = CtrlSet
trigger1 = Time = 2
value = 1

[State 259, Explode];Ground waves
type = Explod
trigger1 = time = 1
anim = 8101
sprpriority = 5
postype = p1
pos = 5,2
bindtime = 1
under = 0
ownpal = 1
removetime = 12
persistent = 0
scale = 0.5,0.5
ignorehitpause = 0

[State 259, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; STAND_b
[Statedef 250 s b]
type    = S
movetype= A
physics = S
juggle  = 4
ctrl = 0
velset = 0,0
anim = 250

[State 250, 1]
type = HitDef
trigger1 = AnimElem = 2
;trigger2 = AnimElem = 6
attr = S, NA
damage = 35
animtype = Hard
getpower = 30,15
guardflag = MA
hitflag = MAF
pausetime = 13,15
sparkno=2
guard.sparkno = 40
sparkxy = -10,-36
hitsound = s5,4
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 17
ground.velocity = -1
air.velocity = -2,-3 
fall = 0

[State 250, 1]
type = HitDef
;trigger1; = AnimElem = 2
trigger1 = AnimElem = 6
attr = S, NA
damage = 35
animtype = Hard
getpower = 30,15
guardflag = MA
hitflag = MAF
pausetime = 13,15
sparkno=2
guard.sparkno = 40
sparkxy = -10,-96
hitsound = s5,4
guardsound = s0,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 17
ground.velocity = -7
air.velocity = -2,-3
fall = 0


[State 250, 2a]
type = PlaySnd
trigger1 = time = 2
value = 12,3

[State 250, 2b]
type = PlaySnd
trigger1 = time = 20
value = 49,5

[State 250, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------------------------------------------------
[Statedef 295, angel]
type = S
ctrl = 0
anim = 19700
velset = 0,0

[State 295, 1] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 295, 1d];"You want to die to?"
type = PlaySnd
trigger1 = time = 130
value = 1,9


[State 295, 2] ;Change to stand state
type = ChangeState
trigger1 = time = 300
value = 0
;--------KOF2000 forward -------------------------------------------------
[Statedef 361 dodge f]
type = S
movetype = A
physics = S
anim = 361
juggle = 1
poweradd = 100
velset = 0,0
ctrl = 0

[State 361, CtrlSet]
type = CtrlSet
trigger1 = time = 32
value = 1

[State 361, Turn]
type = Turn
triggerall = time = 51
trigger1 = P2BodyDist x < 50
ignorehitpause = 1
persistent = 1

;--------------------------[Sound]

[State 361, s1]
type = PlaySnd
trigger1 = animelem = 3
value = S12,1

[State 361, s2]
type = PlaySnd
trigger1 = animelem = 2 &&Random<=400
value = S11,2
;-----------------------------
[State 361, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 361, hit]
type = HitBy
trigger1 = 1
value =  , AT

[State 361, hit]
type = NotHitBy
trigger1 = 1
value = , AA, AP

[State 361, 1]
type = velset
trigger1 = Time = [11,24]
x = 5

[State 361, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_X
[Statedef 400 c x]
type = C
movetype = A
physics = C
anim = 400
juggle = 1
ctrl = 0

[State 400, 1]
type = HitDef
trigger1 = AnimElem = 1
attr = C, NA
damage = 23
animtype = Light
getpower = 30,15
guardflag = L
hitflag = MAFD
pausetime = 10,12
pausetime = 12,12
sparkxy = -20,-40
sparkno = S360102
guard.sparkno = 40
hitsound = s400,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0
down.hittime = 20
fall = 0

[State 400, 2]
type = PlaySnd
trigger1 = Time = 1
value = 8, 0

[State 400, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH_Y
[Statedef 410 s y]
type    = C
movetype= A
physics = C
juggle  = 2
ctrl = 0
velset = 0,0,0
anim = 410

[State 410, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 23
animtype = Medium
getpower = 30,15
guardflag = L
guard.sparkno = 40
hitflag = MAFD
pausetime = 12,12
sparkxy = -20,-40
sparkno = S360102
hitsound = s400,3
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2,-3
down.velocity = -4,0
down.hittime = 20
fall = 0

[State 410, 1a];Shimmer
type = Explod
trigger1 = AnimElem = 2
ID = 410
anim = 4170
postype = p1
pos = 0,0
bindtime = 16
sprpriority = 5
Scale = 1,1
removetime = 19
ontop = 0

[State 410, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 50,11

[State 410, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH_Z
[Statedef 420 c z]
type    = C
movetype= A
physics = C
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 420

[State 420, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 4
attr = C, NA
damage = 55
animtype = Hard
getpower = 30,15
guardflag = L
hitflag = MAFD
guard.sparkno = 40
pausetime = 13,15
sparkxy = -20,-40
sparkno = S360102
hitsound = s400,3
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 17
ground.velocity = -5
air.velocity = -2,-3
fall = 0

[State 420, 1a];Shimmer
type = Explod
trigger1 = AnimElem = 1
ID = 2373
anim = 2373
postype = p1
pos = 95,55
bindtime = -1
Scale = 2.5,1.5
removetime = 8
ontop = 1

[State 420, 1b]
type = PlaySnd
trigger1 = animelem = 1
value = 12,3
volume = 100

[State 420, 2c]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 10
value = 8, 3

[State 420, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;CROUCH_A
[Statedef 430 c a]
type = C
movetype = A
physics = C
anim = 430
juggle = 1
ctrl = 0

[State 430, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 2
attr = C, NA
damage = 23
animtype = Light
getpower = 30,15
guardflag = L
hitflag = MAFD
pausetime = 10,12
sparkno=0
guard.sparkno = 40
sparkxy = -10,-5
hitsound = s5,6
guardsound = 6,0
ground.type = Low
ground.slidetime = 4
ground.hittime  = 12
ground.velocity = -4
air.velocity = -1.3,-3
down.velocity = -4,0
down.hittime = 20
fall = 0

[State 430, 2]
type = PlaySnd
trigger1 = Time = 1
value = 8,0

[State 430, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH_B
[Statedef 440 c b]
type    = C
movetype= A
physics = C
juggle  = 2
ctrl = 0
velset = 0,0,0
anim = 440

[State 440, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = C, NA
damage = 23
animtype = Medium
getpower = 30,15
guardflag = L
hitflag = MAFD
pausetime = 12,12
sparkno=0
guard.sparkno = 40
sparkxy = -10,-5
hitsound = 5,1
guardsound = 6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2,-3 
down.velocity = -4,0
down.hittime = 20
fall = 0

[State 440, s2]; yell
type = PlaySnd
trigger1 =Time= 1&&Random<=300
value = 49,9

[State 440, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; CROUCH_C
[Statedef 450 c c]
type    = C
movetype= A
physics = C
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 450
;--------[ Sound] ----------

[State 450, s1]; whoosh
type = PlaySnd
trigger1 = time = 1
value = 8,2

[State 450, s2]; yell
type = PlaySnd
trigger1 =Time= 1&&Random<=300
value = 49,5

;-----------[ Hit]----------

[State 450, h1]
type = HitDef
trigger1 = AnimElem = 4
attr = C, NA
damage = 55
animtype = Hard
getpower = 30,15
guardflag = L
hitflag = MAFD
pausetime = 13,15
sparkno=2
guard.sparkno = 40
sparkxy = -10,-5
hitsound = s5,6
guardsound = s0,0
ground.type = Trip
ground.slidetime = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 450, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; Slide Kick
[Statedef 460, slide kick]
type    = C
movetype= A
physics = C
juggle  = 4
ctrl = 0
velset = 0,0,0
anim = 460
;--------[ Sound] ----------

[State 460, s1]; whoosh
type = PlaySnd
trigger1 = AnimElem = 3
value = 8,8

[State 460, s2]; yell
type = PlaySnd
trigger1 =Time= 1&&Random<=300
value = 49,8

;---------------[Movement]--------------

[State 460, VelAdd]
type = VelAdd
trigger1 = AnimElem = 3
x = 16
y = 0
ignorehitpause = 1
;persistent =

;-----------[ Hit]----------

[State 460, h1]
type = HitDef
trigger1 = AnimElem = 3
attr = C, NA
damage = 55
animtype = Hard
getpower = 30,15
guardflag = L
hitflag = MAFD
pausetime = 13,15
sparkno=2
guard.sparkno = 40
sparkxy = -10,-5
hitsound = s5,6
guardsound = s0,0
ground.type = Trip
ground.slidetime = 15
ground.velocity = -1.5,-2
air.velocity = -1.2,-3
guard.velocity = -5
fall = 1

[State 460, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_X
[Statedef 600]
type = A
movetype = A
physics = A
anim = 600
juggle = 1
ctrl = 0

[State 600,CtrlSet]
type = CtrlSet
trigger1 = animelem = 8
value = 1

;----------------------[ Sound]
[State 600, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 50,11

[State 600, 2]
type = PlaySnd
trigger1 = AnimElem = 6
value = 5,2

;---------------------[ FX ]

[State 600, 1a];Shimmer
type = Explod
trigger1 = AnimElem = 6
ID = 600
anim = 6070
postype = p1
pos = 0,-5
bindtime = 20
Scale = 1,1
removetime = 24
ontop = 1
;----------------------------
[State 600, 1]
type = HitDef
trigger1 = AnimElem = 2
trigger2 = AnimElem = 7
attr = A, NA
damage = 23
animtype = Light
getpower = 30,15
guardflag = HA
hitflag = MAF
pausetime = 7,8
sparkno=0
guard.sparkno = 40
sparkxy = -10,-56
hitsound = S5,0
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -4
air.velocity = -1.3,-3 
fall = 0

[state 600, and away]
type = velset
trigger1 = numhelper(8000) = 1
y = 0
x = 0

[state 600, and away]
type = changestate
trigger1 = time = 59
trigger1 = numhelper(8000) = 1
value = 8001
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_Y
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 610

[State 610,CtrlSet]
type = CtrlSet
trigger1 = animelem = 8
value = 1

;----------------------[ Sound]
[State 610, s1]
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 13
value = 8,0

[State 610, s2]
type = PlaySnd
trigger1 = Time = 1
trigger2 = Time = 16
value = 5,2

;----------------------[ FX]

[State 610, 1a];Shimmer
type = Explod
trigger1 = AnimElem = 1
ID = 2371
anim = 6170
postype = p1
pos = 0,0
bindtime = 18
removeongethit = 1
Scale = 1,1
removetime = 22
ontop = 1

[State 610, fx1];Star shimmer
type = Explod
trigger1 = time = 16
anim = 134
postype = p1
pos = -33,-99
removetime = 16
bindtime = 16
sprpriority = 5

[State 610, 1b];Shimmer
type = Explod
trigger1 = AnimElem = 6
ID = 610
anim = 6100
postype = p1
pos = 0,0
bindtime = 12
removeongethit = 1
Scale = 1,1
removetime = 20
ontop = 1

;------------------------------------------

[State 610, 1]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 5
attr = A, NA
damage = 33
animtype = Medium
getpower = 30,15
guardflag = HA
hitflag = MAF
pausetime = 11,11
sparkno = S360102
guard.sparkno = 40
sparkxy = -40,-25
hitsound = s400,3
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2,-3 
fall = 0

[state  610, f1]
type = velset
trigger1 = numhelper(8000) = 1
y = 0
x = 0

[state  610, f2]
type = changestate
trigger1 = time = 80
trigger1 = numhelper(8000) = 1
value = 8001
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_Z
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 4
ctrl = 0
anim = 620

[State 620,CtrlSet]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 620, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 55
animtype = Hard
getpower = 50
guardflag = HA
hitflag = MAF
pausetime = 13,15
sparkno = S360102
guard.sparkno = 40
sparkxy = -20,-25
hitsound = s400,3
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 17
ground.velocity = -5
air.velocity = -2,-3 
fall = 0
;------------------[ Sounds]
[State 620, s1]
type = PlaySnd
trigger1 = Time = 1
value = 5,2

[State 620, s2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 4, 0

[State 620, s3]
type = PlaySnd
trigger1 = animelem = 1
value = 8,0
;---------------------[FX]
[State 620, e1];Shimmer
type = Explod
trigger1 = AnimElem = 2
ID = 620
anim = 6200
postype = p1
pos = 0,0
bindtime = 16
Scale = 1,1
removetime = 20
ontop = 1
;------------------------
[state 620, f1]
type = velset
trigger1 = numhelper(8000) = 1
y = 0
x = 0

[state 620, f2]
type = changestate
trigger1 = time = 50
trigger1 = numhelper(8000) = 1
value = 8001
ctrl = 1


;---------------------------------------------------------------------------
; JUMP_A
[Statedef 630]
type = A
movetype = A
physics = A
anim = 630
juggle = 1
ctrl = 0

[State 630,CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

[State 630, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 23
animtype = Light
getpower = 30,15
guardflag = HA
hitflag = MAF
pausetime = 7,8
sparkno=0
guard.sparkno = 40
sparkxy = -10,-39
hitsound = s5,5
guardsound = 6,0
ground.type = High
ground.slidetime = 5
ground.hittime  = 11
ground.velocity = -4
air.velocity = -1.3,-3
fall = 0

;-------------------------[Sounds}
[State 630, s1]
type = PlaySnd
trigger1 = animelem = 3&&Random<=500
value = 12,3
;---------------------------
[state 630, f1]
type = velset
trigger1 = numhelper(8000) = 1
y = 0
x = 0

[state 630, f2]
type = changestate
trigger1 = time = 40
trigger1 = numhelper(8000) = 1
value = 8001
ctrl = 1

;---------------------------------------------------------------------------
; JUMP_B
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 640

[State 640,CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

;------------------------[ FX]
[State 640, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 23
animtype = Medium
getpower = 30,15
guardflag = HA
hitflag = MAF
pausetime = 11,11
sparkno=0
guard.sparkno = 40
sparkxy = -10,-75
hitsound = s5,6
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -5
air.velocity = -2,-3 
fall = 1

;-------------------------[Sounds}

[State 640, 2]
type = PlaySnd
trigger1 = AnimElem = 2
value = 12,3

 ;-------------------------
[state 640, f1]
type = velset
trigger1 = numhelper(8000) = 1
y = 0
x = 0

[state 640, f2]
type = changestate
trigger1 = time = 50
trigger1 = numhelper(8000) = 1
value = 8001
ctrl = 1
;---------------------------------------------------------------------------
; JUMP_C
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 2
ctrl = 0
anim = 650

[State 650,CtrlSet]
type = CtrlSet
trigger1 = animelem = 5
value = 1

[State 650, 1]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 23
animtype = Medium
getpower = 30,15
guardflag = HA
hitflag = MAF
pausetime = 11,11
sparkno=0
guard.sparkno = 40
sparkxy = -10,-75
hitsound = s5,6
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10
air.velocity = -2,-3
fall = 0

;-------------------------[Sounds}
[State 650, s1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 12,3

 ;-------------------------
[state 650, f1]
type = velset
trigger1 = numhelper(8000) = 1
y = 0
x = 0

[state 650, f2]
type = changestate
trigger1 = time = 51
trigger1 = numhelper(8000) = 1
value = 8001
ctrl = 1

;-------------------------------------------------------------------------------
;Butterfly Grab Try
[Statedef 800 bg]
type = S
movetype= A
physics = S
juggle = 0
velset = 0,0
ctrl = 0
anim = 810

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT
damage = 50
hitflag = M
priority = 1, Miss
sparkno = -1
guard.sparkno = 40
sprpriority = 1
p1facing = ifelse (command = "holdfwd", -1, 1)
p2facing = 1
p1stateno = 810
p2stateno = 820
fall = 1
palfx.color = 100
palfx.time = 88
palfx.add = 30,30,30
palfx.mul = 170,170,170
palfx.sinadd = 44,44,44,4
palfx.invertall = 1
palfx.color = 0
fall.envshake.time = 16
fall.envshake.freq = 45

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
; Grabed
[Statedef 810]
type = S
movetype= A
physics = N
anim = 800


[State 810, Bind 1]
type = TargetBind
trigger1 = AnimElem = 1
pos = 40, -15

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = -25, -25

[State 810, Bind 3]
type = TargetBind
trigger1 = AnimElem = 2
pos = -25, -45

[State 810, Bind 2]
type = TargetBind
trigger1 = AnimElem = 3
pos = -25, -60

[State 810, Hurt]
type = TargetLifeAdd
trigger1 = AnimElem = 7
value = -100

[State 810, Throw]
type = TargetState
trigger1 = AnimElem = 7
value = 821
 ;-------------------------------[sound]
[State 810, PlaySnd A1] ;Buzz
type = PlaySnd
trigger1 = AnimElem = 2
value = S60,1

[State 810, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 3
value = 49,13
channel = -1

[State 810, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 5
value = 400,3
channel = -1
;--------------------------------------------[fx]
[State 810, BW]; Black and white Back
type = BGPalFX
trigger1 = AnimElem = 5
time = 4
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 810, Explod]; blood
type = Explod
trigger1 = AnimElem = 5
anim = 38010
pos = -15,-110
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 28
scale = 6,1
sprpriority = 1
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 810, Explod b];Slash FX
type = Explod
trigger1 = time = 65
anim = 13338
pos = 0,0
postype = left  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 16
scale = 1,1
sprpriority = 20
ontop = 1

[State 810, Super A2];butterfly
type = Explod
trigger1 = AnimElem = 2
ID = 800
anim = 29946
postype = p1
pos = -25,-170
bindtime = -1
removetime = 60
sprpriority = 2
ownpal = 1

[State 810, Super A2];butterfly net
type = Explod
trigger1 = AnimElem = 2
ID = 800
anim = 6675
postype = p1
pos = -25,-170
bindtime = -1
removetime = 60
sprpriority = 1
ownpal = 1

[State 810, netpop]
type = Explod
trigger1 = time = 0
anim = 2275
ID = 1001
pos = 0,-60
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 122
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
persistent = 1

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------
[Statedef 820]
type = A
movetype = H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 8
value = 5017

;----------------------------------------------------------------------
[Statedef 821]
type = A
movetype = H
physics = N
velset = 0,0
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 2] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 821, 2a]
type = HitDef
trigger1 = AnimElem = 2
attr = A, NA
damage = 55
animtype = Hard
poweradd = 100
getpower = 30,15
guardflag = HA
hitflag = MAF
pausetime = 13,15
sparkno=2
guard.sparkno = 40
sparkxy = -10,-73
hitsound = s400,3
guardsound = 6,0
ground.type = High
ground.slidetime = 15
ground.hittime  = 17
ground.velocity = -5
air.velocity = -2,-3
fall = 0

[State 821, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 49, 9
channel = 1

[State 821, 3a]
type = PlaySnd
trigger1 = AnimElem = 3
value = 5,2
channel = 2

[State 821, 3] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground
;----------------------------------------------------------------------
[Statedef 820]
type = A
movetype = H
physics = N
velset = 0,0

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 8
value = 5017

;---------------------------------------------------------------------------------------------------------
[Statedef 821]
type = A
movetype = H
physics = N
velset = 0,0
poweradd = 40

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .4

[State 821, 2] ; Recover near ground (use ChangeState)
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5200 ;HITFALL_RECOVER

[State 821, 3] ; Recover in mid air (use SelfState)
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = CanRecover
trigger1 = Command = "recovery"
value = 5210 ;HITFALL_AIRRECOVER

[State 821, 4] ;Hit ground
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;Hit ground

;-----------------------------------------------------------------------
; Candy shoot up
[Statedef 891 cb up]
type = S
ctrl = 0
anim = 8999; ----Diana
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 891,CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

[state 891]
type = playsnd
trigger1 = animelem = 1
value = 1,1

[State 891]
type = helper
triggerall = !numhelper(911)
trigger1 = animelem = 4
ID = 911
pos = 50,-0
postype = back
stateno = 911
helpertype = normal
ownpal = 1
keyctrl = 0

[State 891]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Candy fires up
[Statedef 911,candy fires up]
type = S
anim = 911 ;-----------Candy
velset = 0,0
poweradd = 100
movetype = A
physics = N
sprpriority = 3

[State 911,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 912
time = -1

[State 911, Turn]
type = Turn
trigger1 = P2BodyDist x < 0
ignorehitpause = 1
persistent = 1

;--------------------------[Sound]

[state 911];Port
type = playsnd
trigger1 = animelem = 2 || animelem = 23
value = 12,1

[state 911]; "Weee"
type = playsnd
trigger1 = animelem = 21
value = 50,8

[state 911]; Firing
type = playsnd
trigger1 = animelem = 11 || animelem = 14 || animelem = 17
value = 3000,9

;------------------------[Pro]

[State 911]
type = Projectile
trigger1 = animelem = 11 || animelem = 14 || animelem = 17
projanim = 760
projhitanim = 3800
projscale = 0.7,0.7
offset = 44, -112
velocity = 7.5, -3.5
remvelocity = 7.5, -3.5
velmul = 1.00, 1
accel = 0, 0
projsprpriority = 3
projhits = 1
projmisstime = 2
attr = S, HP
damage    = 45,3
animtype  = light
getpower  = 0
givepower = 31
guardflag = M
guard.sparkno = 40
pausetime = 2,2
sparkno = S504
sparkxy = 0,0
hitsound   = s2,3
guardsound = S0,0
ground.type = high
ground.slidetime = 25
ground.hittime  = 23
ground.velocity = -6.5
airguard.velocity = -3.5, -1
air.type = Low
air.velocity = -2.5,-2

[State 911]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------[If Candy is hit]-----------------------------------------
[Statedef 912,c hit]
type = U
movetype = H
physics = N
anim = 912
velset = 0, 0
ctrl = 0

;-----------------------------[Sound]
[State 912,PlaySnd];Ahhh!
type = PlaySnd
trigger1 = AnimElem = 1
value = 912, 0

[state 912];Port
type = playsnd
trigger1 = animelem = 3
value = 12,1

;-----------------------------

[State 912,StateTypeSet]
type = StateTypeSet
trigger1 = HitShakeOver && StateType != A
statetype = A

[State 911]
type = destroyself
trigger1 = AnimTime = 0

;---------------------------[If Butterfly is hit]-----------------------------------------
[Statedef 913,butterfly hit]
type = U
movetype = H
physics = N
anim = 1508
velset = 0, 0
ctrl = 0

;-----------------------------[Sound]
[State 912,PlaySnd];boom
type = PlaySnd
trigger1 = AnimElem = 1
value = 5, 9
;-----------------------------

[State 912,StateTypeSet]
type = StateTypeSet
trigger1 = HitShakeOver && StateType != A
statetype = A

[State 911]
type = destroyself
trigger1 = AnimTime = 0
;-------------------------------------------------------------
[Statedef 914,kula hit]
type = U
movetype = H
physics = N
anim = 2425; 7040 knocked back
velset = 0, 0
ctrl = 0

[State 914,PlaySnd];Ahhh!
type = PlaySnd
trigger1 = AnimElem = 1
value = 2400, 1

[State 914,StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 10
ignorehitpause = 1

[State 914,ChangeAnim]
type = ChangeAnim
trigger1 = !HitShakeOver
value = 914 ;Knocked Back

[State 914,StateTypeSet]
type = StateTypeSet
trigger1 = HitShakeOver && StateType != A
statetype = A

[State 914,VelSet]
type = VelSet
trigger1 = HitShakeOver
persistent = 0
x = -2.8
y = -5.8

[State 914,Gravity]
type = Gravity
trigger1 = HitShakeOver

[State 914,ChangeState]
type = ChangeState
trigger1 = HitShakeOver && Vel Y > 0 && Pos Y >= 30
value = 915

;-------------------------------[Laying on ground]--------------------------------------
[Statedef 915,kula fl]
type = A
movetype = H
physics = N
anim = 2430; 7042
velset = 0, 0
;---------------------------------[Sound]
[State 915,PlaySnd];hit floor
type = PlaySnd
trigger1 = Time = 0
value = F7, 0
;----------------------------------[FX]
[State 915,Explod];Dust
type = Explod
trigger1 = Time = 0
anim = F61;2800
pos = 0, 0
postype = P1
sprpriority = -1
bindtime = 1
ownpal = 1

;---------------------[movement]
[State 915,PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 915,VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = -2.5
y = -3.0

[State 915,Gravity]
type = Gravity
trigger1 = AnimElem = 2, > 0

[State 915,End]
type = ChangeState
trigger1 = AnimElem = 2, > 0 && Vel Y > 0 && Pos Y >= 0
value = 916

;-------------------------------[On ground, getting up]--------------------------------------

[Statedef 916, kula gu]
type = S
movetype = I
physics = S
anim = 2410
velset = 0, 0

;----------------------[Sound]

[State 916,PlaySnd];Jeez
type = PlaySnd
trigger1=AnimElem = 2&&Random<=300
value = 24, 2

;---------------------[movement]
[State 916,PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 916,End]
type = ChangeState
trigger1 = AnimTime = 0
value = 7035

;-------------------------------------------------------------------
;---------------------------[If Rocky is hit]-----------------------------------------
[Statedef 918,rockyhit]
type = U
movetype = H
physics = N
anim = 917
velset = 0, 0
ctrl = 0

[State 918,PlaySnd];Ahhh!
type = PlaySnd
trigger1 = AnimElem = 1
value = 912, 1

[State 918,ChangeAnim]
type = ChangeAnim
trigger1 = !HitShakeOver
value = 917 ;Knocked Back

[State 918,StateTypeSet]
type = StateTypeSet
trigger1 = HitShakeOver && StateType != A
statetype = A

[State 918,VelSet]
type = VelSet
trigger1 = HitShakeOver
persistent = 0
x = -2.8
y = -5.8

[State 918,Gravity]
type = Gravity
trigger1 = HitShakeOver

[State 918,ChangeState]
type = ChangeState
trigger1 = HitShakeOver && Vel Y > 0 && Pos Y >= 30
value = 919

;-------------------------------[Landing on ground]--------------------------------------
[Statedef 919,fallland]
type = A
movetype = H
physics = N
anim = 915
velset = 0, 0
;---------------------------------[Sound]
[State 919,PlaySnd];hit floor
type = PlaySnd
trigger1 = Time = 0
value = F7, 0
;----------------------------------[FX]
[State 919,Explod];Dust
type = Explod
trigger1 = Time = 0
anim = F61;2800
pos = 0, 0
postype = P1
sprpriority = -1
bindtime = 1
ownpal = 1

;---------------------[movement]
[State 919,PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 919,VelSet]
type = VelSet
trigger1 = AnimElem = 2
x = -2.5
y = -3.0

[State 919,Gravity]
type = Gravity
trigger1 = AnimElem = 2, > 0

[State 919,End]
type = ChangeState
trigger1 = AnimElem = 2, > 0 && Vel Y > 0 && Pos Y >= 0
value = 920

;-------------------------------[On ground, getting up, Port out]--------------------------------------

[Statedef 920,getup]
type = S
movetype = I
physics = S
anim = 916
velset = 0, 0

;----------------------[Sound]

[State 920,PlaySnd]; Port
type = PlaySnd
trigger1=AnimElem = 7
value = 12, 1

;---------------------[movement]
[State 920,PosSet]
type = PosSet
trigger1 = Time = 0
y = 0

[State 920,DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0


;---------------------------------------------------------------------------
; "Butterfly Bomb"
[Statedef 1000 bb]
type = S
movetype= A
physics = S
poweradd= 50
ctrl = 0
velset = 0,0
anim = 1010

[State 1000,CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

[State 1000, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 124, 1

[State 1000, Helper]
type = Helper
triggerall = numhelper(1010)=0
trigger1 = !IsHelper
trigger1 = animelem = 4
helpertype = normal ;player
name = "Flitter Bomb"
ID = 1010
stateno = 1001
pos = 13,-103
postype = p1    ;p2,front,back,left,right
ownpal = 0

[State 1000, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------------[ Butterfly bomb butterfly]---------------
[Statedef 1001 bbp]
type = S
movetype = A
physics = N
velset = 0,0
anim = 36200
sprpriority = 2
juggle = 2
ctrl = 0

[State 1001,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 913
time = -1

[State 1001, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
;----------------------------------------[FX]

[State 1001, Explod e] ; Blue Flurries
type = Explod
trigger1 = time >= 1 && Timemod = 10, 8
anim = 13330
pos = 0,0
random = 8,8
removetime = 30
sprpriority = 5
bindtime = 1
ownpal = 0
accel = 0,0
ignorehitpause = 0
supermove = 1
velocity = 0,2

;---------------------------[ Movements]
[State 1001, Turn]
type = Turn
trigger1 = P2BodyDist x < -30
ignorehitpause = 1
persistent = 1

[State 1001, VelSet lr1]
type = VelSet
trigger1 = P2BodyDist x > -60
x = 0.3

[State 1001, VelSet lr2]
type = VelSet
trigger1 = P2BodyDist x < -60
x = -0.3

;------------------------------------[up/down]
[State 1001, VelSet ud1]
type = VelSet
trigger1 = P2BodyDist y > -60
y = 0.2

[State 1001, VelSet ud2]
type = VelSet
trigger1 = P2BodyDist y < 60
y = -0.2
;------------------------------[ Hit]

[State 1001, HitDef]
type = HitDef
trigger1 = time = 1
attr = S,NA        ;SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
hitflag = MAF        ;HLAFD+-
guardflag = MA         ;HLA
animtype = hard          ;light,medium,hard,back,up,diagup
air.animtype = light
damage = 70
sparkno = S1141
guard.sparkno = S1141
hitsound = s3000,5
guardsound = s3000,5
ground.type = High      ;Low,Trip,None
air.type = High
ground.slide = -10,0
ground.slide = -10,0
air.hittime = 20
ground.velocity = -10,0
air.velocity = -30,0
airguard.velocity = -30,0
air.juggle = 20
sprpriority = 1
p1getp2facing = 0
fall = 1
fall.yvelocity = -4.5
fall.recover = 1
fall.recovertime = 10
fall.damage = 85
kill = 1
guard.kill = 1
fall.kill = 1
numhits = 1
palfx.time = 80
palfx.add = 100,-50,-200
palfx.mul = 255,255,64
palfx.sinadd = 50,10,0,10
palfx.color = 0
palfx.invertall = 1

[State 1001, DestroySelf]
type = DestroySelf
trigger1 = MoveContact
trigger2 = Movehit
trigger3 = time = 1000

;--------------------------[ Buterfly 1 top left]------------------------------------------
[Statedef 1009 b1swarm]
type = S
movetype = A
physics = N
velset = -0.6,-0.5
anim = 4003
sprpriority = 2
juggle = 2
ctrl = 0

[State 1009,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 913
time = -1

;--------[Randomize]-------------------------------
[State 1009, ChangeState]
type = ChangeState
trigger1=Time=25&&Random<=300
value = 2012
ctrl = 0
ignorehitpause = 1

[State 1009, ChangeState]
type = ChangeState
trigger1=Time=50&&Random<=300
value = 2010
ctrl = 0
ignorehitpause = 1

[State 1009, ChangeState]
type = ChangeState
trigger1=Time=75&&Random<=300
value = 2012
ctrl = 0
ignorehitpause = 1

[State 1009, ChangeState]
type = ChangeState
trigger1=Time=100&&Random<=300
value = 2011
ctrl = 0
ignorehitpause = 1

;--------------------------------------------------

[State 1009, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

;---------------------------[ Movements]
[State 1009, Turn]
type = Turn
trigger1 = P2BodyDist x < -30
ignorehitpause = 1
persistent = 1

[State 1009, VelSet lr1]
type = VelSet
triggerall = time >= 30
trigger1 = P2BodyDist x > -30
x = 6

[State 1009, VelSet lr2]
type = VelSet
triggerall = time >= 30
trigger1 = P2BodyDist x < -65
x = -6

;------------------------------------[up/down]
[State 1009, VelSet ud1]
type = VelSet
triggerall = time >= 50
trigger1 = P2BodyDist y > -60
y = 6

[State 1009, VelSet ud2]
type = VelSet
triggerall = time >= 50
trigger1 = P2BodyDist y < 60
y = -6
;------------------------------[ Hit]

[State 1009, HitDef]
type = HitDef
trigger1 = time = 1
attr = S, NA
damage = 3
animtype = hard
getpower = 0,0
guardflag = MA
hitflag = MAF
pausetime = 7,8
sparkno= s7060
guard.sparkno = 40
sparkxy = 10,-10
hitsound = s5,10
guardsound = s5,10
ground.type = low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -4,-3
air.velocity = -1,-3
fall = 1

;----------------------------------------[FX]
[State 1009, Explod e] ; Blue Flurries
type = Explod
trigger1 = time >= 1 && Timemod = 10, 9
anim = 13330
pos = 0,0
random = 5,5
removetime = 30
sprpriority = 5
bindtime = 1
ownpal = 0
accel = 0,0
ignorehitpause = 0
supermove = 1
velocity = 0.3,0.3

[State 1009, DestroySelf]
type = DestroySelf
trigger1 = MoveContact
trigger2 = Movehit
trigger3 = time = 200


;-----------------------[ Butterfly Bome Air]------------------------------------------
[Statedef 1015, bba]
type    = A
movetype= A
physics = A
anim = 1015
poweradd= 25
ctrl = 0
juggle  = 2

;----------------------------[ Sounds]
[State 1015, PlaySnd b]; Poof sound
type = PlaySnd
trigger1 = AnimElem = 3
value = s124, 1
;----------------------------[ Butterfly Bomb helper ]
[State 1015, Helper]
type = Helper
triggerall = numhelper(1015)=0
trigger1 = !IsHelper
trigger1 = animelem = 3
helpertype = normal ;player
name = "Flitter Bomb"
ID = 1015
stateno = 1001
pos = 46,-83
postype = p1    ;p2,front,back,left,right
ownpal = 0

[state 1015, f1]
type = velset
trigger1 = numhelper(8000) = 1
y = 0
x = 0

[state 1015, f2]
type = changestate
trigger1 = time >= 24
trigger1 = numhelper(8000) = 1
value = 8001
ctrl = 1

;---------------------------------------------------------------------------
; "Butterfly Crush"
[Statedef 1030 blutc]
type = S
movetype= A
physics = S
poweradd= 0
ctrl = 0
velset = 0
anim = 651

[State 9941, 1]
type = PowerAdd
trigger1 = AnimElem = 1
value = -1000

[State 1010, 1]
type = HitDef
trigger1 = AnimElem = 11
attr = S, NA
damage = 10
projhitanim = 38010
animtype = Medium
getpower = 30,15
guardflag = H
hitflag = MAF
pausetime = 11,11
pausetime = 12,12
sparkxy = -20,-80
sparkno = S360102
guard.sparkno = 40
hitsound = S5,9
guardsound = 2,2
ground.type = High
ground.slidetime = 8
ground.hittime  = 4
ground.velocity = -2
air.velocity = -1,-2
fall = 0

[state 1010]
type = targetlifeadd
trigger1 = animelem = 11
value = -100

[State 1010, 1b]
type = PlaySnd
trigger1 = Time = 0
value = 11, 3

[State 1010, 1]
type = PlaySnd
trigger1 = Time = 0
value = 3, 1

[State 1010, 1]
type = PlaySnd
trigger1 = Time = 40
value = 10, 0

[State 1010, Explod];Dust
type = Explod
trigger1 = time = 0
ID = 3700
anim = 3700
postype = p1
pos = 0,0
bindtime = -1
removetime = 20
sprpriority = 1
ontop = 1
ownpal = 1

[State 1010, Flash FX]
type = Explod
trigger1 = animelem = 2
ID = 651
anim = 1509
postype = p1
pos = -30,-95
bindtime = 20
removetime = 20
sprpriority = 1
ontop = 1
ownpal = 1

[State 3400, Super A2]
type = Explod
trigger1 = time = 0
ID = 3800
anim = 3800
postype = p1
pos = -20,-80
bindtime = -1
removetime = 20
sprpriority = 1
ontop = 1
ownpal = 1


[State 1010, B5]
type = Projectile
trigger1 = AnimElem = 12
projanim = 1001
projhitanim = 1508
offset = 37, -69
velocity = 0.7, -0.1
projhits = 1
projmisstime = 6
attr = S, SP
damage = 15
animtype = Hard
pausetime = 0, 9
sparkno = s13331
guard.sparkno = 40
hitsound = s2,3
guardflag = MA
guardsound = S2,2
projscale = 1,1
ground.type = Low
ground.slidetime = 4
ground.hittime = 26
ground.velocity = -4
air.animtype = Back
air.velocity = -2
air.juggle = 3
palfx.color = 100
palfx.time = 88
palfx.add = 30,30,30
palfx.mul = 170,170,170
palfx.sinadd = 44,44,44,4
palfx.invertall = 1
palfx.color = 0
fall.envshake.time = 1
fall.envshake.freq = 45

[State 1010, B6]
type = Projectile
trigger1 = AnimElem = 13
projanim = 1001
projhitanim = 1508
offset = 36, -68
velocity = 1, 0.2
projhits = 1
projmisstime = 6
attr = S, SP
damage = 15
animtype =  Medium
pausetime = 0, 9
sparkno = s13331
guard.sparkno = 40
hitsound = s2,3
guardflag = MA
guardsound = S2,2
projscale = 1,1
ground.type = Low
ground.slidetime = 4
ground.hittime = 26
ground.velocity = -4
air.animtype = Back
air.velocity = -2
air.juggle = 3
palfx.color = 100
palfx.time = 88
palfx.add = 30,30,30
palfx.mul = 170,170,170
palfx.sinadd = 44,44,44,4
palfx.invertall = 1
palfx.color = 0
fall.envshake.time = 1
fall.envshake.freq = 45

[State 1010, B7]
type = Projectile
trigger1 = AnimElem = 14
projanim = 1001
projhitanim = 1508
offset = 35, -67
velocity = 0.8,0.1
projhits = 1
projmisstime = 6
attr = S, SP
damage = 15
animtype = Hard
pausetime = 0, 9
sparkno = s13331
guard.sparkno = 40
hitsound = s2,3
guardflag = MA
guardsound = S2,2
projscale = 1,1
ground.type = Low
ground.slidetime = 4
ground.hittime = 26
ground.velocity = -4
air.animtype = Back
air.velocity = -2
air.juggle = 3
palfx.color = 100
palfx.time = 88
palfx.add = 30,30,30
palfx.mul = 170,170,170
palfx.sinadd = 44,44,44,4
palfx.invertall = 1
palfx.color = 0
fall.envshake.time = 1
fall.envshake.freq = 45

[State 1010, B8]
type = Projectile
trigger1 = AnimElem = 15
projanim = 1001
projhitanim = 1508
offset = 75, -66
velocity = 0.9,0
projhits = 1
projmisstime = 6
attr = S, SP
damage = 15
animtype =  Medium
pausetime = 0, 9
sparkno = s13331
guard.sparkno = 40
hitsound = s2,3
guardflag = MA
guardsound = S2,2
projscale = 1,1
ground.type = Low
ground.slidetime = 4
ground.hittime = 26
ground.velocity = -4
air.animtype = Back
air.velocity = -2
air.juggle = 3
palfx.color = 100
palfx.time = 88
palfx.add = 30,30,30
palfx.mul = 170,170,170
palfx.sinadd = 44,44,44,4
palfx.invertall = 1
palfx.color = 0
fall.envshake.time = 1
fall.envshake.freq = 45

[State 1010, B9]
type = Projectile
trigger1 = AnimElem = 16
projanim = 1001
projhitanim = 1508
offset = 32, -65
velocity = 0.3, 0
projhits = 1
projmisstime = 6
attr = S, SP
damage = 15
animtype = Hard
pausetime = 0, 9
sparkno = s13331
guard.sparkno = 40
hitsound = s2,3
guardflag = MA
guardsound = S2,2
projscale = 1,1
ground.type = Low
ground.slidetime = 4
ground.hittime = 26
ground.velocity = -4
air.animtype = Back
air.velocity = -2
air.juggle = 3
palfx.color = 100
palfx.time = 88
palfx.add = 30,30,30
palfx.mul = 170,170,170
palfx.sinadd = 44,44,44,4
palfx.invertall = 1
palfx.color = 0
fall.envshake.time = 1
fall.envshake.freq = 45


[State 1010, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Energy Net
[Statedef 1010 enet]
type = S
movetype= A
physics = S
poweradd= 50
ctrl = 0
velset = 0
juggle = 6
anim = 1010

;-----------------------------[Sound]

[State 1010, 1b]
type = PlaySnd
trigger1 = Time = 0
value = 11, 3

;---------------------------[Butterfly]

[State 1010, Helper B1];
type = Helper
trigger1 = AnimElem = 4
helpertype = normal ;player
name = "Buterfly Net"
ID = 1016;--------Diana
stateno = 2110
pos = 5, -102
postype = p1    ;p2,front,back,left,right
ownpal = 0

[State 1010, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;------------------------["Desolation" full move]------------------------------------------
;
[Statedef 1020 desolation]
type    = S
movetype= A
physics = S
juggle  = 2
ctrl = 0
poweradd = -1000
velset = 0,0,0
anim = 2271
sprpriority = 4

[State 1020,CtrlSet]
type = CtrlSet
trigger1 = animelem = 10
value = 1

[State 1020, 2]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1


[State 1020, Super c]
type = NotHitBy
trigger1 = AnimElem = 1
value = SCA
time = 208

[State 1020]; Super Flash
type = null;NotHitBy
trigger1 = animelem = 16,<=0
value = SCA
;---------------------------[Sound]--------------------------------
[State 1020, 6]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

[State 1020, 6a]
type = PlaySnd
trigger1 = Time = 20
value = 3000,2

[State 1020, 6b];Desolation
type = PlaySnd
trigger1 = Time = 1
value = 1020,0
volume = 530

[State 1020, PlaySnd "Beam"]
type = PlaySnd
trigger1 = AnimElem = 7
value = 60,0
;--------------------------[FX]-------------------------------------

[State 1020, 5]
type = Explod
trigger1 = time = 1
anim = 6000
sprpriority = -1
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 1020, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

[State 1020, 7]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29;29
value = 0,0,0
under = 2

[state 1020, dust]
type = explod
trigger1 = AnimElem = 7
anim = 6007
postype = p1
pos = -60,8
sprpriority = 3
scale = 2,1
removeongethit = 1
supermove = 1
ontop = 1

[State 1020, a5]; Blue Flame
type = Explod
trigger1 = time = 1
anim = 2273
sprpriority = 5
postype = p1
pos = 1,1
bindtime = 1
removeongethit = 1
removetime = 36
supermove = 1
under = 0
ownpal = 1

[State 1020, b5]; Blue energy
type = Explod
trigger1 = time >= 64 && Timemod = 3, 1
anim = 13330
sprpriority = 5
postype = p1
pos = 57,-63
random = 80,100
accel = 0,0.1
velocity = 2.1
removetime = 100
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 1020, Super A3 "Dust Back" ]
type = Explod
trigger1 = AnimElem = 7
ID = 3700
anim = 3700
postype = p1
pos = 0,0
bindtime = -1
removetime = 48
sprpriority = 1
ontop = 1
ownpal = 1

[State 1020, des]
type = HitDef
trigger1 = animelem = 6
attr = C, NA
damage    = 40
getpower  = 100,80
givepower = 0
animtype  = heavy
hitflag = MA
guardflag = L
pausetime = 12,12
sparkxy = -30,-80
sparkno = S360102
guard.sparkno = 40
hitsound = S400,3
guardsound = s9,0
ground.type = High
ground.slidetime = 17
ground.hittime  = 18
guard.velocity = -9
ground.velocity = -3,-4.5
air.hittime = 9999
airguard.ctrltime = 9999
air.velocity = -4,-3.5
p1stateno = 1021
p2stateno = 3040
p2getp1state = 1
fall = 0
fall.recover = 0

[State 1020, 2]
type = Projectile
trigger1 = AnimElem = 7
projanim = 2272
projhitanim = 10012
projID = 3000
offset = 62, -68
velocity = 20, 0
attr = S, SP
damage = 20
animtype = hard
pausetime = 2
sparkno = 1
guard.sparkno = 40
hitsound = s1020,1
guardsound = 124,1
projscale = 1,1
projhits = 2
ground.type = Low
ground.slidetime = 0
ground.hittime = 30
ground.velocity = 0,-6
air.animtype = hard
air.velocity = 0,-6
air.juggle = 3
p1stateno = 1021
p2stateno = 3040
p2getp1state = 1

[State 1020, 3]
type = ChangeState
trigger1 = Time = 98
value = 0
ctrl = 1
;----------------------------[Part two, Full Move]----------------------
[Statedef 1021, p2]
type = S
movetype = A
physics = S
anim = 10220;------------------------ Start
poweradd = 0
velset = 0
ctrl = 0

[State 1021, ChangeAnim1]
type = ChangeAnim
trigger1 = time = 80
value = 570
elem = 1
ignorehitpause = 1
persistent = 0

[State 1021, ChangeAnim2]
type = ChangeAnim
trigger1 = time = 180
value = 571
elem = 1
ignorehitpause = 1
persistent = 0

[State 1021, 0]
type = VelSet
trigger1 = animelem = 7
x = 60

[State 1021, 7]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 160;29
value = 0,0,0
under = 2

;--------------------------[ Sound ]--------------
[State 1021, a]; Ports
type = PlaySnd
trigger1 = time = 8;Start
trigger2 = time = 80;End
value = 12,1

[State 1021,s2]; "Die"
type = PlaySnd
trigger1 = Time = 100
value = 11,3

[State 1021, s3];Whoosh 1
type = PlaySnd
trigger1 = time = 1
value = 1020,1

[State 1021, s5]; Baka
type = PlaySnd
trigger1 = movehit = 1
value = 12,2
;---------------------------[Diana]---------
[State 1021, Desolation helper]
type = Helper
trigger1 = time = 24
postype = p2
helpertype = normal
name = "Desolation Hitting"
ID = 1224
pos = 0,0
stateno = 1022
ownpal = 1
removetime = 110
bindtime = 110
ontop = 0

[State 1021, Turn]
type = Turn
trigger1 = P2BodyDist x < 0
ignorehitpause = 1
persistent = 1

[State 1021, 20]
type = ChangeState
trigger1 = Time = 210
value = 0
ctrl = 1
;-------------------------[Hit helper]-----------------------------------
;PART 3 of 4
[Statedef 1022, p3h]
type = S
movetype = A
physics = S
ctrl = 0
anim = 10221
velset = 0,0
sprpriority = 200

[State 1022, 1]
type = Nothitby
trigger1 = stateno =  1022
value = SCA,NA,SA,HA,NT,ST,HT

[State 1022, HitBy]
type = HitBy
trigger1 = stateno =  1022
value = SCA,NP,SP,HP
time = 1
;-------------------------------------------------------------------
[State 1022, 2]; Butterfly hit
type = HitDef
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
attr = S,SP
hitflag = MAFD
guardflag = MA
animtype = Hard
priority = 5,Hit
offset = 0,-180
damage = 20
pausetime = 2,2
guard.pausetime = 4,3
sparkno = S8888
guard.sparkno = 40
sparkxy = 10,-70
hitsound = s3000,40
guardsound = s5,0
ground.type = High
air.type = Trip
ground.slidetime = 0
ground.hittime = 100
ground.velocity = 0,-4
guard.velocity = 0
air.velocity = 0,-4
air.fall = 0
fall = 0

[State 1022, 2]; Butterfly hit
type = HitDef
trigger1 = animelem = 7
attr = S,SP
hitflag = MAFD
guardflag = MA
animtype = Hard
priority = 5,Hit
offset = 0,-180
damage = 150
pausetime = 2,2
guard.pausetime = 4,3
sparkno = S8888
guard.sparkno = 40
sparkxy = 10,-70
hitsound = s1020,3
guardsound = s1020,3
ground.type = High
air.type = Trip
ground.slidetime = 0
ground.hittime = 100
ground.velocity = 0,20
guard.velocity = 0
air.velocity = 0,20
air.fall = 1
fall = 1

[State 3040, la1]
type = LifeAdd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
value = -30
kill = 0

[State 3040, la2]
type = LifeAdd
trigger1 = animelem = 8
value = -50
kill = 1
;-----------------------------------[FX]-------------------------------
[State 1022, Butterfly strike line to sword FX]
type = Explod
trigger1 = animelem = 7
anim = 10223
ID = 10222
pos = 0,0
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 50
vel = 0,0
accel = 0,0
random = 0,0
removetime = 202
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1022, Butterfly white]
type = Explod
trigger1 = animelem = 8
anim = 10222
ID = 10222
pos = 0,-50
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 50
vel = 0,4
accel = 0,0
random = 0,0
removetime = 40
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1022, blue]
type = Explod
trigger1 = animelem = 8
anim = 8101
ID = 8101
pos = 0,4
postype = p2  ;p2,front,back,left,right
scale = 2,0.5
facing = 1
vfacing = 1
bindtime = 50
removetime = 200
scale = 1,1
sprpriority = 6

[State 1022, butterflies]
type = Explod
trigger1 = time >= 70
anim = 3620
ID = 3620
sprpriority = 5
postype = p2
pos = 0,-70
random = 100, 50
bindtime = 20
removetime = 100
scale = 1,1
;-------------[hit FX]------------
[State 1022, Ex1]
type = Explod
trigger1 = animelem = 1
anim = 10012
ID = 10012
pos = -30,-50
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 8
removetime = 8
scale = 1,1
sprpriority = 5

[State 1022, Ex2]
type = Explod
trigger1 = animelem = 2
anim = 10012
ID = 10012
pos = 30,-80
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 8
removetime = 8
scale = 1,1
sprpriority = 5

[State 1022, Ex3]
type = Explod
trigger1 = animelem = 3
anim = 10012
ID = 10012
pos = -30,-105
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 8
removetime = 8
scale = 1,1
sprpriority = 5

[State 1022, Ex4]
type = Explod
trigger1 = animelem = 4
anim = 10012
ID = 10012
pos = 30,-125
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 8
removetime = 8
scale = 1,1
sprpriority = 5

[State 1022, Ex5]
type = Explod
trigger1 = animelem = 5
anim = 10012
ID = 10012
pos = -30,-60
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 8
removetime = 8
scale = 1,1
sprpriority = 5
;-----------------------------------------
[State 1022, EnvShake]
type = EnvShake
trigger1 = animelem = 6
time = 60
freq = 60
ampl = -4

[State 1022, s2];Whoosh 2
type = PlaySnd
trigger1 = animelem = 8
value = 1020,2


[State 1022, s1];slashs
type = PlaySnd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
value = 400,3
channel = 1

[State 1022, s2];big slash
type = PlaySnd
trigger1 = animelem = 8
value = 1020,3
channel = 1

[State 1022, ]
type = ChangeState
trigger1 = time = 110
value = 1023
;-----------------------------------[End Move]---------------------
[Statedef 1023, p4d]
type = S
movetype = I
physics = S
ctrl = 0
anim = 8888
velset = 0,0
sprpriority = 5

[State 1023, 1]
type = DestroySelf
trigger1 = time = 1


;----------------------------------------------------------------------------
; Flutterblade
[Statedef 1024 flutb]
type = S
movetype = A
poweradd= -1000
anim = 10200
velset = 0,0
ctrl = 0
sprpriority = 2
juggle = 2

[State 1024, 1]
type = null;NotHitBy
trigger1 = animelem = 16,<=0
value = SCA

[State 1024, 2]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 30100, 1]
type = Explod
trigger1 = animelem = 1
anim = 6001
sprpriority = -1
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 30100, 1]
type = Explod
trigger1 = animelem = 1
anim = 6000
sprpriority = 3
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 1024, 5 flutterblade]
type = Explod
trigger1 = AnimElem = 11
anim = 6760
sprpriority = 5
postype = p1
pos = 13,-63
scale = 1.2,1.2
bindtime = 100
supermove = 1
removetime = 50
under = 0
ownpal = 1

[State 1024, 5a];Star Energy
type = Explod
trigger1 = time >= 4
anim = 13330
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0.5
accel = 0,0
random = 70,70
removetime = 150
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1
;---------------------[Super FX]--------------------
[State 1024, Flash FX]
type = Explod
trigger1 = animElem = 6
ID = 10200
anim = 1509
postype = p1
pos = -36,-64
bindtime = 20
removetime = 20
sprpriority = 1
ontop = 1
ownpal = 1

[State 1024, 7]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

[State 1024, 7]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29;29
value = 0,0,0
under = 2

[State 1024, 6];Super sound
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

;--------------------------------------
[State 1024, 6a]
type = PlaySnd
trigger1 = Time = 20
value = 3000,2

[State 1024, 6b]
type = PlaySnd
trigger1 = animElem = 10
value = 1,5

[State 1024, 6b]
type = PlaySnd
trigger1 = animElem = 6
value = 7,1
Channel = 1


[State 1024, 4]
type = HitDef
trigger1 = animElem = 13
trigger2 = AnimElem = 14
attr = S, SA
damage = 35
animtype = hard
getpower=   30
givepower = 15
priority = 5, Hit
hitflag = MA
guardflag = MA
pausetime = 10, 10
sparkxy = 0, -60
guard.sparkno = 40
sparkno = S360102
hitsound = S400,3
guardsound = 6,0
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -5 ,-8
air.velocity = -5, -8
fall = 1
fall.recover = 0
envshake.time = 10

[State 1024, AfterImage]
type = AfterImage
trigger1 = AnimElem = 11
time = 40
palbright = 30,30,30
palcontrast = 120,120,220
paladd = 10,10,25
palmul = .65,.65,.75
framegap = 4

[State 1024, 9]
type = ChangeState
trigger1 = AnimElem = 12
value = 1025
;----------------------------------------------------------
; Flutterblade
[Statedef 1025]
type = A
movetype = A
velset = 12, -12
sprpriority = 2
juggle = 8

[State 1025, fx];Star Energy
type = Explod
trigger1 = time >= 4
anim = 13330
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0.5
accel = 0,0
random = 80,80
removetime = 150
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 1025, 1]
type = NotHitBy
trigger1 = time < 8
value = A, NP, SP, HP
time = 1

[State 1025, 2]
type = VelMul
trigger1 = Time >= 0
x = .96

[State 1025, 3] ; Gravity
type = VelAdd
trigger1 = Time >= 0
y = .6

[State 1025, 4]
type = HitDef
trigger1 = AnimElemtime(12)>= 0 && time %2=0
attr = S, SA
damage = 35
animtype = Hard
getpower=   30
givepower = 15
priority = 5, Hit
hitflag = MAF
guardflag = M
pausetime = 5, 5
sparkxy = 0, -80
sparkno = 3
guard.sparkno = 40
hitsound = S400,3
guardsound = 6,0
ground.type = High
air.type = Low
ground.slidetime = 20
ground.hittime = 20
ground.velocity = -8, -12
air.velocity = -8, -12
air.hittime = 45
fall = 1
fall.recover = 0
yaccel = .6
envshake.time = 5
fall.envshake.time = 20


[State 1025, 7]
type = ChangeAnim
trigger1 = vel y > -3
value = 1021
persistent = 0


[State 1025, 8]
type = velset
trigger1 = anim = 1021
x = 0
persistent = 0

[State 1025, 9]
type = ChangeState
trigger1 = vel y > 0
trigger1 = pos y >= 0
value = 52

;----------------------------------------[P2 state]--------------------------
[Statedef 1040]
type    = A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
sprpriority = -1
movetype = H

[State 1040, 1]
type = posset
trigger1 = time = 0
y = 0

[State 1040, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 1040, 3]
type = changeanim2
trigger1 = time = 0
value = 5016
;------------------------------------[P2 state]-----------------------------
[Statedef 1041]
type    = A
physics = N
poweradd = 0
ctrl = 0
velset = 0,0
sprpriority = -1
movetype = H

[State 1041, 1]
type = posset
trigger1 = time = 0
y = 0

[State 1041, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 1041, 4]
type = changeanim2
trigger1 = time = 0
value = 5007

[State 1041, 5]
type = ChangeState
trigger1 = Time = 170
value = 5050

[State 1041, 5a]
type = ChangeState
trigger1 = AnimTime = 250
value = 0
ctrl = 1
;--------------------------------------[ Port slam ] -------------------------------------------------

[Statedef 1105, ps1]
type    = S
movetype= A
physics = N
anim = 182 ;port animation

[State 1105, Turn]
type = Turn
trigger1 = time = 9
persistent = 1

[State 1105, fx];Blue Star Energy
type = Explod
trigger1 = Time = 3
trigger2 = Time = 4
trigger3 = Time = 5
trigger4 = Time = 6
pos = 20,-118
anim = 13330
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-0.5
accel = 0,0
random = 40,40
removetime = 150
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 1105, fx]; Pink Star Energy
type = Explod
trigger1 = Time = 1
trigger2 = Time = 2
trigger3 = Time = 7
trigger4 = Time = 8
pos = 20,-118
anim = 2277
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,-0.5
accel = 0,0
random = 40,40
removetime = 150
scale = 0.8,0.8
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

;-----------------------------------[Sound]

[State 1105, s1]; Port
type = PlaySnd
trigger1 = Time = 1
value = S12,1

[State 1105, s2]; whoosh
type = PlaySnd
trigger1 = Time = 1
value = S49,1

[State 1105, s3]; "Lets Go"
type = PlaySnd
trigger1 = Time = 1
value = S49,7
volume = 300

;-----------------------------------[Movement]
[State 1105, 3]
type = VelAdd
trigger1 = time = 10
x = 2.7
y = -4

[State 1105, 3]
type = VelAdd
trigger1 = time = 19
y = -6

[State 1105, 3]
type = VelSet
trigger1 = time = 28
x = 0

[State 1105, 3]
type = VelSet
trigger1 = time = 61
x = 0
y = 0

[State 1105, 4]
type = veladd
trigger1 = Time = 28
x = -5

[State 1105, 4a]
type = velset
trigger1 = Time = 64
x = 0

[State 1105, Bind 1]
type = TargetBind
trigger1 = 1
pos = 55, 0

[State 1105, State End]
type = ChangeState
trigger1 = Time = 64
value = 1110
ctrl = 0

;--------------------------Port slam part 2----------------------------------------------------------------

[Statedef 1110,ps2]
type    = A
movetype= A
physics = S
juggle  = 5
velset = 0,0
anim = 1110;------------------Standing on top 6/11
sprpriority = 2
ctrl = 0

;----------------------------[Sound]

[State 1110, s0]; -----------port
type = PlaySnd
trigger1 = AnimElem = 1
value = S12,1

[State 1110, s1]; -----------"HaHa"
type = PlaySnd
trigger1 = AnimElem = 2
value = S49,10

[State 1110, s2]; -----------cloth
type = PlaySnd
trigger1 = AnimElem = 2
value = S3000,3

[State 1110, s3]; -----------Landing hard
type = PlaySnd
trigger1 = AnimElem = 3
value = S3000,6
;----------------------------[FX]

[State 1110, port]; Port Diana
type = Explod
trigger1 = AnimElem = 1
ID = 182
anim = 182
postype = p1
pos = 0,0
bindtime = 5
removetime = 18
sprpriority = 5
ontop = 1

;-------------------------[Movement]

[State 1110, 2]
type = velset
trigger1 = time = 0
x = 0
y = 16


[State 1110, 4]
type = posset
trigger1 = time = 0
y = -300

[State 1110, 5]
type = Gravity
trigger1 = time >= 1

[State 1110, SB]
type = ScreenBound
trigger1 = 1
movecamera = 1,0
value = 1

[State 1110, Bind 1]
type = TargetBind
trigger1 = 1
pos = 0, 0

[State 1110, Hurt 11]
type = TargetLifeAdd
trigger1 = Vel Y > 0 && Pos Y >= 0
value = -100

[State 1110, Throw 11]
type = TargetState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 13050

[State 1110, 7]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 1115

;---------------------------------------------------------------------------
;Part three
[Statedef 1115, ps3]
type    = S
movetype= A
physics = S
poweradd= 120
velset = 0,0
anim = 1115
ctrl = 0
sprpriority = 2

[State 1115,1]
type = EnvShake
trigger1 = Time = 0
Time = 20
ampl = 4
freq = 80
phase = 4

[State 1115, Bind 2]
type = TargetBind
trigger1 = AnimElem = 2
pos = 0, -15

[State 1115, Throw 3]
type = TargetState
trigger1 = AnimElem = 4,2
value = 13100

[State 1115,4]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1120

;-----------------------------------------[ Part four]

[Statedef 1120, ps4]
type    = S
physics = N
ctrl = 0
anim = 1120
sprpriority = 1

[State 1120, 2]
type = StateTypeSet
trigger1 = time = 1
StateType = A

[State 1120, 3]
type = VelSet
trigger1 = time = 1
x = -3
y = -8.5

[State 1120, 4]
type = VelAdd
trigger1 = time = 1
x = 0
y = .63

[State 1120, 5]
type = ChangeState
trigger1 = time = 4
value = 50
;---------------------------------------------------------------------------
; Hi to Friends
[Statedef 1195, friends]
type = S
ctrl = 0
anim = 1195
velset = 0,0

[State 1195, 1]; sword 'shing'
type = PlaySnd
trigger1  = time = 168
value = 5,2
channel = 1

[State 1198, 3a]; "long time no see"
type = PlaySnd
trigger1  = animelem = 8
value = 3000,47

[State 1195, 2] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0
;---------------------------------------------------------------------------
; Diana School of NESTS
[Statedef 1197, school]
type = S
ctrl = 0
anim = 1197
velset = 0,0
;-------------------------[ Sounds ]----------------------
[State 1197, s0]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1,10

[State 1197, s2];ports
type = PlaySnd
trigger1 = time = 80;Nyla
trigger2 = time = 150;
trigger3 = time = 160;
trigger4 = time = 170;
trigger5 = time = 180;
trigger6 = time = 200;Kula
trigger7 = time = 259;Diana
value = 12,1
channel = 1

[State 1197, s2]
type = PlaySnd
trigger1 = AnimElem = 13
value = 0,2

[State 1197, s3]
type = PlaySnd
trigger1 = AnimElem = 20
value = 7,1
channel = 1

;--------------------------------------------------------
[State 1197, White] ;Blink white
type = PalFX
trigger1 = time = 239
time = 30
add = 128,128,128 ;256,256,256

[State 1197, Explod]  ; Telaport Flash
type = Explod
trigger1 = time = 259
ID = 182
anim = 182
postype = p1
pos = 0,90
bindtime = -1
removetime = 17
scale = 1,2
sprpriority = 2
scale = 1,2
ontop = 1
ownpal = 1

[State 1197, Flash FX]; Sword flash
type = Explod
trigger1 = AnimElem = 20
ID = 1197
anim = 1509
postype = p1
pos = 33,-80
bindtime = 20
removetime = 30
sprpriority = 5
ontop = 0
ownpal = 1

[State 1197, Flash FX2]; Sword flash2
type = Explod
trigger1 = time = 506
ID = 1197
anim = 19199
postype = p1
pos = 33,-80
bindtime = 20
removetime = 20
sprpriority = 1
ontop = 1
ownpal = 1

[State 1197, fx];Star Energy
type = Explod
trigger1 = Time = 522
trigger2 = Time = 523
trigger3 = Time = 524
trigger4 = Time = 525
trigger5 = Time = 526
trigger6 = Time = 527
trigger7 = Time = 528
trigger8 = Time = 529
trigger9 = Time = 530
trigger10 = Time = 531
anim = 13330
id = 619
pos = 33,-80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0.5
accel = 0,0
random = 40,40
removetime = 150
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

;-------------------------------------------------The Kids

[State 1197, Explod 1] ;School girl Nyla
type = Explod
trigger1 = AnimElem = 1
ID = 1190
anim = 1190
postype = p1
pos = 50,5
bindtime = -1
removetime = 98
shadow = 5,5,5
sprpriority = 1
ontop = 0
ownpal = 1

[State 1197, Explod 2] ;School girl Kula
type = Explod
trigger1 = AnimElem = 1
ID = 13325
anim = 13325
postype = p1
pos = 30,7
bindtime = -1
removetime = 212
shadow = 5,5,5
sprpriority = 2
ontop = 0
ownpal = 1

[State 1197, Explod1]; Anti-K
type = Explod
trigger1 = AnimElem = 1
ID = 13324
anim = 13324
postype = p1
pos = -10,7
bindtime = -1
removetime = 192
shadow = 5,5,5
sprpriority = 1
ontop = 0
ownpal = 1

[State 1197, Explod1];Ashley
type = Explod
trigger1 = AnimElem = 1
ID = 13323
anim = 13323
postype = p1
pos = -30,7
bindtime = -1
removetime = 182
shadow = 5,5,5
sprpriority = 5
ontop = 0
ownpal = 1

[State 1197, Explod1]; Teri
type = Explod
trigger1 = AnimElem = 1
ID = 13322
anim = 13322
postype = p1
pos = 10,7
bindtime = -1
removetime = 172
shadow = 5,5,5
sprpriority = 5
ontop = 0
ownpal = 1

[State 1197, Explod1];Krugal
type = Explod
trigger1 = AnimElem = 1
ID = 13321
anim = 13321
postype = p1
pos = -55,7
bindtime = -1
removetime = 162
shadow = 5,5,5
sprpriority = 2
ontop = 0
ownpal = 1

[State 1197, 3]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 1197, 4] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Diana Energy
[Statedef 1198, d e]
type = S
ctrl = 0
anim = 1003
velset = 0,0

[State 1198, 0]
type = AssertSpecial
trigger1 = 1
flag = Intro

;-----------------------------[ Sounds]-------------
[State 1198, 2]; Sword burst
type = PlaySnd
trigger1  = time = 200
value = 7,1

[State 1198, 1b];energy
type = PlaySnd
trigger1  = Time = 1
value = 3,4
volume = 200


;--------------------------[Exp] ------------------------------
[State 1198, Explod];Energy back
type = Explod
trigger1 = time = 1
anim = 7221
sprpriority = 0
postype = p1
pos = 0,0
under = 0
removetime = 200
ownpal = 1
persistent = 1
scale = 1.5,1
ignorehitpause = 0

[State 1198, Flash FX]
type = Explod
trigger1 = time = 200
ID = 1003
anim = 1509
postype = p1
pos = 37,-101
bindtime = 20
removetime = 20
sprpriority = 1
ontop = 1
ownpal = 1

[State 1198, fx1];butterflies
type = Explod
trigger1 = Time = 2
trigger2 = Time = 3
trigger3 = Time = 4
trigger4 = Time = 5
trigger5 = Time = 6
trigger6 = Time = 7
trigger7 = Time = 8
trigger8 = Time = 9
trigger9 = Time = 10
trigger10 = Time = 12
anim = 13334
id = 1003
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -0.2,-0.5
accel = -0,0
random = 100,60
removetime = 190
afterimage = 190
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 1198, fx1];butterflies 2
type = Explod
trigger1 = Time = 2
trigger2 = Time = 3
trigger3 = Time = 4
trigger4 = Time = 5
trigger5 = Time = 6
trigger6 = Time = 7
trigger7 = Time = 8
trigger8 = Time = 9
trigger9 = Time = 10
trigger10 = Time = 12
anim = 13334
id = 1003
pos = 0,-20
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0.2,-0.5
accel = -0,0
random = 100,60
removetime = 190
afterimage = 190
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 1198, fx2];Star Energy 2
type = Explod
trigger1 = Time = 202
trigger2 = Time = 203
trigger3 = Time = 204
trigger4 = Time = 205
trigger5 = Time = 206
trigger6 = Time = 207
trigger7 = Time = 208
trigger8 = Time = 209
trigger9 = Time = 210
trigger10 = Time = 212
anim = 13330
id = 1003
pos = 37,-101
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0.5
accel = 0,0
random = 40,40
removetime = 150
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 1198, 6] ;Change to stand state
type = ChangeState
trigger1 = time = 212
value = 0
;---------------------------------------------------------------------------
; Intro Heidern's people Leona, Clark and Ralf
[Statedef 1199, leona]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 1198, 0]
type = AssertSpecial
trigger1 = 1
flag = Intro
flag2 = nomusic
flag3 = nobardisplay

;-----------------------[ FX ]------------------
[State 1199, Explod]  ; Telaport Flash
type = Explod
trigger1  = Animelem = 22
ID = 182
anim = 182
postype = p1
pos = 19,80
bindtime = -1
removetime = 17
scale = 1,2
sprpriority = 2
ontop = 0
ownpal = 1
;----------------------[ Sound ]---------------

[State 1199, 6];Speaking
type = PlaySnd
trigger1  = Animelem = 5
value = 3000,30
channel = 1

[State 1199, 7]; Port change
type = PlaySnd
trigger1  = Animelem = 22
value = 12,1
channel = 2

[State 1199, 8] ;Change to stand state
type = ChangeState
trigger1 = time = 480
value = 0

;-------------------------------[Finish]-------------------------------------
[Statedef 1331]
type    = A
movetype= I
physics = A
velset = 0,-2
anim = 50401
sprpriority = 2

[state 1331, 1]
type = changeanim
triggerall = P2bodydist X <= 40
triggerall = p2statetype = A
trigger1 = time = 0
value = 601

;----------------------------------- Killer Queens ( Thanks Mondless)---------
[Statedef 1500 kq]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1500
sprpriority = 2

[State 1500, power]
type = poweradd
trigger1 = animelem = 1
value = -3000

[State -2, Helper]
type = Helper
triggerall = !numhelper(40001)
trigger1 = time = 30
helpertype = normal
name = "HSDM"
ID = 40001
stateno = 40001
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = !numhelper(40003)
trigger1 = time = 6
helpertype = normal
name = "H.Port"
ID = 40003
stateno = 40003
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

[State -2, Helper]
type = Helper
triggerall = !numhelper(40004)
trigger1 = time = 6
helpertype = normal
name = "Player 1"
ID = 40004
stateno = 40004
pos = 160,120
postype = left    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
supermovetime = 999999999999
pausemovetime = 999999999999
ignorehitpause = 1

;-------------------------------[sound]

[State 1500, s1]   ;Diana
type = playsnd
trigger1 = animelem = 1
value = S2,5

[State 1500, s2]       ;FX
type = PlaySnd
trigger1 = animelem = 4
value = S3000,0

[State 191, 1] ;Smash
type = playsnd
trigger1 = animelem = 4
value = S3000,27

;---------------------------------[fx]

[State 30100, 1]
type = Explod
trigger1 = animelem = 4
anim = 6020
sprpriority = -1
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 30100, 1]
type = Explod
trigger1 = animelem = 4
anim = 6021
sprpriority = 3
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1


;[State 1500, fx4];FX in front "Flashy FX"----------(Done)
;type = Explod
;trigger1 = animelem = 4
;anim = 513
;postype = p1
;pos = -5,-70
;sprpriority = 5
;ownpal = 1
;supermove = 1

[State 1500, fx5] ;Slash Fx
type = Explod
trigger1 = animelem = 9
anim = 13332
postype = p1
pos = 20,0
bindtime = 1
sprpriority = 5
ownpal = 1

[State 1500, Explod]; Dust
type = Explod
trigger1 = animelem = 9
anim = 3710
ID = 3710
pos = -50,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 66
scale = 1,1
sprpriority = 5
shadow = 5,5,5

[State 1500, fx6]
type = envcolor
trigger1 = movehit
ignorehitpause = 1
persistent = 0
time = 10
value = 255,0,0
under = -1

[State 1500, fx7]
type = BGPalFX
trigger1 = animelem = 7, >= 0
time = 50
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 1500, fx8]
type = afterimage
trigger1 = animelem = 9
time = 100
length = 8
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
FrameGap = 2
ignorehitpause = 1

;-------------------------------------------[Movement]

[State 1500, move1]
type = velset
trigger1 = animelem = 9
x = 40

[State 1500, movepp]
type = PlayerPush
trigger1 = p2stateno = 1512
value = 0

[State 240, 2a];---------------------------(done)
type = HitDef
trigger1 = animelem = 11
trigger2 = animelem = 19
trigger3 = animelem = 20
trigger4 = animelem = 21
trigger5 = animelem = 22
trigger6 = animelem = 23
trigger7 = animelem = 24
trigger8 = animelem = 28
trigger9 = animelem = 29
trigger10 = animelem = 30
trigger11 = animelem = 31
trigger12 = animelem = 32
attr = S, NA
animtype  = hard
damage    = 45
guardflag =
hitflag = MAF
pausetime = 3,0
pausetime = 7,7
sparkno = S510
guard.sparkno = S524
sparkxy = -10,-25
hitsound   = S0,40
guardsound = S0,32
ground.type = high
ground.slidetime = 15
ground.hittime  = 0
ground.velocity = 0, 0
air.velocity = 0, -12.3
air.juggle  = 13
p2stateno = 1510
envshake.time = 10
;snap = 45,0
kill = 1

[State 840,0]
type = PlayerPush
trigger1 = p2stateno = 1512
value = 0

[State 240, 4g]
type = targetstate
trigger1 = p2stateno = 1510
value = 1512

[State 701, 1]
type = targetbind
Trigger1 = movehit = 1
pos = 45,0

[State 170, 1]
type = NotHitBy
Trigger1 = movehit = 1
value = SCA
time = 200


[State 701, 1]
type = Width
Trigger1 = movehit = 1
edge = 10,0

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
Trigger1 = movehit = 0
value = 0
ctrl = 1

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
Trigger1 = movehit
value = 15010

;-----------------Foxy & Diana disapear------------------------------
[Statedef 1502]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1504
sprpriority = 2


[state 190, 1]; foxy
type = playsnd
trigger1 = animelem = 1
value = S3000,14

[State 2]
type = BGPalFX
trigger1 = 1
trigger1 = var(58) = 1
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[state 190]
type = targetlifeadd
trigger1 = animelem >= 17
value = -40
kill = 0

[state 190]
type = envcolor
trigger1 = animelem >= 17
time = 2
value = 255,255,255
under = -1

[State 240, 4]
type = hitadd
trigger1 = animelem >= 17
value = 3

[State 240, 4];blood
type = Explod
trigger1 = animelem >= 17
anim = 510
postype = p2
random = 50,50
pos = 0,-60
facing = 1
sprpriority = 5
ownpal = 1


[State 840, 4]
type = PlaySnd
trigger1 = animelem >= 17
value = S3000,4

[State 240, 4]
type = targetstate
trigger1 = animelem = 9
value = 1511

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 1503
;---------------------------------disapear reapear-----------------
[Statedef 1503];
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 8888
sprpriority = 2

[State 1503, Foxy]; Slashs
type = playsnd
trigger1 = Time = 10
trigger2 = time = 20
value = S400,3

[State 1503, Foxy]; ports
type = playsnd
trigger1 = time = 1
trigger2 = time = 30
value = S12,1

[State 1503, Foxy]; foxy
type = playsnd
Trigger1 = Time = 50
value = S3000,15


[State 1503, Diana]; Diana
type = playsnd
Trigger1 = Time = 50
value = S3000,16

[State 1503, Smash]; Final slice 1
type = PlaySnd
Trigger1 = Time = 50
value = S400,3
volume = 200

[State 1503, Smash2]; Final slice 2
type = PlaySnd
Trigger1 = Time = 50
value = S400,3
volume = 200

[State 1503, shimmer]; Butterfly shimmer
type = PlaySnd
trigger1 = time = 100
value = S3000,2

;-------------------------[fx]
[State 1503, 1];Diana
type = explod
trigger1 = Time = 0
anim = 13326
postype = p1
sprpriority = 9
removetime = 48
pos = -70, -30
scale = 1,1
bindtime = -1
supermove = 1
ownpal = 1

[State 1503, 1];Foxy
type = explod
trigger1 = Time = 0
anim = 13327
postype = p1
sprpriority = 9
removetime = 48
pos = 110, 0
scale = 1,1
bindtime = -1
supermove = 1
ownpal = 1

[State 240, 4];Spark "Blood"
type = Explod
trigger1 = time = 6
trigger2 = time = 30
anim = 542
postype = p1
pos = 55,-20
scale = 1.5,1.5
facing = -1
sprpriority = 5
ownpal = 1

[State 1503, 4];Spark "Blood"
type = Explod
trigger1 = animelem = 11
anim = 542
postype = p1
pos = 55,-20
scale = 1.5,1.5
facing = -1
sprpriority = 5
ownpal = 1

[State 800, 2]
type = ChangeState
Trigger1 = Time = 72
value = 1504
;-------------------------Slaching down from the air----------------------
[Statedef 1504];
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 15060
sprpriority = 2

[state 190]
type = targetlifeadd
trigger1 = Time = 4
value = -300
kill = 1

[State 240, 4]
type = hitadd
trigger1 = Time = 8
value = 4

[State 4100,1];"cool pose" Diana and Foxy rase swords
type = Helper
trigger1 = time = 0
ID = 1500
name = "cool pose"
postype = p1
pos = 90,-120
sprpriority = 5
stateno = 1505
helpertype = normal
keyctrl = 0
facing = -1
persistent = 0
ignorehitpause = 1


[State 240, 4] ; slash FX
type = Explod
trigger1 = Time = 8
anim = 522
postype = p2
facing = -1
pos = 65,20
facing = -1
sprpriority = 5
ownpal = 1
pausemovetime = 999

[State 240, 4];blood
type = Explod
trigger1 = Time = 8
anim = 510
postype = p2
pos = 0,-80
facing = 1
sprpriority = 5
ownpal = 1
pausemovetime = 999

[State 800, 2]
type = posadd
Trigger1 = time = 0
y = -120

[State 800, 2]
type = velset
Trigger1 = time = 0
x = 12
y = 12

[State 840, 2]
type = afterimage
trigger1 = time = 1
time = 70
length = 8
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
palcolor = 0
FrameGap = 2
ignorehitpause = 1

[state 190]
type = envshake
trigger1 = Time = 8
ignorehitpause = 1
time = 10

[state 190]
type = envcolor
trigger1 = Time = 8
ignorehitpause = 1
persistent = 0
time = 30
value = 255,0,0
under = -1

[State 820, 2]
type = Pause
trigger1 = Time = 8
time = 10
movetime = 0

[State 191, 1]
type = playsnd
trigger1 = Time = 8
value = S0,0

[State 821, 4]
type = changeState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1506
;-----------------------------------------------------------------------
[Statedef 1506]; Diana pose after big slash
type = S
physics = S
movetype = I
anim = 202000
ctrl = 0
velset = 8,0

[State 1506,3]
type = turn
trigger1 = time = 0

[State 1506,3]
type = PosSet
trigger1 = 1
y = 0

[State 1506,4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 1506, 4]
type = destroyself
trigger1 = AnimTime = 0

[State 1506,5]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-----------------------------------
[Statedef 1505];Slaching Foxy (done)
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 1506
sprpriority = 2

[State 840, 2]
type = afterimage
trigger1 = time = 1
time = 20
length = 8
PalBright   =   0,  0,  0
PalContrast = 255,255,255
PalAdd      =   0,  0,  0
PalMul      =  1,1,1
palcolor = 0
FrameGap = 2
ignorehitpause = 1

[State 800, 2]
type = velset
Trigger1 = time = 0
x = 12
y = 12

[State 701, 1]
type = Width
trigger1 = 1
edge = 10,0

[State 821, 4]
type = changestate
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 1507
;-------------------------------------------------------
[Statedef 1507];Foxy Pose and waves
type = S
physics = S
movetype = I
anim = 1507
ctrl = 0
velset = 8,0

[State 5201,3]
type = turn
trigger1 = time = 0

[State 5201,3]
type = velset
trigger1 = backEdgeBodyDist < 10
trigger2 = frontEdgeBodyDist < 10
x = 0

[State 5201,3]
type = PosSet
trigger1 = 1
y = 0

[State 5201,4]
type = NotHitBy
trigger1 = 1
value = SCA
time = 2

[State 821, 4]
type = destroyself
trigger1 = AnimTime = 0
;-------------------------[P2 state part 1]-------------------
[Statedef 1510, p2]
type    = S
movetype= H
physics = S
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
trigger1 = enemy,stateno = 1501
value = SCA
time = 1

[State 810]
type = hitfallset
trigger1 = time = 0
value = 0

[State 820, 1]
type = selfstate
trigger1 = time = 200
value = 0
ctrl = 1

;--------------P2--------------------------

[Statedef 1511];
type    = A
movetype= H
physics = N
sprpriority = -1
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 9000, 1]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 821, 1]
type = Velset
trigger1 = time = 2
y = -14

[State 821, 1]
type = Veladd
trigger1 = time > 2
y = .34

[State 821, 4]
type = SelfState
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

;-------------------[p2]----------------------
[Statedef 1512]
type    = S
movetype= H
physics = S
velset = 0,0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 810]
type = hitfallset
trigger1 = time = 0
value = 0

[State 820, 1];Dizzy
type = ChangeAnim
trigger1 = AnimExist(5300)
trigger1 = time = 0
value = 5300

[State 820, 1]  ;getting hit
type = ChangeAnim2
trigger1 = !AnimExist(5300)
trigger1 = time = 0
value = 1508

[State 820, 1]
type = selfstate
trigger1 = time = 300
value = 0
ctrl = 1

;---------------------------[Foxy Helper]--------------
[Statedef 1520 foxy]
type = S
physics = S
movetype = I
anim = 1502
ctrl = 0
velset = 0,0

[State 1520]
type = destroyself
trigger1 = Time = 250
;---------------------------------------------------------------------------
;Angel Butterfly p1
[Statedef 1705, abp1]
type = A
movetype = A
physics = N
anim = 1705
poweradd = 0
velset = 0, 0
sprpriority = 0
ctrl = 0
;-----------------[ Super FX]-----------------

[State 1705, fx1]
type = SuperPause
trigger1 = time = 1
time = 14
movetime = 14
anim = -1


[State 30100, 1]
type = Explod
trigger1 = animelem = 1
anim = 6000
sprpriority = -1
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 30100, 1]
type = Explod
trigger1 = animelem = 1
anim = 6001
sprpriority = 3
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 1705, fx3]; Super Flash
type = null;NotHitBy
trigger1 = animelem = 1
value = SCA

[State 1705, fx5]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 14
value = 0,0,0
under = 2
;---------------------------[sound]---------------------
[State 1705, s1]; Super sound
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

[State 1705, s2]; Super sound
type = PlaySnd
trigger1 = Time = 10
value = 3000,2
;------------------------------

[State 1705, s3]
type = ChangeState
trigger1 = Time = 14
value = 1706
ctrl = 0
;--------------------------------------------------------------------------
; Angel Butterfly
[Statedef 1706 abp2]
type = A
movetype = A
physics = A
anim = 1700
poweradd = -1000
juggle = 1
ctrl = 0


[State 1706, 2]
type = VelSet
trigger1 = time >= 0
y = 0

[State 1706, 2]
type = VelSet
trigger1 = time >= 0
x = 10.3

[State 1706, 3]
type = Veladd
trigger1 = AnimElem = 1
x = 1.8
;----------------------------------------[Hit FX]
[State 1706, Explod c1]; Embers
type = Explod
trigger1 = movehit = 1 && Timemod = 6,4
anim = 2500
ID = 2500
sprpriority = 5
postype = p2
vel = 0.5,-2
scale = 0.2,0.2
pos = 0,-40
random = 80,80
bindtime = 40
under = 0
ownpal = 1
removetime = 80
persistent = 1
ignorehitpause = 1

[State 1706, Explod c2]; flames 1
type = Explod
trigger1 = movehit = 1
anim = 2500
ID = 2500
sprpriority = 5
postype = p2
vel = 0,0
scale = 1,1
pos = -8,-80
random = 0,0
bindtime = 30
under = 0
ownpal = 1
removetime = 54
persistent = 1
ignorehitpause = 1

[State 1706, Explod c3]; flames 2
type = Explod
trigger1 = movehit = 1
anim = 2501
ID = 2501
sprpriority = 5
postype = p2
vel = 0,0
scale = 1,1
pos = 0,-10
bindtime = 40
under = 0
ownpal = 1
removetime = 54
persistent = 1
ignorehitpause = 1

[State 1706, Explod c]; flames 3
type = Explod
trigger1 = movehit = 1
anim = 2500
ID = 2500
sprpriority = 5
postype = p2
vel = 0,0
scale = 1,1
pos = -10,-40
random = 0,0
bindtime = 50
under = 0
ownpal = 1
removetime = 54
persistent = 1
ignorehitpause = 1

;---------------------------[FX]
[state 1706, 3a]; Air
type = Explod
trigger1 = time = 0
anim = 36010
pos = 0,-70
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 24
supermove
pausemove
scale = 1,2
sprpriority = 5
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 0

[State 1706, 3b];Star Energy
type = Explod
trigger1 = time >= 4
anim = 13330
pos = 0,-60
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0.5
accel = 0,0
random = 50,50
removetime = 150
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1
;----------------------------[ sounds ]------------
[State 1706, PlaySnd]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3000,3
volume = 200
channel = -1
freqmul = 1.0

[State 1706, PlaySnda]
type = PlaySnd
trigger1 = movehit = 1
value = 4000,9
volume = 200

[State 1706, PlaySndb]; woosh
type = PlaySnd
trigger1 = AnimElem = 2
value = 12,0
volume = 200
channel = -1
freqmul = 1.0
;-----------------------------[Hit]---------------------------
[State 1706, 9]
type = HitDef
trigger1 = AnimElem = 3
attr = A, NA
damage = 150
animtype = Medium
getpower = 30,15
guardflag = H
hitflag = MAF
pausetime = 11,11
sparkxy = 5,-30
sparkno = S7060
guard.sparkno = 40
hitsound = S5,10
guardsound = 6,0
ground.type = High
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -10
p2stateno = 13107
p2facing = 1
air.velocity = -2,-3
fall = 0
palfx.time = 80
palfx.add = 100,-50,-200
palfx.mul = 255,255,64
palfx.sinadd = 50,10,0,10
palfx.color = 0
palfx.invertall = 1

[State 1706]
type = TargetLifeAdd
trigger1 = AnimElem = 3
value = -400

[State 1706, 7]
type = velset
trigger1 = AnimTime = 0
x = 2

[State 1706, 8]
type = ChangeState
trigger1 = time = 20
value = 116
;----------------------------------------[ Win Outro ]-----------------
[Statedef 1800]
type = S
anim = 8888

[State 1801,asp ]
type = AssertSpecial
trigger1 = 1
flag = nomusic


[State 1800,st ]
type = ChangeState
trigger1 = time = 300
value = 1801
;------------------------------------------
[Statedef 1801]
type = S
anim = 8888

[State 1801,asp ]
type = AssertSpecial
trigger1 = 1
flag = nobardisplay
flag2 = nomusic

[State 1800,sn ];Winna!
type = PlaySnd
trigger1 = time = 40
value = 49,3
volume = 255

[State 1801,ex ] ; Diana Slide
type = Explod
trigger1 = time = 20
postype = left
anim = 9500
ID = 9500
pos = 0,2
vel = 17,0
accel = -.713,0
sprpriority = 8
ontop = 0
ownpal = 1
pausemovetime = 999
removetime = 20

[State 1801,ex ]; Diana still
type = Explod
trigger1 = time = 40
postype = left
anim = 9500
ID = 9500
pos = 190,2
vel = .06,0
sprpriority = 9
ontop = 0
ownpal = 1
removetime = 999
accel = -.00007,0

[State 1801,ex 1 ]; KOF Logo
type = Explod
trigger1 = time = 40
postype = left
anim = 9508
ID = 9508
pos = -10,-10
vel = .06,0
sprpriority = 7
ontop = 0
ownpal = 1
removetime = 999
accel = -.00007,0

[State 1801, ex 1a]; Text Box
type = Explod
trigger1 = time = 40
helpertype = normal
anim = 95010
ID = 95010
pos = 159,193
sprpriority = 10
postype = left
stateno = 1802
ownpal = 1
ontop = 0
removetime = 1800


[State 1801,ex 3]  ;Text
type = Explod
trigger1 = time = 50
postype = left
anim = 9503+random%5
ID = 9503
pos = 161,197
vel = .06,0
sprpriority = 11
ontop = 1
ownpal = 1
removetime = 999
accel = -.00007,0

[State 1801,ev ]
type = EnvColor
trigger1 = time = 0
time = 3

[State 1801,asp ]
type = AssertSpecial
trigger1 = time < 720
flag = roundnotover
flag2 = noFG

[State 1800, ]
type = Pause
trigger1 = time = 0
time = 999
movetime = 999

[State 1800,pf ]; Stage Black and White
type = BGPalFX
trigger1 = time = [0,50]
time = 2
color = 256

[State 1800,pf ]; Fighters Black and white
type = BGPalFX
trigger1 = time > 50
time = 2
color = 1
;----------------------------------------
[Statedef 1802]
type = S
anim = 8888
sprpriority = 4


[State 1802,me ]
type = ModifyExplod
trigger1 = time < 10
ID = 9500
scale = 1,1

;------------------------------------------------------------------------
; Candy Trick
[Statedef 1900, trick]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 196, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro
;-------------------[sound]-------
[State 196, 3];ports
type = PlaySnd
trigger1 = Time = 152;Diana
trigger2 = Time = 608;candy
value = 12, 1

[State 196, 4];candy changeing
type = PlaySnd
trigger1 = time = 308
trigger2 = time = 343
trigger3 = time = 399
trigger4 = time = 505
value = 8,7
channel = 2

[State 196, 4a]; Diana 'hehehe'
type = PlaySnd
trigger1 = Time = 200
value = 49, 10

[State 196, 5]; Candy
type = PlaySnd
trigger1 = Time = 508
value = 50,8

[State 196, 5a];sword apear
type = PlaySnd
trigger1 = Time = 404
value = 7, 1
;---------------------------[fx]------
[State 196, Flash FX]
type = Explod
trigger1 = Time = 404
ID = 190
anim = 1509
postype = p1
pos = 45,-118
bindtime = 20
removetime = 20
sprpriority = 1
ontop = 1
ownpal = 1

[State 196, Flash FX2]
type = Explod
trigger1 = Time = 388
ID = 190
anim = 19199
postype = p1
pos = 45,-118
bindtime = 30
removetime = 30
sprpriority = 5
ontop = 0
ownpal = 1

[State 196, fx];Star Energy
type = Explod
trigger1 = Time = 423
trigger2 = Time = 424
trigger3 = Time = 425
trigger4 = Time = 426
trigger5 = Time = 427
trigger6 = Time = 428
trigger7 = Time = 429
trigger8 = Time = 430
trigger9 = Time = 431
trigger10 = Time = 432
pos = 45,-118
anim = 13330
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0.5
accel = 0,0
random = 40,40
removetime = 150
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 196, Explod];Candy
type = Explod
trigger1 = time = 1
anim = 1970
postype = p1
pos = 65,3
bindtime = 1
removetime = 619
sprpriority = 0
ontop = 0
shadow = 5,5,5
ownpal = 1

[State 196, 5c] ;Port
type = Explod
trigger1 = animelem = 2
anim = 182
ID = 190
pos = -8,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 14
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 5,5,5
ownpal = 1

[State 196, 6] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;Powerup butterflys------------------------------------------------
[Statedef 1960 charge b]
type    = S
movetype= I
physics = N
velset = 0,-3
anim = 13334
sprpriority = 5
ctrl = 0

[State 1960, Explod e] ; Star Energy
type = Explod
trigger1 = time >= 1 && Timemod = 16, 14
anim = 13330
ID = 13334
pos = 0,0
random = 5,5
removetime = 30
sprpriority = 5
bindtime = 4
ownpal = 1
accel = 0,0
ignorehitpause = 0
supermove = 1
velocity = 0,0


[State 1960, DestroySelf]
type = DestroySelf
trigger1 = time = 150

;--------------------------[ Buterfly 2  top right]------------------------------------------
[Statedef 2010 b2swarm]
type = S
movetype = A
physics = N
velset = 0.5,-0.5
anim = 4003
sprpriority = 2
juggle = 2
ctrl = 0

[State 2010,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 913
time = -1

;--------[Randomize]-------------------------------
[State 2010, ChangeState]
type = ChangeState
trigger1=Time=25&&Random<=300
value = 2012
ctrl = 0
ignorehitpause = 1

[State 2010, ChangeState]
type = ChangeState
trigger1=Time=50&&Random<=300
value = 1009
ctrl = 0
ignorehitpause = 1

[State 2010, ChangeState]
type = ChangeState
trigger1=Time=75&&Random<=300
value = 2012
ctrl = 0
ignorehitpause = 1

[State 2010, ChangeState]
type = changeState
trigger1=Time=100&&Random<=300
value = 2011
ctrl = 0
ignorehitpause = 1


[State 2010, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
;---------------------------[ Movements]
[State 2010, Turn]
type = Turn
trigger1 = P2BodyDist x < -30
ignorehitpause = 1
persistent = 1

[State 2010, VelSet lr1]
type = VelSet
triggerall = time >= 30
trigger1 = P2BodyDist x > -30
x = 6

[State 2010, VelSet lr2]
type = VelSet
triggerall = time >= 30
trigger1 = P2BodyDist x < -65
x = -6

;------------------------------------[up/down]
[State 2010, VelSet ud1]
type = VelSet
triggerall = time >= 50
trigger1 = P2BodyDist y > -60
y = 6

[State 2010, VelSet ud2]
type = VelSet
triggerall = time >= 50
trigger1 = P2BodyDist y < 60
y = -6
;------------------------------[ Hit]

[state 2010, fx1] ; FX  White
type = envcolor
trigger1 = Movehit = 1
time = 4
value = 255,255,255
under = -1

[State 2010, HitDef]
type = HitDef
trigger1 = time = 1
attr = S, NA
damage = 3
animtype = back
getpower = 0,0
guardflag = MA
hitflag = MAF
pausetime = 7,8
sparkno= s3031
guard.sparkno = 40
sparkxy = 10,-10
hitsound = s5,10
guardsound = s5,10
ground.type = low
ground.slidetime = 10
ground.hittime  = 11
ground.velocity = -4,-3
air.velocity = -1,-3
fall = 0

;----------------------------------------[FX]

[State 2010, Explod e] ; Blue Flurries
type = Explod
trigger1 = time >= 1 && Timemod = 10, 9
anim = 13330
pos = 0,0
random = 5,5
removetime = 30
sprpriority = 5
bindtime = 1
ownpal = 0
accel = 0,0
ignorehitpause = 0
supermove = 1
velocity = 0.3,0.3

[State 2010, DestroySelf]
type = DestroySelf
trigger1 = MoveContact
trigger2 = Movehit
trigger3 = time = 200

;--------------------------[ Buterfly 3/ botton right]-----------------
[Statedef 2011 b3swarm]
type = S
movetype = A
physics = N
velset = 0.5,0.5
anim = 4003
sprpriority = 2
juggle = 2
ctrl = 0

[State 2011,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 913
time = -1

;--------[Randomize]-------------------------------
[State 2011, ChangeState]
type = ChangeState
trigger1=Time=25&&Random<=300
value = 2012
ctrl = 0
ignorehitpause = 1

[State 2011, ChangeState]
type = ChangeState
trigger1=Time=50&&Random<=300
value = 2010
ctrl = 0
ignorehitpause = 1

[State 2011, ChangeState]
type = ChangeState
trigger1=Time=75&&Random<=300
value = 2012
ctrl = 0
ignorehitpause = 1

[State 2011, ChangeState]
type = ChangeState
trigger1=Time=100&&Random<=300
value = 1009
ctrl = 0
ignorehitpause = 1

[State 2011, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
;---------------------------[ Movements]
[State 2011, Turn]
type = Turn
trigger1 = P2BodyDist x < -30
ignorehitpause = 1
persistent = 1

[State 2011, VelSet lr1]
type = VelSet
triggerall = time >= 30
trigger1 = P2BodyDist x > -30
x = 6

[State 2011, VelSet lr2]
type = VelSet
triggerall = time >= 30
trigger1 = P2BodyDist x < -65
x = -6

;------------------------------------[up/down]
[State 2011, VelSet ud1]
type = VelSet
triggerall = time >= 50
trigger1 = P2BodyDist y > -60
y = 6

[State 2011, VelSet ud2]
type = VelSet
triggerall = time >= 50
trigger1 = P2BodyDist y < 60
y = -6
;------------------------------[ Hit]

[State 2011, HitDef]
type = HitDef
trigger1 = time = 1
attr = S, NA
damage = 3
animtype = medium
getpower = 0,0
guardflag = MA
hitflag = MAF
pausetime = 7,8
sparkno= s3032
guard.sparkno = 40
sparkxy = 10,-10
hitsound = s5,10
guardsound = s5,10
ground.type = low
ground.slidetime = 10
ground.hittime  = 4
ground.velocity = -4,-3
air.velocity = -1,-3
fall = 1

;----------------------------------------[FX]

[State 2011, Explod e] ; Blue Flurries
type = Explod
trigger1 = time >= 1 && Timemod = 10, 9
anim = 13330
pos = 0,0
random = 5,5
removetime = 30
sprpriority = 5
bindtime = 1
ownpal = 0
accel = 0,0
ignorehitpause = 0
supermove = 1
velocity = 0.3,0.3

[State 2011, DestroySelf]
type = DestroySelf
trigger1 = MoveContact
trigger2 = Movehit
trigger3 = time = 200

;--------------------------[ Buterfly 4 bottom left]----------------------
[Statedef 2012 b4swarm]
type = S
movetype = A
physics = N
velset = -0.5,0.5
anim = 4003
sprpriority = 2
juggle = 2
ctrl = 0

[State 2012,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 913
time = -1

[State 2012, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

;--------[Randomize]-------------------------------
[State 2012, ChangeState]
type = ChangeState
trigger1=Time=25&&Random<=300
value = 1009
ctrl = 0
ignorehitpause = 1

[State 2012, ChangeState]
type = ChangeState
trigger1=Time=50&&Random<=300
value = 2010
ctrl = 0
ignorehitpause = 1

[State 2012, ChangeState]
type = ChangeState
trigger1=Time=75&&Random<=300
value = 1009
ctrl = 0
ignorehitpause = 1

[State 2012, ChangeState]
type = ChangeState
trigger1=Time=100&&Random<=300
value = 2011
ctrl = 0
ignorehitpause = 1

;---------------------------[ Movements]
[State 2012, Turn]
type = Turn
trigger1 = P2BodyDist x < -30
ignorehitpause = 1
persistent = 1

[State 2012, VelSet lr1]
type = VelSet
triggerall = time >= 30
trigger1 = P2BodyDist x > -30
x = 6

[State 2012, VelSet lr2]
type = VelSet
triggerall = time >= 30
trigger1 = P2BodyDist x < -65
x = -6

;------------------------------------[up/down]
[State 1009, VelSet ud1]
type = VelSet
triggerall = time >= 50
trigger1 = P2BodyDist y > -60
y = 6

[State 1009, VelSet ud2]
type = VelSet
triggerall = time >= 50
trigger1 = P2BodyDist y < 60
y = -6

;------------------------------[ Hit]

[State 2012, HitDef]
type = HitDef
trigger1 = time = 1
attr = S, NA
damage = 3
animtype = light
getpower = 0,0
guardflag = MA
hitflag = MAF
pausetime = 7,8
sparkno= s3033
guard.sparkno = 40
sparkxy = 10,-10
hitsound = s5,10
guardsound = s5,10
ground.type = low
ground.slidetime = 5
ground.hittime  = 4
ground.velocity = -4,-3
air.velocity = -1,-3
fall = 0

;----------------------------------------[FX]

[state 2012, fx1] ; FX  White
type = envcolor
trigger1 = Movehit = 1
time = 4
value = 255,255,255
under = -1

[State 2012, Explod e] ; Blue Flurries
type = Explod
trigger1 = time >= 1 && Timemod = 10, 9
anim = 13330
pos = 0,0
random = 5,5
removetime = 30
sprpriority = 5
bindtime = 1
ownpal = 0
accel = 0,0
ignorehitpause = 0
supermove = 1
velocity = 0.3,0.3

[State 2012, DestroySelf]
type = DestroySelf
trigger1 = MoveContact
trigger2 = Movehit
trigger3 = time = 200

;--------------------------[ Fall Buterfly ]-----------------------------
[Statedef 2013 b5swarm]
type = S
movetype = A
physics = N
velset = 0,0
anim = 4003
sprpriority = 2
juggle = 2
ctrl = 0

[State 2013,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 913
time = -1

[State 2013, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow
;---------------------------[ Movements]
[State 2013, Turn]
type = Turn
trigger1 = P2BodyDist x < -30
ignorehitpause = 1
persistent = 1

[State 2013, VelSet lr1]
type = VelSet
trigger1 = P2BodyDist x > -30
x = 6

[State 2013, VelSet lr2]
type = VelSet
trigger1 = P2BodyDist x < -65
x = -6

;------------------------------------[up/down]
[State 2013, VelSet ud1]
type = VelSet
trigger1 = P2BodyDist y > -60
y = 6

[State 2013, VelSet ud2]
type = VelSet
trigger1 = P2BodyDist y < 60
y = -6

;------------------------------[ Hit]

[State 2013, HitDef]
type = HitDef
trigger1 = time = 1
attr = S, NA
damage = 3
animtype = hard
getpower = 0,0
guardflag = MA
hitflag = MAF
pausetime = 7,8
sparkno= s3033
guard.sparkno = 40
sparkxy = 10,-10
hitsound = s5,10
guardsound = s5,10
ground.type = low
ground.slidetime = 10
ground.hittime  = 50
ground.velocity = -4
air.velocity = -1.3,5
fall.recover = 0
fall = 1

;----------------------------------------[FX]

[State 2013, Explod e] ; Blue Flurries
type = Explod
trigger1 = time >= 1 && Timemod = 10, 9
anim = 13330
pos = 0,0
random = 5,5
removetime = 30
sprpriority = 5
bindtime = 1
ownpal = 0
accel = 0,0
ignorehitpause = 0
supermove = 1
velocity = 0.3,0.3

[State 2013, DestroySelf]
type = DestroySelf
trigger1 = MoveContact
trigger2 = Movehit

;----------------------------------------------------------------------------------------------------------------------------------------
; Candy Lazer
[Statedef 2023, cl2]
type = S
movetype = A
physics = S
anim = 20111
poweradd = 50
velset = 0
ctrl = 0

[State 2023,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 912
time = -1

[State 2023, ]
type = Nothitby
trigger1 = stateno =  2023
value = SCA,NA,SA,HA,NT,ST,HT

[State 2023, HitBy]
type = HitBy
trigger1 = stateno =  2023
value = SCA,NP,SP,HP
time = 1

;--------------------------Sound--------------

[State 2023, b];Port in
type = PlaySnd
trigger1 = Time = 1
trigger2 = animelem = 25
value = 12,1

[State 2023, b1]; Talking
type = PlaySnd
trigger1 = animelem = 6
value = 3000,8

[State 2023, c];charge
type = PlaySnd
trigger1 = animelem = 7
value = 3000,7

[State 2023, d];fire
type = PlaySnd
trigger1 = animelem = 16
value = 3000,9

;----------------------[FX]-----------------
[State 2023, Explod]; Targeted!
type = Explod
trigger1 = Time = 1
anim = 104760
ID = 20111
pos = 0,-15
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 100
removetime = 30
ontop = 1

[state 2023, charge] ; Charge ring before beam
type = explod
trigger1 = animelem = 5
anim = 20200
id = 20111
postype = p1
pos = -42,-86
sprpriority = 5
removeongethit = 0
removetime = 14
bindtime = 14
supermove = 1
ownpal = 1
ontop = 1

[state 2023, Beam] ; beam
type = explod
trigger1 = animelem = 16
anim = 20300
id = 20111
postype = p1
pos = 0,-10
sprpriority = 5
removeongethit = 0
removetime = 24
bindtime = 24
supermove = 1
ownpal = 1
ontop = 1

[State 2023, hitdef ]
type = HitDef
trigger1 = time = 1
attr = S,SP
hitflag = MAFD
guardflag = MA
animtype = Hard
priority = 5,Hit
offset = 0,-180
damage = 100
pausetime = 2,2
guard.pausetime = 4,3
sparkno = 0
guard.sparkno = 40
sparkxy = 10,-70
hitsound = s3000,5
guardsound = 3000,5
ground.type = High
air.type = Trip
ground.slidetime = 0
ground.hittime = 30
ground.velocity = -0
guard.velocity = -0
air.velocity = -0,0
air.fall = 1
fall = 1
palfx.time = 80
palfx.add = 100,-50,-200
palfx.mul = 255,255,64
palfx.sinadd = 50,10,0,10
palfx.color = 0
palfx.invertall = 1

[State 2023, ]
type = DestroySelf
trigger1 = animtime = 0
;--------------------------------------------------------------------------- --------------------------
; Dash Slash
[Statedef 2026, dash slash]
type    = C
movetype= A
physics = C
juggle = 15
ctrl = 0
anim = 2210

[State 2026,CtrlSet]
type = CtrlSet
trigger1 = animelem = 14
value = 1

[State 2026, 0]
type = VelSet
trigger1 = animelem >= 4, =1
x = 35
;---------------------[Sounds]----------

[State 2026, s1]; "Baka"
type = PlaySnd
trigger1 = movehit = 1
value = 12,2

[State 2026, s2]; Whoosh movment
type = PlaySnd
trigger1 = animelem = 4
value = 8,6


[State 2026, s3];Sword swish
type = PlaySnd
trigger1 = AnimElem = 1
value = 5,2

[State 2026, s4];Shimmer sound
type = PlaySnd
trigger1 = AnimElem = 2
value = 50,10

;---------------[FX]----------------

[State 2026, Explod f];fx
type = Explod
trigger1 = animelem = 6
ID = 2210
anim = 2211
postype = p1
scale = 1,1
pos = 0,0
bindtime = 23
removetime = 23
sprpriority = 2
ontop = 1

[State 2026, Explod f1];Shimmer
type = Explod
trigger1 = animelem = 6
ID = 2210
anim = 1006
postype = p1
scale = 1.1,1.1
pos = 53,10
bindtime = -1
removetime = 20
sprpriority = 2
ontop = 1

[State 2026, Butterfly] ; Butterflies up
type = Explod
trigger1 = time >= 4 && Timemod = 3, 2
anim = 13334
pos = 10,-20
random = 100,70
sprpriority = 10
ownpal = 1
accel = 0,-0.1
bindtime = 1
ignorehitpause = 1
supermove = 1
velocity = 0,-1

;-------------------[ hit def]---------------

[State 2026]
type = HitDef
trigger1 = Time > 0 && !MoveContact && var(11) = 0
attr = C, NA
damage    = 80
getpower  = 100,80
givepower = 0
animtype  = heavy
hitflag = MA
guardflag = H
pausetime = 12,12
sparkxy = -40,-80
sparkno = S360102
guard.sparkno = 40
hitsound = S400,3
guardsound = s9,0
ground.type = Trip
ground.slidetime = 17
ground.hittime  = 18
guard.velocity = -9
ground.velocity = -3,-4.5
air.hittime = 9999
airguard.ctrltime = 9999
air.velocity = -4,-3.5
fall = 1
fall.recover = 0

[State 2026, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;--------------------------[ Energy Net Buterfly]------------------------------------------
[Statedef 2110 enetb]
type = S
movetype = A
physics = N
velset = 2,0
anim = 22760
sprpriority = 2
juggle = 2
ctrl = 0

[State 2110,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 913
time = -1

[State 1009, VelSet ud1]
type = VelSet
triggerall = time >= 1
trigger1 = P2BodyDist y > -90
y = 3

[State 1009, VelSet ud2]
type = VelSet
triggerall = time >= 1
trigger1 = P2BodyDist y < 90
y = -3

[State 2110, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoShadow

;-----------------------------[ Sound]

[State 1010, 1]
type = PlaySnd
trigger1 = Time = 1
value = 3, 5

;------------------------------[ Hit]

[State 2110, HitDef]
type = HitDef
trigger1 = time = 1
attr = S, NA
damage = 25
animtype = hard
getpower = 0,0
guardflag = MA
hitflag = MAF
pausetime = 7,8
sparkno= s29946
sparkxy = 0,0
guard.sparkno = 40
hitsound = s2,2
guardsound = S2,3
ground.type = low
ground.hittime = 10
ground.velocity = -0
air.velocity = -0
p2stateno = 2120
fall = 0
palfx.color = 100
palfx.time = 100
palfx.add = 30,30,30
palfx.mul = 170,170,170
palfx.sinadd = 44,44,44,4
palfx.invertall = 1
palfx.color = 0
fall.envshake.time = 16
fall.envshake.freq = 45
;----------------------------------------[FX]
[State 2110, netf]
type = Explod
trigger1 = movehit = 1
anim = 2274
ID = 1001
pos = 0,-60
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 100
vel = 0,0
accel = 0,0
random = 0,0
removetime = 100
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
persistent = 1

[State 2110, netpop]
type = Explod
trigger1 = movehit = 1
anim = 2275
ID = 1001
pos = 0,-60
postype = p2  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 110
vel = 0,0
accel = 0,0
random = 0,0
removetime = 122
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 0,0,0
ownpal = 0
removeongethit = 0
persistent = 1

[State 2110, Explod e] ; Pink Flurries
type = Explod
trigger1 = time >= 1 && Timemod = 8, 4
anim = 2277
pos = 0,0
random = 20,20
removetime = 70
scale = 0.5,0.5
sprpriority = 5
bindtime = 1
ownpal = 0
accel = 0,0
ignorehitpause = 0
supermove = 1
velocity = 0.4,0.4

[State 2110, DestroySelf]
type = DestroySelf
trigger1 = MoveContact
trigger2 = Movehit
trigger3 = time = 300

;------------------------ [p2stat]---------------------------
[Statedef 2120,enet hit]
type    = A
movetype= H
physics = N
velset = 0,0

[State 2120, 0]
type = ChangeAnim
trigger1 = Time > 0
value = anim

[State 2120, 1]
type = ChangeAnim
trigger1 = Time = 0 && GetHitVar(animtype) != [3,5]
value = ifelse((GetHitVar(groundtype) = 1),5000,5010) + GetHitVar(animtype)

[State 2120, 2]
type = ChangeAnim
trigger1 = Time = 0 && GetHitVar(animtype) = [3,5]
value = 5030

[State 2120, 3]
type = ChangeAnim
trigger1 = Time = 0 && (GetHitVar(animtype) = [4,5]) && (SelfAnimExist(5047 + GetHitVar(animtype)))
value = 5047 + GetHitVar(animtype)

[State 2120, 4]
type = StateTypeSet
trigger1 = Time = 0
trigger1 = GetHitVar(yvel) != 0 && GetHitVar(fall)
trigger2 = Pos Y != 0
type = a

[State 2120, 5]
type = selfstate
trigger1 = time = 120
value = 5050

;-------------------------------[Nyla rundown start]---------------
[Statedef 9941 nr 1]
type = S
movetype = I
physics = S
anim = 2020
ctrl = 1

[State 9941, 1]
type = PowerAdd
trigger1 = AnimElem = 1
value = -1000

[State 9941, 2]
type = PlaySnd
trigger1 = AnimElem = 1
value = 1,1

[State 9941, 2a]
type = Helper
trigger1 = time = 0
ID = 9941
pos = -50,0
postype = back
stateno = 9937
helpertype = normal
name = "Nyla"
keyctrl = 0
ownpal = 1

[State 9941, 3]
type = ChangeState
trigger1 = Time = 50
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;part-3   Nyla "rundown"
[Statedef 9937 nr 2]
type = A
movetype = A
physics = N
velset = 7,0,0
anim = 7222
ctrl = 0
juggle = 1

[State 9937, 1]
type = sprpriority
trigger1 = Time = 0
value = 10

[State 9937, 2]
type = HitDef
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
trigger3 = AnimElem = 14
trigger4 = AnimElem = 18
trigger5 = AnimElem = 21
attr = S, SP
damage = 45,55			;120,100
animtype = high
givepower = 25
guardflag = HL
priority = 5
pausetime = 8,8
sparkno = 1
guard.sparkno = 40
sparkxy = -10,-51
hitsound = S5,4
guardsound = S6,1
ground.type = Low
ground.slidetime = 9
ground.hittime = 30
ground.velocity = -1.5
air.velocity = -2,-4
fall = 1

[State 9837, 2]
type = HitDef
trigger1 = AnimElem = 1
trigger2 = AnimElem = 3
trigger3 = AnimElem = 5
trigger4 = AnimElem = 6
trigger5 = AnimElem = 8
attr = S, SP
damage = 45,55			;120,100
animtype = medium
givepower = 25
guardflag = HL
priority = 5
pausetime = 8,8
sparkno = s998
guard.sparkno = 40
sparkxy = -10,-51
hitsound = S5,4
guardsound = S6,1
ground.type = Low
ground.slidetime = 9
ground.hittime = 30
ground.velocity = -1.5
air.velocity = -2,-4
fall = 1

[State 9937, 1]
type = PlaySnd
trigger1 = Time = 0
value = 50, 1

[State 9937, 1]
type = PlaySnd
trigger1 = Time = 20
value = 50, 2

[State 9937, PlaySnda]
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 10
trigger3 = AnimElem = 14
trigger4 = AnimElem = 18
trigger5 = AnimElem = 21
value = 50, 4

[State 9937, PlaySndb]
type = PlaySnd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 25
value = 50, 3

[State 9937, 3]
type = DestroySelf
trigger1 = Time = 200

;-------------------------------[Rocky Shockwave start]-------------------
[Statedef 2999 calling rocky]
type = S
movetype = I
physics = S
anim = 2020
ctrl = 1

[State 2999,CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

[State 2999, 1]
type = PowerAdd
trigger1 = AnimElem = 1
value = -1000

[State 2999, 2a]
type = Helper
triggerall = !numhelper(9941)
trigger1 = time = 0
ID = 9941
pos = 100,0
postype = back
stateno = 3000
helpertype = normal
name = "Rocky"
keyctrl = 0
ownpal = 1

[State 2999, 3]
type = ChangeState
trigger1 = Time = 50
value = 0
ctrl = 1

;---------------------------------[Rocky Shockwave]---------------------
[Statedef 3000 rocky]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3030
sprpriority = 1
ctrl = 0

[State 3000,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 918
time = -1

[State 3000, Turn]
type = Turn
trigger1 = P2BodyDist x < -50
ignorehitpause = 1
persistent = 1

;-----------------------------[ Explods]-------------
[State 3000, Explod];Dust
type = Explod
trigger1 = AnimElem = 4, = 0
anim = 6007
sprpriority = 2
postype = p1
pos = 10,5
bindtime = 1
ownpal = 1
id = 6007
name = "Dust"
pausemovetime = 999999
supermovetime = 999999


;-----------------------------[ Sound]-------------
[State 3000, PlaySnd]; Ports
type = PlaySnd
trigger1 = AnimElem = 1
trigger2 = AnimElem = 25
value = 12,1

[State 3000, PlaySnd a]; Rocky Grunt
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000,49

;----------------------------[ Helpers]----------

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 3010
postype = p1
pos = 15,-3
bindtime = -1
ownpal = 1
name = "Shock Wave"
id = 3010

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 3010
postype = p1
pos = 80,-3
bindtime = -1
ownpal = 1
name = "Shock Wave"
id = 3011

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 3010
postype = p1
pos = 145,-3
bindtime = -1
ownpal = 1
name = "Shock Wave"
id = 3012

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 3010
postype = p1
pos = 210,-3
bindtime = -1
ownpal = 1
name = "Shock Wave"
id = 3013

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 3010
postype = p1
pos = 275,-3
bindtime = -1
ownpal = 1
name = "Shock Wave"
id = 3014

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 3010
postype = p1
pos = 340,-3
bindtime = -1
ownpal = 1
name = "Shock Wave"
id = 3015

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 3010
postype = p1
pos = 405,-3
bindtime = -1
ownpal = 1
name = "Shock Wave"
id = 3016

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 3010
postype = p1
pos = 480,-3
bindtime = -1
ownpal = 1
name = "Shock Wave"
id = 3017

[State 3000, Helper]
type = Helper
trigger1 = AnimElem = 9, = 0
stateno = 3010
postype = p1
pos = 545,-3
bindtime = -1
ownpal = 1
name = "Shock Wave"
id = 3018

[State 3000,DestroySelf]
type = DestroySelf
trigger1 = AnimTime = 0

;---------------------------------------------------------------
;---------------------------------------------------------------------------
; Rocky Boom
[Statedef 3010]
type = S
movetype = A
physics = N
anim = 163
sprpriority = 2
ctrl = 0

[State 3010, AfterImage]
type = AfterImage
trigger1 = !Time
time = 144 ;36
length = 12
timegap = 3
framegap = 1
trans = add
palcontrast = 120,120,120
paladd = 0,0,0
palmul = .65,.65,.65

[State 3010, Explod]
type = Explod
trigger1 = IsHelper(3010) && !Time
trigger2 = IsHelper(3011) && Time = 10
trigger3 = IsHelper(3012) && Time = 20
trigger4 = IsHelper(3013) && Time = 34
trigger5 = IsHelper(3014) && Time = 43
trigger6 = IsHelper(3015) && Time = 54
trigger7 = IsHelper(3016) && Time = 70
trigger8 = IsHelper(3017) && Time = 79
trigger9 = IsHelper(3018) && Time = 91
anim = 10995
sprpriority = -1
postype = p1
pos = 0,0
bindtime = 1
ownpal = 1
id = 10995
name = "Dust"
pausemovetime = 999999
supermovetime = 999999

[State 3010, ChangeAnim]
type = ChangeAnim
trigger1 = IsHelper(3010) && !Time
trigger2 = IsHelper(3011) && Time = 10
trigger3 = IsHelper(3012) && Time = 20
trigger4 = IsHelper(3013) && Time = 34
trigger5 = IsHelper(3014) && Time = 43
trigger6 = IsHelper(3015) && Time = 54
trigger7 = IsHelper(3016) && Time = 70
trigger8 = IsHelper(3017) && Time = 79
trigger9 = IsHelper(3018) && Time = 91
value = 3010

[State 3000, PlaySnd]
type = PlaySnd
trigger1 = IsHelper(3010) && Time = 1
trigger2 = IsHelper(3011) && Time = 11
trigger3 = IsHelper(3012) && Time = 21
trigger4 = IsHelper(3013) && Time = 35
trigger5 = IsHelper(3014) && Time = 44
trigger6 = IsHelper(3015) && Time = 55
trigger7 = IsHelper(3016) && Time = 71
trigger8 = IsHelper(3017) && Time = 80
trigger9 = IsHelper(3018) && Time = 92
value = 3000,5

[State 3010, EnvShake]
type = EnvShake
trigger1 = Anim = 3010 && AnimElem = 1, = 0
time = 10
ampl = -7

[State 3010, HitDef]
type = HitDef
trigger1 = p2statetype != L
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 60
getpower = 0
sprpriority = 2
hitflag = MAFP
guardflag = MA
pausetime = 0,7
sparkno = 2
guard.sparkno = 40
sparkxy = 0,-70
hitsound = S3000,6
guardsound = S5,8
ground.type = Low
ground.velocity = -12,-4
guard.slidetime = 13
guard.hittime = 13
guard.velocity = -12
air.velocity = -12,0
airguard.velocity = -12
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
airguard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
fall.envshake.time = 10
fall.envshake.ampl = -6
p2stateno = 23010

[State 3010, HitDef]
type = HitDef
trigger1 = p2statetype = L
trigger1 = (facing != enemyNear, facing)
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 60
getpower = 0
sprpriority = 2
hitflag = FDP
guardflag = MA
pausetime = 0,7
sparkno = 2
guard.sparkno = 40
sparkxy = 0,-10
hitsound = S3000,6
guardsound = S5,8
ground.type = Low
down.velocity = -12,-4
down.cornerpush.veloff = 0
fall = 1
fall.recover = 0
fall.envshake.time = 10
fall.envshake.ampl = -6
p2stateno = 23010 ;15080

[State 3010, HitDef]
type = HitDef
trigger1 = p2statetype = L
trigger1 = (facing = enemyNear, facing)
trigger1 = !MoveContact
attr = S, HP
animtype = Hard
damage = 60
getpower = 0
sprpriority = 2
hitflag = FDP
guardflag = MA
pausetime = 0,7
sparkno = 2
guard.sparkno = 40
sparkxy = 0,-10
hitsound = S3000,6
guardsound = S5,8
ground.type = Low
down.velocity = 12,-4
down.cornerpush.veloff = 0
fall = 1
fall.recover = 0
fall.envshake.time = 10
fall.envshake.ampl = -6
p2stateno = 23010 ;15080


[State 3010, BGPalFX]
type = BGPalFX
trigger1 = MoveHit
time = 1
add = 255,255,255
persistent = 0

[State 3010, DestroySelf]
type = DestroySelf
trigger1 = Anim = 3010 && !AnimTime
;-----------------------[ Player two state while in Desolation]-------------
[Statedef 3040, p5hit]
type = S
movetype = H
physics = S
velset = 0, 0
ctrl = 0

[State 3040,ChangeAnim2]
type = ChangeAnim2
trigger1 = Time = 0
value = 3040

;---------------[life]----------------------

[State 3040, la1]
type = LifeAdd
trigger1 = animelem = 1
trigger2 = animelem = 2
trigger3 = animelem = 3
trigger4 = animelem = 4
trigger5 = animelem = 5
value = -20
kill = 0

[State 3040, la2]
type = LifeAdd
trigger1 = animelem = 8
value = -30
kill = 1

;-----------------[movement]---------------

[State 3040, VelAdd]
type = VelAdd
trigger1 = animelem = 1
x = 0
y = -0.3

[State 3040, EnvShake]
type = EnvShake
trigger1 = animelem = 8
time = 10
freq = 60
ampl = -4

;-------------------------------------------
[State 3040,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3040,AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 3040,ChangeState]
type = ChangeState
trigger1 = Time = 110
value = 5050


;--------KOF2000 backward---------------------------------------------
[Statedef 3600, dodge b]
type = S
movetype = A
physics = S
anim = 4100
juggle = 1
poweradd = 500
velset = 0,0
ctrl = 0

[State 3600, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S11,2

[State 3600, push]
type = PlayerPush
trigger1 = 1
value = 0

[State 3600, hit]
type = HitBy
trigger1 = 1
value =  , AT

[State 3600, hit]
type = NotHitBy
trigger1 = 1
value = , AA, AP

[State 3600, 1]
type = velset
trigger1 = Time = [8,24]
x = -5

[State 3600, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
; Intro into Swarm move
[statedef 4000 swarm]
type    = s
movetype= i
physics = n
poweradd= -2000
ctrl = 0
velset = -0.3,-0.4
anim = 4000
juggle = 30
;-----------------------------[Super Flash]
[state 4000, sf];
type = null;NotHitBy
trigger1 = animelem = 1,<=0
value = SCA

[State 4000, sp]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 4000, sp2]
type = SuperPause
trigger1 = time = 0
movetime = 25
pos = 30, -70
anim = 1001
darken = 1
unhittable = 1
movetime = 0
;-----------------------------[FX]
[State 30100, 1]
type = Explod
trigger1 = animelem = 1
anim = 6010
sprpriority = -1
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 30100, 1]
type = Explod
trigger1 = animelem = 1
anim = 6011
sprpriority = 3
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 4000 ev1]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

[State 4000 ev2]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29;29
value = 0,0,0
under = 2
;--------------------[Sounds]
[State 4000, s1] ; Diana
type = PlaySnd
trigger1 = Time = 10
value = 1,3

[State 4000, s2]; FX
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

[State 4000, s3]; FX
type = PlaySnd
trigger1 = Time = 20
value = 3000,2
;------------------------
[state 4000, s4]
type = assertspecial
trigger1 = time = [0,40]
flag = nofg

[state 4000 end]
type = changestate
trigger1 = time = 50
value = 4001
ctrl = 0

;---------------------------------------------------------------------------
; Calling Butterflys
[statedef 4001 2swarm]
type    = a
movetype= a
physics = n
poweradd= 0
ctrl = 0
velset = 0,0
anim = 4001
juggle = 7

[State 4001, VelSet]
type = VelSet
trigger1 = time = 1
x = 0
y = 0

[State 4001, Explod];Energy back
type = Explod
trigger1 = time = 20
anim = 7221
sprpriority = 0
postype = p1
pos = -10,0
removeongethit = 1
Bindtime = 200
under = 0
removetime = 200
ownpal = 1
persistent = 1
scale = 2,1
ignorehitpause = 0

[state 4001 s1]
type = playsnd
trigger1 = time >= 20 && Timemod = 5, 3
value = 124,1

[State 4001, Helper]; top left
type = Helper
trigger1 = time >= 10 && Timemod = 8, 6
helpertype = normal ;player
name = "Flitter Bomb"
ID = 4001
stateno = 1009
pos = -41,-105
postype = p1    ;p2,front,back,left,right
ownpal = 0

[State 4001, Helper]; top right
type = Helper
trigger1 = time >= 15 && Timemod = 8, 6
helpertype = normal ;player
name = "Flitter Bomb"
ID = 4001
stateno = 2010
pos = 37,-105
postype = p1    ;p2,front,back,left,right
ownpal = 0

[State 4001, Helper]; botton right
type = Helper
trigger1 = time >= 20 && Timemod = 8, 6
helpertype = normal ;player
name = "Flitter Bomb"
ID = 4001
stateno = 2011
pos = 37,-34
postype = p1    ;p2,front,back,left,right
ownpal = 0

[State 4001, Helper]; botton left
type = Helper
trigger1 = time >= 25 && Timemod = 8, 6
helpertype = normal ;player
name = "swarm"
ID = 4001
stateno = 2012
pos = -41,-42
postype = p1    ;p2,front,back,left,right
ownpal = 0

[State 4001, Helper]; Fall Butterfly
type = Helper
trigger1 = time = 220
helpertype = normal ;player
name = "swarm"
ID = 4001
stateno = 2013
pos = -41,-42
postype = p1    ;p2,front,back,left,right
ownpal = 0

[state 4001 end]
type = changestate
trigger1 = time = 220
value = 50
ctrl = 0

;=====================================================================
; Striker Kula
;=====================================================================
;----------------------------------------------------------------------------
; Calling Kula
[Statedef 7025, calling kula]
type = S
ctrl = 0
anim = 899
velset = 0,0
poweradd = 100
movetype = I
physics = S
sprpriority = 2

[State 7025,CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1

[state 7025, s1]
type = playsnd
trigger1 = animelem = 3
value = 1,1

[State 7025, helper]
type = helper
triggerall = !numhelper(7025)
trigger1 = animelem = 4
id = 7025
pos = 0,0
postype = back
stateno = 7000
helpertype = normal
ownpal = 1
keyctrl = 0

[State 7025]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------------------------------------------------
; Kula Skateing in
[Statedef 7000, ks1]
type = S
movetype = I
physics = N
anim = 2400;---------Kula Skateing in
velset = 7.0, 0
ctrl = 0
;-----------------------------------[Sound]
[State 7000,PlaySnd];Skateing
type = PlaySnd
trigger1 = Time = 0
value = 2400, 6
loop = 1
channel = 10
;----------------------------[Movement]

[State 7000,PlayerPush]
type = Null;PlayerPush
trigger1 = 1
value = 1

[State 7000,HitBy]
type = HitBy
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP

[State 7000,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 914
time = -1

[State 7000,ChangeState]
type = ChangeState
trigger1 = Time > 3 && P2BodyDist X < 60
value = 7010

;-------------------------------[Kula Slide to P2]--------------------------------------

[Statedef 7010, ks2]
type = S
movetype = A
physics = N
anim = 2405;-----------Kula Slide
velset = 4.0, 0

;-------------------------[Sounds]
[State 7010, s1]; Slide
type = PlaySnd
trigger1 = Time = 0
value = 2400,5

[State 7010, s2];"Aye"
type = PlaySnd
trigger1 = AnimElem = 2
value = 2400, 4

[State 7010,StopSnd]
type = StopSnd
trigger1 = Time = 0
channel = 10
;------------------------------------------------------------------
[State 7010,PlayerPush]
type = PlayerPush
trigger1 = 1
value = 1

[State 7010,HitBy]
type = HitBy
trigger1 = 1
value = SCA, NA, SA, HA, NP, SP, HP

[State 7010,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 914
time = -1

[State 7010,HitDef]
type = HitDef
trigger1 = Time = 0
attr = C, SP
animtype = Hard
damage    = 14
getpower = 0
givepower = 45
guardflag = M
hitflag = MAFD
pausetime = 4,8
guard.pausetime = 6, 6
hitsound   = S5,6
guardsound = S6,0
sparkno = S2308
guard.sparkno = S2308
sparkxy = -10,-3
ground.type = Low
ground.slidetime = 10
ground.hittime  = 18
ground.velocity = 0
guard.velocity = -5.0
air.velocity = -1.0,-4.0

[State 7010,ChangeState];If move hits
type = ChangeState
trigger1 = MoveHit
value = 7020

[State 7010,ChangeState];If Move Misses
type = ChangeState
trigger1 = Movehit = 0 && AnimTime = 0
value = 7015

;------------------------[Getting up from slide]-----------------
[Statedef 7015, getup]
type = S
movetype = I
physics = S
anim = 2410
velset = 0, 0

[State 7015, Turn]
type = Turn
trigger1 = P2BodyDist x < 0
ignorehitpause = 1
persistent = 1

[State 7015,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 914
time = -1

[State 7015,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 7020
;-------------------------[Ice Block]-------------------------------
[Statedef 7020, ice block]
type = S
movetype = A
physics = S
anim = 2415; 2300
poweradd = 0
juggle = 10
velset = 0
ctrl = 0

[State 7020,HitOverRide]
type = HitOverRide
trigger1 = Time = 0
slot = 0
attr = SCA, NA, SA, HA, NP, SP, HP
stateno = 914
time = -1
;-----------------------------[Sound]

[State 7020, s2]; "Udy Udy"
type = PlaySnd
trigger1 = AnimElem = 1
value = 2400,9

[State 7020, s3]; "Humf"
type = PlaySnd
trigger1 = AnimElem = 10
value = 2400,10

[State 7020, s4];Ice blast
type = PlaySnd
trigger1 = AnimElem = 12
value = 2400,7

[State 7020, s5];Freezeing
type = playsnd
trigger1 = animelem = 2
value = 2400,8

;-----------------------------------[FX]

[State 7020, fx1]
type = Explod
trigger1 = AnimElem = 1
anim = 2308
ID = 2415
postype = p1
pos = 0,-120
bindtime = -1
sprpriority = 2
supermovetime = 30
ownpal = 1
removeongethit = 1

[State 7020, fx2]
type = Explod
trigger1 = AnimElem = 1
anim = 2308
ID = 2415
postype = p1
pos = 0,-120
bindtime = -1
sprpriority = -2
supermovetime = 30
ownpal = 1
removeongethit = 1

[State 7020, fx3]
type = Explod
trigger1 = projhit3000 = 1
anim = 2308
ID = 2415
postype = p2
pos = 0,-50
bindtime = 1
sprpriority = 2
ownpal = 1

[State 7020,fx4]
type = Explod
trigger1 = ProjGuarded3000 = 1
anim = 2308
ID = 2415
postype = p2
pos = 0,-50
bindtime = 1
sprpriority = 2
ownpal = 1

;--------------------------------[Pro]

[State 7020, shake]
type = EnvShake
trigger1 = animelem = 13
time = 10
ampl = 4
freq = 60

[State 7020, pr0]
type = Projectile
trigger1 = AnimElem = 3
projanim = 2305;--- form
projhitanim = 2305;--- shake and explode
projID = 2415
velocity = 0
projremovetime = 26
projpriority = 5
postype = p1
offset = 32,-17
attr = S, HP
damage = 50,10
animtype = up
hitflag = MAFP
guardflag = M
sparkno = -1
guard.sparkno = -1
sparkxy = 60,-50
hitsound = S2400,79
guardsound = S2400,79
pausetime = 0,3
ground.hittime = 19
ground.type = low
ground.slidetime = 19
ground.velocity = -5,-9
air.velocity = -5,-9
fall = 1
fall.recover = 0
yaccel = .5
getpower = 0
palfx.time = 57
palfx.add = 30,30,60
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1
air.juggle = 6

[State 7020, pro1]
type = Projectile
trigger1 = AnimElem = 10
projanim = 2306;------------------projectile
projhitanim = 2307;-----starts whole
projID = 2415
velocity = 9
;projremovetime = 26
projpriority = 5
postype = p1
offset = 32,-17
attr = S, HP
damage = 150,10
animtype = up
hitflag = MAFP
guardflag = M
sparkno = 3
guard.sparkno = 40
sparkxy = 60,-50
hitsound = S2400,79
guardsound = S2400,79
pausetime = 0,13
ground.hittime = 19
ground.type = low
ground.slidetime = 19
ground.velocity = -3,-7
air.velocity = -3,-7
fall = 1
fall.recover = 0
yaccel = .5
getpower = 0
palfx.time = 57
palfx.add = 30,30,60
palfx.sinadd = 40,30,0,10
palfx.color = 0
palfx.invertall = 1
air.juggle = 4

[State 7020, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 7030
ctrl = 1

;------------------------------[Standing Yawn]-------------------------------------
[Statedef 7030,yawn]
type = S
movetype = I
physics = S
anim = 2420
velset = 0, 0

[State 7030,PlaySnd];Yawn
type = PlaySnd
trigger1 = AnimElem = 1
value = 2400, 3

[State 7030,ChangeState]
type = ChangeState
trigger1 = AnimTime = 0
value = 7035

;-------------------------------[Leaveing]--------------------------------------
[Statedef 7035,leaving]
type = S
movetype = I
physics = N
anim = 2400
velset = -7.0, 0.6

[State 7035, Turn]
type = Turn
trigger1 = Time = 0
ignorehitpause = 1

;----------------------------------------[Sound]
[State 7035,PlaySnd] ;Skateing
type = PlaySnd
trigger1 = Time = 0
value = 2400,6
channel = 10
loop = 1

[State 7035,PlaySnd];"Good Girl"
type = PlaySnd
trigger1= AnimElem = 2&&Random<=300
value = 3000,25

[State 7035,StopSnd]
type = StopSnd
trigger1 = FrontEdgeDist < -50
channel = 10
;---------------------------------------
[State 7035,NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA

[State 7035,DestroySelf]
type = DestroySelf
trigger1 = FrontEdgeDist < -50

;---------------------------------------------------------------------------
; Flying
[Statedef 8000 flying]
type    = A
physics = A
anim = 160
ctrl = 0

[State 8000, 1]
type = VarSet
trigger1 = Time = 0
var(7) = floor(P2Dist y)

;--------------------[Sound]--------------------------
[State 8000, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3,5
;-------------------[FX]------------------------------
[State 8000, Helper, 1]
type = Helper
trigger1 = time = 5
helpertype = normal ;player
name = "Butterfly charge"
ID = 160
stateno = 1960
pos = -10,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0

[State 8000, Helper, 2]
type = Helper
trigger1 = time = 10
helpertype = normal ;player
name = "Butterfly charge"
ID = 160
stateno = 1960
pos = 30,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0

[State 8000, Helper, 3]
type = Helper
trigger1 = time = 15
helpertype = normal ;player
name = "Butterfly charge"
ID = 160
stateno = 1960
pos = -7,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0

[State 8000, Helper, 4]
type = Helper
trigger1 = time = 20
helpertype = normal ;player
name = "Butterfly charge"
ID = 160
stateno = 1960
pos = 25,0
postype = p1    ;p2,front,back,left,right
facing = 1
keyctrl = 0
ownpal = 0
;-----------------------------------------------------
[State 8000, Flying timer starter]
type = Helper
trigger1 = Time = 0
ID = 8000
name = "Flying Timer"
pos = 0,0
postype = p1
stateno = 8010
helpertype = normal
ownpal = 1
ignorehitpause = 1

[state 8000, and away]
type = velset
trigger1 = numhelper(8000) = 1
trigger1 = pos y > var(7) - 240
y = -0.5
x = 0

[state 8000, and away]
type = posset
trigger1 = numhelper(8000) = 1
trigger1 = pos y >= var(7) - 250
trigger1 = pos y <= var(7) - 240
y = var(7) - 250

[state 8000, and away]
type = velset
trigger1 = numhelper(8000) = 1
trigger1 = pos y < var(7) - 250
y = 10
x = 0

[state 8010, destroyself]
type = changestate
trigger1 = animtime = 0
value = 8001
ctrl = 1

;---------------------------------------------------------------------------
; Flying continue
[Statedef 8001]
type    = A
physics = A
anim = 1710
ctrl = 1

[State 8001, 1]
type = VarSet
trigger1 = 1
var(7) = floor(P2Dist y)

[State 8001, 1]
type = VarSet
trigger1 = 1
var(9) = floor(P2Dist y)

[state 8001, and away]
type = velset
trigger1 = pos y < var(7) - 250
trigger1 = command != "holdup"
y = 5
x = 0

[state 8001, and away]
type = velset
trigger1 = pos y <= var(7) - 295
trigger1 = command = "holdup"
y = 0
x = 0

;--------------------------[Hovering & Derection change]
[state 8001, and away]
type = posset
trigger1 = command = "holdup"
trigger1 = pos y < var(7) - 300
y = var(7) - 300

[State 8001, 6]
type = Turn
;trigger1 = Time = 10
trigger1 = p2dist X < -5

[state 8001, and away]
type = velset
trigger1 = command != "holdfwd" || command != "holdfwdup" || command != "holdfwddown" || command != "holddown"
trigger1 = command != "holdback" || command != "holdbackup" || command != "holdbackdown" || command != "holdup"
trigger1 = pos y > var(7) - 250
y = 0
x = 0

[state 8001, and away]
type = velset
trigger1 = pos y >= var(7) - 295
trigger1 = command = "holdup"
y = -4
x = 0

[state 8001, and away]
type = velset
trigger1 = command = "holdfwd"
y = 0
x = 4

[state 8001, and away]
type = velset
triggerall = pos Y < -20
trigger1 = command = "holddown"
y = 4
x = 0

[state 8001, and away]
type = velset
trigger1 = command = "holdback"
y = 0
x = -4

[state 8001, and away]
type = velset
trigger1 = pos y >= var(7) - 295
trigger1 = command = "holdfwdup"
y = -4
x = 4

[state 8001, and away]
type = velset
triggerall = pos Y < -20
trigger1 = command = "holdfwddown"
y = 4
x = 4

[state 8001, and away]
type = velset
triggerall = pos Y < -20
trigger1 = command = "holdbackdown"
y = 4
x = -4

[state 8001, and away]
type = velset
trigger1 = pos y >= var(7) - 295
trigger1 = command = "holdbackup"
y = -4
x = -4

[state 8001, destroyself]
type = changestate
trigger1 = numhelper(8000) = 0
value = 8002
ctrl = 1

;---------------------------------------------------------------------------
; Falling after flying
[Statedef 8002]
type    = A
physics = A
ctrl = 0

[state 8002,1]
type = velset
trigger1 = 1
x = 0

[state 8002,2]
type = ctrlset
trigger1 = time > 0
value = 1

[state 8002,3]
type = changeanim
trigger1 = time = 0
value = 41

;---------------------------------------------------------------------------
; Flying timer
[Statedef 8010,timer]
type    = S
physics = S
anim = 163

[state 8010, destroyself]
type = destroyself
triggerall = time > 10
trigger1 = Parent, Command = "QCB_KK"
trigger2 = animtime = 0
trigger3 = Parent, stateno = [5000,6000]
trigger4 = Parent, stateno = [0,115]
trigger5 = Parent, stateno = 635 || Parent, stateno = 645
trigger6 = win = 1 || lose =  1|| drawgame = 1
;---------------------------------------------------------------------------
;Throw Attempt
[Statedef 8211, port slam attempt]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 8210
sprpriority = 2

[State 8211, 1]
type = HitDef
Trigger1 = time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 2, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
p1facing = 1
p2facing = 1          ;Force p2 to face KFM
p1stateno = 1105       ;On success, KFM changes to state 810
p2stateno = 13000       ;If hit, p2 changes to state 820 in KFM's cns
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down
snap = -50, -10

[State 8211, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------
; Candy Lazer call
[Statedef 8910, cl]
type = S
ctrl = 0
anim = 8999; ----Diana
velset = 0,0
movetype = I
physics = S
sprpriority = 2


[State 8910,CtrlSet]
type = CtrlSet
trigger1 = animelem = 4
value = 1
;------------------------------[Sound]
[state 8910]
type = playsnd
trigger1 = animelem = 1
value = 1,1
;---------------------------------
[State 8910]; Candy
type = helper
trigger1 = animelem = 4
ID = 2023
pos = 0,-140
postype = p2
postype = back
stateno = 2023
helpertype = normal
ownpal = 1
keyctrl = 0

[State 8910]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;---------------------------[AI]-----------------------------------
[Statedef 9741]
type=A
movetype=I
physics=N
anim=9741
ctrl=0

[State 9741, wrong]
type=destroyself
trigger1= (parent,ID)!=(root,ID)
[State 9741, Safety]
type=selfstate
trigger1= !ishelper
value=0

[State 9741, uglyhack]
type=varset
trigger1= !var(5)
var(11)=1
[State 9741, pausecheck]
type=varset
trigger1= gametime>root,var(58)
trigger2= !(root,alive)
trigger3= roundstate!=2
trigger4= root,var(59)
var(11)=1

[State 9741, facing]
type=turn
trigger1= var(8):=(facing!=root,facing)

[State 9741, unpausecheck]
type=varset
triggerall= var(11)
trigger1= root,command="fwd" || root,command="back" || root,command="up" || root,command="down"
trigger2= root,command="a" || root,command="b"
trigger3= root,command="x" || root,command="y"
trigger4= root,command="taunt"
trigger5= var(11)=1
trigger5= var(11):=0
var(11)=1

[State 9741, goodbye]
type=destroyself
triggerall= var(5):=1
trigger1= root,var(59)
trigger2= !(root,alive)
trigger3= roundstate!=2

;---------------------------------------------------------------------------
; Hi to Foxy
[Statedef 11990, foxy]
type = S
ctrl = 0
anim = 5500
velset = 0,0

[State 11990, 2] ;Change to stand state
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------[p2 state port slam]-----------------------------------
[Statedef 13000, p2]
type    = A
movetype= H
physics = N
velset = 0,0


[State 13000, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1300

[State 13000, SB]
type = ScreenBound
trigger1 = 1
movecamera = 1,0
value = 1

;---------------------------[p2 state port slam]------------------------------------------------


[Statedef 13050]
type    = A
movetype= H
physics = N
velset = 0,0


[State 13050, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 13050

[State 13050, SB]
type = ScreenBound
trigger1 = 1
movecamera = 1,0
value = 1

;-----------------------------[p2 state port slam]----------------------------------------------

[Statedef 13100]
type    = A
movetype= H
physics = N
velset = -2,0

[State 1310, 1]
type = VelAdd
Trigger1 = 1
y = .4

[State 1310, SB]
type = ScreenBound
trigger1 = 1
movecamera = 1,0
value = 1

[State 1310, 4]
type = SelfState
trigger1 = Vel Y > -10 && Pos Y >= -10
value = 5100

;--------------------------------[ P2 hit by angel butterfly]-----------

[Statedef 13107,abf2]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 13107]
type = ChangeAnim2
trigger1 = Time = 0
value = 13100

[State 13107]
type = ChangeState
trigger1 = animtime = 0
value = 13101
;-------------------------------[ P2 hit part 2]------------------------------------
[Statedef 13101]
type    = A
movetype= H
physics = N
Velset = -8,-12
ctrl = 0

[State 13100]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 13101]
type = ChangeAnim2
trigger1 = SelfAnimExist(5052) != 1
trigger1 = Time = 0
value = 13101

[State 13101]
type = ChangeAnim
trigger1 = SelfAnimExist(5052) = 1
trigger1 = Time = 0
value = 5052

[State 13101]
type = Veladd
trigger1 = Time > 0
y = 0.54

[State 13101]
type = SelfState
trigger1 = Vel Y > 0
value = 5050
;---------------------------------------------------------------------
; Kula
[Statedef 13200, kula]
type = S
ctrl = 0
anim = 950
velset = 0,0

[State 13200, 1]
type = AssertSpecial
trigger1 = time = 1
flag = Intro
flag2 = nobardisplay

[State 13200, 2]; Keeps round from starting
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 13200, 3]
type = ChangeState
trigger1 = time = 280
value = 106

;-------------------------------[Part two]-------------------------------
[Statedef 15010, kq2]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 24050
sprpriority = 2


[State 15010, Freeze]  ;(done)
type = playsnd
trigger1 = animelem = 7
value = S3000,42

[State 15010, Freeze] ;(done)
type = playsnd
trigger1 = animelem = 12
value = S4000,4

[State 15010, 1a]; Diana
type = playsnd
trigger1 = animelem = 2
value = S3000,17

[State 15010, 1b]; Smack
type = playsnd
trigger1 = animelem = 1
value = S5,9

[State 15010, Telaport] ;(done)
type = playsnd
trigger1 = animelem = 7
trigger2 = animelem = 16
value = 12,1

[State 15010, 4]
type = PlaySnd
trigger1 = time >= 214 && Timemod = 5, 3
value = S3000,39

[State 15010, 4]
type = PlaySnd
trigger1 = time >= 214 && Timemod = 5, 3
value = S3000,40

[State 15010, 4]
type = PlaySnd
trigger1 = time >= 214 && Timemod = 5, 3
value = S3000,4

[State 15010, 4]
type = PlaySnd
trigger1 = time >= 214 && Timemod = 5, 3
value = S3000,31
;---------------------------------------[fx]

[State 15010, Fliz] ;Candy Left
type = Explod
trigger1 = animelem = 7
anim = 2380
postype = p1
pos = -70,0
sprpriority = -2
ownpal = 1
supermove = 1
shadow = 5,5,5
Ontop = 1

[state 15010, dusta]; Left
type = explod
trigger1 = animelem = 8
id = 6007
anim = 6007
postype = p1
pos = -70,0
Scale = 1, 2.5
sprpriority = 3
removeongethit = 1
removetime = 40
bindtime = -1
ontop = 1
bindtime = -1
ownpal = 1

[state 15010, dustb]; Right
type = explod
trigger1 = animelem = 8
id = 6007
anim = 6007
postype = p2
pos = -70,0
Scale = 1, 2.5
sprpriority = 3
removeongethit = 1
removetime = 40
bindtime = -1
ontop = 1
bindtime = -1
ownpal = 1


[State 15010, Kula] ;Kula Right-(done)
type = Explod
trigger1 = animelem = 7
anim = 2385
postype = p1
pos = 110,0
sprpriority = -2
ownpal = 1
supermove = 1
shadow = 5,5,5
ontop = 1

[State 15010,] ;Ice
type = Explod
trigger1 = animelem = 10
anim = 2390
postype = p1
pos = 20,0
sprpriority = 1
ownpal = 1
supermove = 1
shadow = 5,5,5
ontop = 0

[State 15010]
type = BGPalFX
trigger1 = 1
time = 2
add = -100,-100,-100
color = 0
invertall = 1
ignorehitpause = 1

[State 15010,1];Foxy
type = Helper
trigger1 = animelem = 15
ID = 1500
name = "Foxy"
postype = p1
pos = 90,0
sprpriority = 5
stateno = 1520
helpertype = normal
keyctrl = 0
facing = -1
persistent = 0
ignorehitpause = 1

[State 15010, 4]
type = varrandom
trigger1 = 1
v = 1
range = 1,4

[State 15010, 2];---------------------------(done)
type = HitDef
trigger1 = time >= 214 && Timemod = 5, 3
attr = S, NA
animtype  = hard
damage    = 5
guardflag =
hitflag = MAF
pausetime = 3,0
pausetime = 7,7
sparkno = S510
guard.sparkno = S524
sparkxy = -10,-25 + var(12)
hitsound   = S0,40
guardsound = S0,32
ground.type = high
ground.slidetime = 15
ground.hittime  = 0
ground.velocity = 0, 0
air.velocity = 0, -12.3
air.juggle  = 13
p2stateno = 1510
envshake.time = 10
;snap = 45,0
kill = 0

[State 3030]
type = TargetLifeAdd
trigger1 = time = 321
value = -200

[state 15010]
type = envcolor
trigger1 = time >= 214 && Timemod = 5, 3
time = 2
value = 255,255,255
under = -1

[State 15010, 4]
type = targetstate
trigger1 = time >= 214 && Timemod = 5, 3
value = 1040

[State 15010, 4]
type = targetstate
trigger1 = time >= 214 && Timemod = 5, 3
value = 1041

;------------------------------------------[FX]
[State 15010, 4];Sword
type = Explod
trigger1 = time >= 214 && Timemod = 5, 3
anim = 572
postype = p1
pos = 0,0
random = 50,25
facing = 1
sprpriority = 6
ownpal = 1

[State 15010, 4a];Sword
type = Explod
trigger1 = time >= 214 && Timemod = 5, 3
anim = 572
postype = p1
pos = 0,0
random = 50,50
facing = 1
sprpriority = 6
ownpal = 1

[State 15010, 4b];Sword
type = Explod
trigger1 = time >= 214 && Timemod = 5, 3
anim = 572
postype = p1
pos = 0,0
random = 50,100
facing = 1
sprpriority = 6
ownpal = 1

[State 15010, 4c];Blood
type = Explod
trigger1 = time >= 214 && Timemod = 5, 3
anim = 508
postype = p1
pos = 35,-60
random = 50,50
facing = 1
sprpriority = 0
ownpal = 1

[State 15010, 4d];Blood
type = Explod
trigger1 = time >= 214 && Timemod = 5, 3
anim = 508
postype = p1
pos = 35,-80
random = 50,50
facing = 1
sprpriority = 5
ownpal = 1
;-------------------------------------
[state 15010]
type = targetlifeadd
trigger1 = time >= 214 && Timemod = 5, 3
value = -5
kill = 0

[state 15010, EnvShake]
type = EnvShake
trigger1 = time >= 214 && Timemod = 5, 3
time = 2
freq = 60
ampl = -4
phase = 90


[State 15010, 2]
type = ChangeState
Trigger1 = time = 321
value = 1502

;---------------------------------------------------------------------
; Win 9 - Zero Coat envy
[Statedef 18900]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1033
velset = 0,0

[State 18900]
type = ChangeState
triggerall = time = 1
trigger1 = p2name = "Kura" || p4name = "Kura" || p3name = "Kura"
trigger2 = p2name = "Kula Diamond" || p4name = "Kula Diamond" || p3name = "Kula Diamond"
trigger3 = p2name = "Kula" || p3name = "Kula" || p4name = "Kula"
trigger4 = p2name = "EvilKula" || p3name = "EvilKula" || p4name = "EvilKula"
trigger5 = P2Name = "kula & eddie" || P3Name = "kula & eddie" || P4Name = "kula & eddie"
trigger6 = p2name = "Kula akof" || p3name = "Kula akof" || p4name = "Kula akof"
trigger7 = p2name = "CCI Kula" || p3name = "CCI Kula" || p4name = "CCI Kula"
trigger8 = p2name = "Kula_Choi" || p3name = "Kula_Choi" || p4name = "Kula_Choi"
trigger9 = p2name = "Coola" || p3name = "Coola" || p4name = "Coola"
trigger10 = p2name = "KulaXI" || p3name = "KulaXI" || p4name = "KulaXI"
trigger11 = p2name = "Kula_Kofe" || p3name = "Kula_Kofe" || p4name = "Kula_Kofe"
trigger12 = p2name = "Kula_choi" || p3name = "Kula_choi" || p4name = "Kula_choi"
value = 18100

[State 18900, 1a PlaySnd];Wings
type = PlaySnd
trigger1 = AnimElem = 7
value = 3000,48

[State 18900, 1a PlaySnd];talking
type = PlaySnd
trigger1 = AnimElem = 4
value = 11,3

[State 18900, 2a]
type = ScreenBound
trigger1 = 1
movecamera = 10,0

[State 18900, 1]; Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 18900, 2]
type = AssertSpecial
trigger1 = Time = [0,350]
flag = RoundNotOver
;-----------------------------------------------------------------------------

; Win 8 - Candy
[Statedef 18800]
type = S
movetype = I
physics = S
ctrl = 0
anim = 194
velset = 0,0

[State 18800, Explod f];Diana
type = Explod
trigger1 = animelem = 27
ID = 193
anim = 193
postype = p1
pos = -30,2
bindtime = -1
removetime = 450
sprpriority = 2
shadow = 5,5,5
ontop = 1

[State 18800, 1b PlaySnd]; Candy
type = PlaySnd
trigger1 = animelem = 12
value = 3000,46

[State 18800, 1a PlaySnd];Hahaha
type = PlaySnd
trigger1 = AnimElem = 28
value = 3000,45
channel = 2

[State 18800, 1b PlaySnd]; Shin-Nye!
type = PlaySnd
trigger1 = animelem = 22
value = 3000,43


[State 18800, 1c PlaySnd];Telaport
type = PlaySnd
trigger1 = animelem = 27
value = 12,1

[State 18800, 1c PlaySnd];change
type = PlaySnd
trigger1 = animelem = 7
trigger2 = animelem = 17
value = 8,7

[State 18800, 2a]
type = ScreenBound
trigger1 = 1
movecamera = 5,0

[State 18800, 1]; Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 18800, 2]
type = AssertSpecial
trigger1 = Time = [0,500]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Win 7 - Party Dress
[Statedef 18700]
type = S
movetype = I
physics = S
ctrl = 0
anim = 10013
velset = 0,0

;------------------------------[ Explods]-------------------

[State 18700, Explod f]; Port Diana
type = Explod
trigger1 = AnimElem = 8
ID = 105
anim = 105
postype = p1
pos = 30,0
bindtime = -1
removetime = 18
sprpriority = 2
ontop = 1

[State 18700, Explod g]; Flower Butterfly Backround
type = Explod
trigger1 = time = 300
ID = 13318
anim = 13318
postype = p1
pos = 0,0
bindtime = -1
removetime = -1
sprpriority = 0
ontop = 0
;-------------------------- [Sounds]-------------------------
[State 18700, 1a PlaySnd];Exhale
type = PlaySnd
trigger1 = AnimElem = 6
value = 0,2
channel = 2

[State 18700, 1b PlaySnd];Diana talking
type = PlaySnd
trigger1 = time = 230
value = 3000,44


[State 18700, 1c PlaySnd];Telaport
type = PlaySnd
trigger1 = time = 188
value = 12,1

[State 18700, 1d PlaySnd];Flower Butterfly Backround
type = PlaySnd
trigger1 = time = 300
value = 4000,4

;--------------------------- [FX]----------------------------
[State 18700, White] ;Blink white
type = PalFX
trigger1 = time = 178
time = 20
add = 128,128,128 ;256,256,256

[State 18700, 2a]
type = ScreenBound
trigger1 = 1
movecamera = 5,0

[State 18700, 1]; Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 18700, 2]
type = AssertSpecial
trigger1 = Time = [0,450]
flag = RoundNotOver
;-------------------------------------------------------------------------------
; Win 6 - Club Ready
[Statedef 18600]
type = S
movetype = I
physics = S
ctrl = 0
anim = 18600
velset = 0,0

[State 18600]
type = ChangeState
triggerall = time = 1
trigger1 = p2name = "Kura" || p4name = "Kura" || p3name = "Kura"
trigger2 = p2name = "Kula Diamond" || p4name = "Kula Diamond" || p3name = "Kula Diamond"
trigger3 = p2name = "Kula" || p3name = "Kula" || p4name = "Kula"
trigger4 = p2name = "EvilKula" || p3name = "EvilKula" || p4name = "EvilKula"
trigger5 = P2Name = "kula & eddie" || P3Name = "kula & eddie" || P4Name = "kula & eddie"
trigger6 = p2name = "Kula akof" || p3name = "Kula akof" || p4name = "Kula akof"
trigger7 = p2name = "CCI Kula" || p3name = "CCI Kula" || p4name = "CCI Kula"
trigger8 = p2name = "Kula_Choi" || p3name = "Kula_Choi" || p4name = "Kula_Choi"
trigger9 = p2name = "Coola" || p3name = "Coola" || p4name = "Coola"
trigger10 = p2name = "KulaXI" || p3name = "KulaXI" || p4name = "KulaXI"
trigger11 = p2name = "Kula_Kofe" || p3name = "Kula_Kofe" || p4name = "Kula_Kofe"
trigger12 = p2name = "Kula_choi" || p3name = "Kula_choi" || p4name = "Kula_choi"
value = 18100

[State 18600, Explod a]; Candy
type = Explod
trigger1 = time = 70
ID = 8237
anim = 8237
postype = p1
pos = 22,-2
bindtime = -1
removetime = 400
shadow = 5,5,5
ontop = 0

[State 18600, Explod b]; Foxy
type = Explod
trigger1 = time = 138
ID = 8238
anim = 8238
postype = p1
pos = -48,4
bindtime = -1
removetime = 400
sprpriority = 2
shadow = 5,5,5
ontop = 1

[State 18600, Explod c]; Kula
type = Explod
trigger1 = time = 250
ID = 8236
anim = 8236
postype = p1
pos = -60,8
bindtime = -1
removetime = 400
sprpriority = 1
shadow = 5,5,5
ontop = 1

[State 18600, Explod d]; Fliz
type = Explod
trigger1 = time = 300
ID = 8235
anim = 8235
postype = p1
pos = -88,5
bindtime = -1
removetime = 400
sprpriority = 1
shadow = 5,5,5
ontop = 0

[State 18600, Explod e]; Nyla
type = Explod
trigger1 = time = 200
ID = 82380
anim = 82380
postype = p1
pos = 28,5
bindtime = -1
removetime = 400
shadow = 5,5,5
ontop = 0

[State 18600, White] ;Blink white
type = PalFX
trigger1 = time = 120
time = 20
add = 128,128,128 ;256,256,256

[State 18600, Explod f]; Port Diana
type = Explod
trigger1 = AnimElem = 6
ID = 105
anim = 105
postype = p1
pos = 0,0
bindtime = -1
removetime = 18
sprpriority = 2
ontop = 1

[State 18600, 1a PlaySnd]; ports
type = PlaySnd
trigger1 = time = 70;----Candy_MXR
trigger2 = AnimElem = 6;-Diana
trigger3 = time = 138;---Foxy
trigger4 = time = 200;---Nyla
trigger5 = time = 250;---Kula
trigger6 = time = 300;---Fliz
value = 12,1
channel = 2

[State 18600, 1b PlaySnd]; Diana Talking
type = PlaySnd
trigger1 = time = 250
value = 49,11
channel = 1

[State 18600, 1c PlaySnd]; Candy Change
type = PlaySnd
trigger1 = time = 176
value = 8,7
channel = 1

[State 18600, 2]
type = ScreenBound
trigger1 = 1
movecamera = 30,0

[State 18600, 1]; Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 18600, 2a]
type = AssertSpecial
trigger1 = Time = [0,450]
flag = RoundNotOver

;-------------------------------------------------------------------------------
; Win 5 - Diana & Kula
[Statedef 18500]
type = S
movetype = I
physics = S
ctrl = 0
anim = 36000
velset = 0,0

[State 18500]
type = ChangeState
triggerall = time = 1
trigger1 = p2name = "Kura" || p4name = "Kura" || p3name = "Kura"
trigger2 = p2name = "Kula Diamond" || p4name = "Kula Diamond" || p3name = "Kula Diamond"
trigger3 = p2name = "Kula" || p3name = "Kula" || p4name = "Kula"
trigger4 = p2name = "EvilKula" || p3name = "EvilKula" || p4name = "EvilKula"
trigger5 = P2Name = "kula & eddie" || P3Name = "kula & eddie" || P4Name = "kula & eddie"
trigger6 = p2name = "Kula akof" || p3name = "Kula akof" || p4name = "Kula akof"
trigger7 = p2name = "CCI Kula" || p3name = "CCI Kula" || p4name = "CCI Kula"
trigger8 = p2name = "Kula_Choi" || p3name = "Kula_Choi" || p4name = "Kula_Choi"
trigger9 = p2name = "Coola" || p3name = "Coola" || p4name = "Coola"
trigger10 = p2name = "KulaXI" || p3name = "KulaXI" || p4name = "KulaXI"
trigger11 = p2name = "Kula_Kofe" || p3name = "Kula_Kofe" || p4name = "Kula_Kofe"
trigger12 = p2name = "Kula_choi" || p3name = "Kula_choi" || p4name = "Kula_choi"
value = 18100

;------------------------- Explods --------------------------------
[State 18500, Kula] ;Kula Ports in and Poses
type = Explod
trigger1 = time = 40
anim = 1940
ID = 1940
pos = 50,5
postype = p1
sprpriority = 3
facing = 1
vfacing = 1
bindtime = 1
removetime = 100
scale = 1,1
ontop = 0
shadow = 5,5,5
ownpal = 1

[State 18500, Sword]; Sword goes Poof
type = Explod
trigger1 = time = 140
anim = 1852
ID = 1852
pos = 60,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 128
scale = 1,1
sprpriority = 0
ontop = 0
shadow = 5,5,5
ownpal = 1

[State 18500, White] ;Blink white
type = PalFX
trigger1 = time = 230
time = 20
add = 128,128,128 ;256,256,256

[State 18500, Explod f]; Port Diana
type = Explod
trigger1 = AnimElem = 16
ID = 182
anim = 182
postype = p1
pos = 0,0
bindtime = -1
removetime = 18
sprpriority = 2
ontop = 1

[State 18500, Winna]; "Winna!" Sighin
type = Explod
trigger1 = time = 220
postype = left
anim = 3660
ID = 3660
pos = 165,150
vel = 0,0
bindtime = 600
sprpriority = 5
ontop = 0
ownpal = 1
removetime = 600
;-------------------------Sounds -----------------------------
[State 18500, PlaySnd] ; sword hits ground
type = PlaySnd
trigger1 = time = 36
value = 6,0

[State 18500, 1] ;Kula Tellaport & Diana change
type = PlaySnd
trigger1 = time = 40
trigger2 = time =  240
value = 12,1


[State 18500, 1a]; Kula 'Bye-Bye'
type = PlaySnd
trigger1 = time = 124
value = 3000,35


[State 18500, 1b]; Kula 'Ah'
type = PlaySnd
trigger1 = time = 96
value = 3000,36


[State 18500, 1b]; Kula 'Ha Ha'
type = PlaySnd
trigger1 = time = 148
value = 3000,34


[State 18500, 2a]; Kula talking
type = PlaySnd
trigger1 = time = 200
value = 3000,37


[State 18500, 2b]; Diana giggle
type = PlaySnd
trigger1 = time = 300
value = 49,10


[State 18500, 3];Diana 'Yay Kula'
type = PlaySnd
trigger1 = time = 124
value = 3000,25


[State 18500, 3a] ; Uh Oh
type = PlaySnd
trigger1 = time = 150
value = 3000,22

[State 18500, 4a] ; Perfect
type = PlaySnd
trigger1 = time = 370
value = 4443,11
;-------------------------------------------------
[State 18500, 2]
type = ScreenBound
trigger1 = 1
movecamera = 10,0

[State 18500, 1]; Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 18500, 2a]
type = AssertSpecial
trigger1 = Time = [0,550]
flag = RoundNotOver
;-------------------------------------------------------------------------------
[Statedef 18400];-Group Pose
type = S
ctrl = 0
anim = 35000
velset = 0,0

[State 18400]
type = ChangeState
triggerall = time = 1
trigger1 = p2name = "Kura" || p4name = "Kura" || p3name = "Kura"
trigger2 = p2name = "Kula Diamond" || p4name = "Kula Diamond" || p3name = "Kula Diamond"
trigger3 = p2name = "Kula" || p3name = "Kula" || p4name = "Kula"
trigger4 = p2name = "EvilKula" || p3name = "EvilKula" || p4name = "EvilKula"
trigger5 = P2Name = "kula & eddie" || P3Name = "kula & eddie" || P4Name = "kula & eddie"
trigger6 = p2name = "Kula akof" || p3name = "Kula akof" || p4name = "Kula akof"
trigger7 = p2name = "CCI Kula" || p3name = "CCI Kula" || p4name = "CCI Kula"
trigger8 = p2name = "Kula_Choi" || p3name = "Kula_Choi" || p4name = "Kula_Choi"
trigger9 = p2name = "Coola" || p3name = "Coola" || p4name = "Coola"
trigger10 = p2name = "KulaXI" || p3name = "KulaXI" || p4name = "KulaXI"
trigger11 = p2name = "Kula_Kofe" || p3name = "Kula_Kofe" || p4name = "Kula_Kofe"
trigger12 = p2name = "Kula_choi" || p3name = "Kula_choi" || p4name = "Kula_choi"
trigger13 = p2name = "Foxy" || p3name = "Foxy" || p4name = "Foxy"
trigger14 = p2name = "Candy" || p3name = "Candy" || p4name = "Candy"
value = 18100

;--------------------------------------------------- shimmer
[State 18400, Shimmer]
type = Explod
trigger1 = time = 10
anim = 199
ID = 199
pos = 0,-100
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = -1
removetime = 23
scale = 1,1
ontop = 0
;--------------------------------------------------- Candy
[State 18400, candy]
type = Explod
trigger1 = time = 30
anim = 20110
ID = 20110
pos = -30,-180
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0.2,0.4
accel = 0,0
random = 0,0
removetime = 4000
scale = 1,1
ontop = 0
shadow = 5,5,5
ownpal = 1

[State 18400, Flash]; Flash
type = Explod
trigger1 = time = 30
anim = 1196
ID = 1196
pos = 80,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 12
scale = 3,1
ontop = 1
shadow = 1,1,1
ownpal = 1

;-------------------------------------------------   Foxy
[State 18400, Flash 3]; Flash 3
type = Explod
trigger1 = time = 30
anim = 1196
ID = 1196
pos = -60,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 12
scale = 3,1
sprpriority = 2
ontop = 0
shadow = 5,5,5
ownpal = 1

[State 18400, Foxy]; Foxy
type = Explod
trigger1 = time = 42
anim = 18500
ID = 18500
pos = 54,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
sprpriority = 1
removetime = 40000
scale = 1,1
ontop = 0
shadow = 5,5,5
ownpal = 1

;-------------------------------------------------   Kula
[State 18400, Kula]
type = Explod
trigger1 = time = 30
anim = 1940
ID = 1940
pos = 71,4
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 40000
scale = 1,1
ontop = 0
sprpriority = 2
shadow = 5,5,5
ownpal = 1

[State 18400, 1]; Tellaport
type = PlaySnd
trigger1 = time = 30
value = 12,1
channel = 1
;----------------------------------------------------------------

[State 18400, 1b PlaySnd] ;'Bye Bye'
type = PlaySnd
trigger1 = time = 100
value = 0,7
Channel = 2

[State 18400, 1];Diana
type = PlaySnd
trigger1 = time = 20
value = 3000,21
channel = 2

[State 18400, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 18400, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 18400, 10]; Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 18400, 2a]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = RoundNotOver
;--------------------------------------------------------------------------
; Win 1 - Telaport
[Statedef 18100]
type = S
movetype = I
physics = S
ctrl = 0
anim = 39
velset = 0,0

[State 18100, a PlaySnd] ; sword hits ground
type = PlaySnd
trigger1 = time = 44
value = 6,0

[State 18100, b PlaySnd] ;Portal
type = PlaySnd
trigger1 = time = 5
value = 12,1

[State 18100, 1b PlaySnd] ;'bling'
type = PlaySnd
trigger1 = time = 144
value = 3,5

[State 18100, Super]; Diana portal
type = Explod
trigger1 = time = 5
anim = 182
ID = 182
pos = 0,80
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 8
scale = 1,2
sprpriority = 0
ontop = 1
shadow = 5,5,5
ownpal = 1

[State 18100, Supera] ;sword comes down
type = Explod
trigger1 = time = 20
anim = 1851
ID = 1851
pos = 40,-200
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,4
accel = 0,0
random = 0,0
removetime = 24
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 5,5,5
ownpal = 1

[State 18100, Explod TB] ; Twinkles B.
type = Explod
trigger1 = time = 20
trigger2 = time = 25
trigger3 = time = 30
trigger4 = time = 35
trigger5 = time = 40
anim = 13330
pos = 40,5
random = 75,70
sprpriority = 0
ownpal = 1
accel = 0,-0.2
removetime = 300
ignorehitpause = 1
supermove = 1
velocity = 0,-2

[State 18100, Explod BF] ; Butterflys F.
type = Explod
trigger1 = time = 20
trigger2 = time = 25
trigger3 = time = 30
trigger4 = time = 35
trigger5 = time = 40
anim = 13334
pos = 40,5
random = 100,70
sprpriority = 10
ownpal = 1
accel = 0,-0.2
removetime = 300
ignorehitpause = 1
supermove = 1
velocity = 0,-1

[State 18100, Superb]; Sword goes Poof
type = Explod
trigger1 = time = 44
anim = 1852
ID = 1852
pos = 40,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 128
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 5,5,5
ownpal = 1

[State 18100, c AfterImage]
type = AfterImage
trigger1 = AnimElem = 2
time = 80
palbright = 30,30,30
palcontrast = 120,120,220
paladd = 10,10,25
palmul = .65,.65,.75
framegap = 4

[State 18100, 2]
type = ScreenBound
trigger1 = 1
movecamera = 1,0

[State 18100, 10]; Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 18100, 2a]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver
;---------------------------------------------------------------------------
; Win 2 - K & Kyo
[Statedef 18200]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1840
velset = 0,0

;------------------------------------[ Explodes]
[State 18200, Explod]; "Rocky"
type = Explod
trigger1 = time = 1
anim = 15010
ID = 18200
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = 400
sprpriority = 0

[State 18200, Explod]; Foxy spin
type = Explod
trigger1 = time = 60
ID = 1850
anim = 1850
postype = p1
pos = -58,8
bindtime = -1
removetime = 400
sprpriority = 20
shadow = 5,5,5
ontop = 0
;--------------------------------[ Sounds]
[State 18200, 1a PlaySnd];Exhale
type = PlaySnd
trigger1 = AnimElem = 9
value = 0,2
channel = 2

[State 18200, 2a PlaySnd]; Platform motor
type = PlaySnd
trigger1 = time = 1
value = 4000,5

[State 18200, 2b PlaySnd]; Platform lowering
type = PlaySnd
trigger1 = time = 40
trigger2 = time = 80
trigger3 = time = 120
trigger4 = time = 180
value = 50,3

[State 18200, 2c PlaySnd]; Platform stopping
type = PlaySnd
trigger1 = time = 196
value = 5,8


[State 18200, 1b PlaySnd]; Diana
type = PlaySnd
trigger1 = time = 100
value = 3000,32

[State 18200, 1d PlaySnd];Telaport
type = PlaySnd
trigger1 = time = 60
value = 12,1
;---------------------------
[State 18200, 2a]
type = ScreenBound
trigger1 = 1
movecamera = -20,0

[State 18200, 10]; Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 18200, 2]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = RoundNotOver
;------------------------------------------------------------------------
; Win 3 -  Children of NESTS "Bye Bye"
[Statedef 18300, children]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1830
velset = 0,0

[State 18300]
type = ChangeState
triggerall = time = 1
trigger1 = p2name = "Kura" || p4name = "Kura" || p3name = "Kura"
trigger2 = p2name = "Kula Diamond" || p4name = "Kula Diamond" || p3name = "Kula Diamond"
trigger3 = p2name = "Kula" || p3name = "Kula" || p4name = "Kula"
trigger4 = p2name = "EvilKula" || p3name = "EvilKula" || p4name = "EvilKula"
trigger5 = P2Name = "kula & eddie" || P3Name = "kula & eddie" || P4Name = "kula & eddie"
trigger6 = p2name = "Kula akof" || p3name = "Kula akof" || p4name = "Kula akof"
trigger7 = p2name = "CCI Kula" || p3name = "CCI Kula" || p4name = "CCI Kula"
trigger8 = p2name = "Kula_Choi" || p3name = "Kula_Choi" || p4name = "Kula_Choi"
trigger9 = p2name = "Coola" || p3name = "Coola" || p4name = "Coola"
trigger10 = p2name = "KulaXI" || p3name = "KulaXI" || p4name = "KulaXI"
trigger11 = p2name = "Kula_Kofe" || p3name = "Kula_Kofe" || p4name = "Kula_Kofe"
trigger12 = p2name = "Kula_choi" || p3name = "Kula_choi" || p4name = "Kula_choi"
value = 18100

;-------------------------------------The kids-------------------
[State 18300, Explod 0] ;Megumi
type = Explod
trigger1 = time = 82
ID = 8241
anim = 8241
postype = p1
pos = 10,3
bindtime = -1
removetime = 2000
sprpriority = 1
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0]; Nyla
type = Explod
trigger1 = time = 82
ID = 1790
anim = 1790
postype = p1
pos = -20,3
bindtime = -1
removetime = 2000
sprpriority = 2
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ;Yukino
type = Explod
trigger1 = time = 82
ID = 8242
anim = 8242
postype = p1
pos = -130,3
bindtime = -1
removetime = 2000
sprpriority = 1
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ;Robo Kula
type = Explod
trigger1 = time = 82
ID = 1971
anim = 1971
postype = p1
pos = 100,3
bindtime = -1
removetime = 2000
sprpriority = 1
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ;Kid-K
type = Explod
trigger1 = time = 118
ID = 1925
anim = 1925
postype = p1
pos = -175,4
bindtime = -1
removetime = 2000
sprpriority = 2
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ;Aura Crucifix
type = Explod
trigger1 = time = 200
ID = 1947
anim = 1947
vel = 1,1
postype = p1
pos = 0,0
bindtime = -1
removetime = -1
sprpriority = 2
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ;Aura Crucifix Wings
type = Explod
trigger1 = time = 200
ID = 1946
anim = 1946
vel = 1,1
postype = p1
pos = 0,0
bindtime = -1
removetime = -1
sprpriority = 0
ontop = 0

[State 18300, Explod 0] ;Gelato
type = Explod
trigger1 = time = 120
ID = 1945
anim = 1945
postype = p1
pos = -200,3
bindtime = -1
removetime = 2000
sprpriority = 0
shadow = 5,5,5
ontop = 0


[State 18300, Explod 0] ;Kula
type = Explod
trigger1 = time = 82
ID = 1940
anim = 1940
postype = p1
pos = 60,3
bindtime = -1
removetime = 2000
sprpriority = 2
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ; Isabeau
type = Explod
trigger1 = time = 82
ID = 1950
anim = 1950
postype = p1
pos = 40,3
bindtime = -1
removetime = 2000
sprpriority = 2
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ; Heil
type = Explod
trigger1 = time = 82
ID = 1930
anim = 1930
postype = p1
pos = -50,3
bindtime = -1
removetime = 2000
sprpriority = 1
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ; Sula
type = Explod
trigger1 = time = 82
ID = 1920
anim = 1920
postype = p1
pos = -70,3
bindtime = -1
removetime = 2000
sprpriority = 2
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ; Alty
type = Explod
trigger1 = time = 82
ID = 1935
anim = 1935
postype = p1
pos = -90,3
bindtime = -1
removetime = 2000
sprpriority = 1
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ; kukuru
type = Explod
trigger1 = time = 82
ID = 1910
anim = 1910
postype = p1
pos = -110,3
bindtime = -1
removetime = 2000
sprpriority = 1
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ; Fliz
type = Explod
trigger1 = time = 82
ID = 1900
anim = 1900
postype = p1
pos = 80,3
bindtime = -1
removetime = 2000
sprpriority = 2
shadow = 5,5,5
ontop = 0

[State 18300, Explod 0] ; Reak
type = Explod
trigger1 = time = 82
ID = 1960
anim = 1960
postype = p1
pos = -160,3
bindtime = -1
removetime = 2000
sprpriority = 1
shadow = 5,5,5
ontop = 0
;-------------------------------------------------------------------
[State 18300, Superb]; Sword goes Poof
type = Explod
trigger1 = time = 46
anim = 1852
ID = 1852
pos = 40,5
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 128
scale = 1,1
sprpriority = 0
ontop = 1
shadow = 5,5,5
ownpal = 1
;------------------------Sound --------------------------------
[State 18300, a PlaySnd] ; sword hits ground
type = PlaySnd
trigger1 =  animelem = 4
value = 6,0

[State 18300, b PlaySnd] ; 'Snap'
type = PlaySnd
trigger1 = animelem = 10
value = 0,6

[State 18300, c PlaySnd] ; AC appers
type = PlaySnd
trigger1 = time = 200
value = 1,12


[State 18300, d PlaySnd] ;'bling'
type = PlaySnd
trigger1 = time = 144
value = 3,5

[State 18300, e PlaySnd] ;'Bye Bye'
type = PlaySnd
trigger1 = time = 110
trigger2 = time = 113
value = 0,7

[State 18300, f PlaySnd] ; Sula
type = PlaySnd
trigger1 = time = 282
value = 0,8

[State 18300, g PlaySnd]; Telaport
type = PlaySnd
trigger1 = time = 82
trigger2 = time = 86
trigger3 = time = 90
trigger4 = time = 94
trigger5 = time = 98
trigger6 = time = 120
value = 12,1

;------------------------------------------
[State 18300, 2a]
type = ScreenBound
trigger1 = 1
movecamera = -20,0

[State 18300, 10]; Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 18300, 2]
type = AssertSpecial
trigger1 = Time = [0,450]
flag = RoundNotOver

;---------------------------------------------------------------------------
; Rocky GotHit
[Statedef 23010]
type = U
movetype = H
physics = N
anim = 5012
velset = 0,0
sprpriority = -1
facep2 = 1
ctrl = 0

[State 23010, ChangeAnim]
type = ChangeAnim
trigger1 = Time = 7
value = 5050

[State 23010, VelSet]
type = VelSet
trigger1 = Time = 7
x = -12
y = IfElse(StateType != A,-4,0)

[State 23010, StateTypeSet]
type = StateTypeSet
trigger1 = Time = 8
statetype = A

[State 23010, VelAdd]
type = VelAdd
trigger1 = Time > 7
y = .4

[State 23010, ChangeState]
type = ChangeState
trigger1 = Anim = 5050 && Pos Y >= 0 && Vel Y > 0
value = 23011
;----------------------------------------------------------------------
[Statedef 23011]
type = L
movetype = H
physics = N
anim = 5100
velset = 0,0
ctrl = 0

[State 23011, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 23011, EnvShake]
type = EnvShake
trigger1 = !Time
time = 10
ampl = -6

[State 23011, ChangeAnim]
type = ChangeAnim
trigger1 = Anim = 5100 && !AnimTime
value = 5160

[State 23011, VelSet]
type = VelSet
trigger1 = Anim = 5160 && AnimElem = 1, = 0
y = -1

[State 23011, VelAdd]
type = VelAdd
trigger1 = Pos Y < 0
y = .4

[State 23011, ChangeState]
type = ChangeState
trigger1 = Anim = 5160 && Pos Y >= 0 && Vel Y > 0
value = 23012

[Statedef 23012]
type = L
movetype = H
physics = N
anim = 5170
velset = 0,0
ctrl = 0

[State 23012, PosSet]
type = PosSet
trigger1 = !Time
y = 0

[State 23012, SelfState]
type = SelfState
trigger1 = !AnimTime
value = IfElse(Alive,5110,5150)

;----------------------------------------------------------------------------------------------------------------
; Win 10 - Awww Poor Thing
[Statedef 28100]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1007
velset = 0,0

[State 28100]
type = ChangeState
triggerall = time = 1
trigger1 = p2name = "Kura" || p4name = "Kura" || p3name = "Kura"
trigger2 = p2name = "Kula Diamond" || p4name = "Kula Diamond" || p3name = "Kula Diamond"
trigger3 = p2name = "Kula" || p3name = "Kula" || p4name = "Kula"
trigger4 = p2name = "EvilKula" || p3name = "EvilKula" || p4name = "EvilKula"
trigger5 = P2Name = "kula & eddie" || P3Name = "kula & eddie" || P4Name = "kula & eddie"
trigger6 = p2name = "Kula akof" || p3name = "Kula akof" || p4name = "Kula akof"
trigger7 = p2name = "CCI Kula" || p3name = "CCI Kula" || p4name = "CCI Kula"
trigger8 = p2name = "Kula_Choi" || p3name = "Kula_Choi" || p4name = "Kula_Choi"
trigger9 = p2name = "Coola" || p3name = "Coola" || p4name = "Coola"
trigger10 = p2name = "KulaXI" || p3name = "KulaXI" || p4name = "KulaXI"
trigger11 = p2name = "Kula_Kofe" || p3name = "Kula_Kofe" || p4name = "Kula_Kofe"
trigger12 = p2name = "Kula_choi" || p3name = "Kula_choi" || p4name = "Kula_choi"
trigger13 = p2name = "Foxy" || p3name = "Foxy" || p4name = "Foxy"
trigger14 = p2name = "Whip" || p3name = "Whip" || p4name = "Whip"
value = 18100

[State 181000, Explod f];Foxy
type = Explod
trigger1 = AnimElem = 16
ID = 2370
anim = 2370
postype = p1
pos = -25,3
bindtime = -1
removetime = -1
sprpriority = 2
shadow = 5,5,5
ontop = 0

[State 181000, Explod whip];Whip
type = Explod
trigger1 = AnimElem = 17
ID = 13317
anim = 13317
postype = p1
pos = 50,3
bindtime = -1
removetime = -1
sprpriority = 2
shadow = 5,5,5
ontop = 0

[State 181000, Explod Kula];Kula
type = Explod
trigger1 = AnimElem = 10
ID = 13337
anim = 13337
postype = p1
pos = 15,5
bindtime = 1
removetime = -1
sprpriority = 5
shadow = 5,5,5
ontop = 0
;------------------------------[ sounds]-------------------

[State 181000, 1a PlaySnd];Port
type = PlaySnd
trigger1 = AnimElem = 10
trigger2 = AnimElem = 16
trigger3 = AnimElem = 17
value = 12,1

[State 181000, 1b PlaySnd];Shimmer sound
type = PlaySnd
trigger1 = AnimElem = 2
value = 50,10

[State 181000, 1c PlaySnd];Whip swish
type = PlaySnd
trigger1 = time = 186
trigger2 = time = 206
value = 4000,7

[State 181000, 1d PlaySnd];Whip swish3
type = PlaySnd
trigger1 = time = 210
value = 4000,6

[State 181000, 1e PlaySnd];whip crack
type = PlaySnd
trigger1 = time = 216
value = 4000,8

[State 181000, 1f PlaySnd]; Echo
type = PlaySnd
trigger1 = AnimElem = 12
value = 49,1

[State 181000, 2 PlaySnd];Diana
type = PlaySnd
trigger1 = AnimElem = 17
value = 1,4

--------------------------------------
[State 181000, 2b]
type = ScreenBound
trigger1 = 1
movecamera = -20,0

[State 181000, 3]; Win Screen
type = Helper
triggerall = time = 300
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 181000, 3]
type = AssertSpecial
trigger1 = Time = [0,300]
flag = RoundNotOver
;------------------------------------------------------------------------------------------------------
; Quick Strike
[Statedef 20230 qst]
type = S
movetype = A
physics = S
anim = 1220;------------------------ Start
poweradd = 100
velset = 0
ctrl = 0
;--------------------------[ Sound ]--------------
[State 20230, a]; Ports
type = PlaySnd
trigger1 = animelem = 2
trigger2 = time = 65
trigger3 = animelem = 7
value = 12,1

[State 20230, c]; "Die"
type = PlaySnd
trigger1 = time = 1
value = 11,3

[State 20230, c]; Baka
type = PlaySnd
trigger1 = movehit = 1
value = 12,2
;---------------------------[Diana]---------
[State 20230, Quick Strike Hit]
type = Helper
trigger1 = time = 9
postype = p2
helpertype = normal
name = "Quick Strike Hit"
ID = 1220
pos = 0,0
stateno = 20240
ownpal = 1
removetime = 30
bindtime = 1
ontop = 0

[State 20230, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
;PART 2
[Statedef 20240]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1221
velset = 0,0
sprpriority = 200

[State 20240, Explod]
type = Explod
trigger1 = time = 1
anim = 1221
ID = 1221
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = 141
scale = 1,1
sprpriority = 5
ontop = 0
shadow = 5,5,5

[State 20240, ]
type = Nothitby
trigger1 = stateno =  20240
value = SCA,NA,SA,HA,NT,ST,HT

[State 20240, HitBy]
type = HitBy
trigger1 = stateno =  20240
value = SCA,NP,SP,HP
time = 1

[State 20240, ]
type = HitDef
trigger1 = time = 1
attr = S,SP
hitflag = MAFD
guardflag = MA
animtype = Hard
priority = 5,Hit
offset = 0,-180
damage = 50
pausetime = 2,2
guard.pausetime = 4,3
sparkno = S360102
guard.sparkno = 40
sparkxy = 10,-70
hitsound = s3000,12
guardsound = s5,0
ground.type = High
air.type = Trip
ground.slidetime = 20
ground.hittime = 30
ground.velocity = -6
guard.velocity = -3
air.velocity = -0,0
air.fall = 1
fall = 1

[State 20240, ]
type = DestroySelf
trigger1 = frontedgedist <= -50

[State 20240, ]
type = ChangeState
trigger1 = movehit = 1
trigger2 = movecontact = 1
trigger3 = pos y >= 30
value = 20250
;------------------------------------------------------------
[Statedef 20250]
type = S
movetype = I
physics = S
ctrl = 0
;anim = 1221
velset = 0,0
sprpriority = 5

[State 0, ]
type = DestroySelf
trigger1 = time = 1
;---------------------------------------------------------
; Inner Light
[Statedef 30100 il]
type = S
physics = S
movetype = A
anim = 1510
poweradd = -1000
velset = 0, 0
ctrl = 0
juggle = 0
;----------------------------[FX]
[state 30100,pause]
type = SuperPause
trigger1 = time = 1
time = 32
movetime = 32
anim = -1

[State 30100, 1]
type = Explod
trigger1 = animelem = 1
anim = 6000
sprpriority = -1
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 30100, 1]
type = Explod
trigger1 = animelem = 1
anim = 6001
sprpriority = 3
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 30100, 3]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

[State 30100, 4]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29;29
value = 0,0,0
under = 2
;--------------------------[Sounds]
[State 30100, 5]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

[State 30100, 6]
type = PlaySnd
trigger1 = Time = 20
value = 3000,2

[State 30100, PlaySnd]
type = PlaySnd
trigger1 = time = 3
value = 4000,2
volume = 0
channel = -1

[State 30100, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 2,4
volume = 0
channel = -1

[State 30100, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = 3,4
volume = 0
channel = -1
;-----------------------------[EX]
[State 30100, Super A2] ; Dust
type = Explod
trigger1 = animelem = 6
ID = 7220
anim = 7220
postype = p1
pos = 0,20
bindtime = 1
removetime = 80
sprpriority = 1
ontop = 1
ownpal = 1

[State 30100, Super bf1] ; Butterflies
type = Explod
trigger1 = time >= 4
anim = 13334
pos = 0,20
random = 230,70
sprpriority = 6
ontop = 1
accel = 0,-0.1
removetime = 50
ignorehitpause = 1
supermove = 1
velocity = 0,-1

[state 30100, 2]; Inner Light
type = explod
trigger1 = time = 10
anim = 3601
postype = p1
scale = 4,3
pos = 8,-60
sprpriority = 5
removeongethit = 1
removetime = 164
bindtime = 110
supermove = 1
ontop = 0
ownpal = 1

[state 30100, 3]; Inner Light end
type = explod
trigger1 = time = 134
anim = 3602
postype = p1
scale = 4,3
pos = 8,-60
sprpriority = 5
removeongethit = 0
removetime = 44
bindtime = 44
supermove = 1
ontop = 0
ownpal = 1

;-----------------------------[ hit]
[State 30100, 3a]
type = hitdef
trigger1 = time >= 1 && Timemod = 7, 6
attr = S, SA
hitflag = MAFD
guardflag = M
animtype = hard
air.animtype = hard
fall.animtype = hard
priority = 99
damage = 10
pausetime = 3, 6
guard.pausetime = 9, 2
sparkno = 2
guard.sparkno = 40
sparkxy = 0, -75
hitsound = S4443,10
guardsound = 0,0
ground.type = high
air.type = low
fall = 0
fall.recover = 0
ground.slidetime = 15
guard.slidetime = 15
ground.hittime = 20
guard.hittime = 24
air.hittime = 18
ground.velocity = -6, -3
guard.velocity = -2
air.velocity = -4, -2
airguard.velocity = -2, -1
numhits = 1
getpower = 0


[state 30100,shake]
type = EnvShake
trigger1 = time = 3
time = 100
freq = 60
ampl = -4
phase = 90
ignorehitpause = 1

[state 30100, 5]
type = changestate
trigger1 = time = 150
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Butterfly Breaker
[Statedef 300000, bfb]
type = S
movetype = A
physics = N
anim = 8010
poweradd = 0
velset = 10, 0
sprpriority = 0
ctrl = 0

[State 1500, power]
type = poweradd
trigger1 = animelem = 1
value = -2000

[state 30100,pause]
type = SuperPause
trigger1 = animelem = 1
time = 40
movetime = 1
anim = -1

[State 30100, 1]
type = Explod
trigger1 = animelem = 1
anim = 6010
sprpriority = -1
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 30100, 1]
type = Explod
trigger1 = animelem = 1
anim = 6011
sprpriority = 3
postype = p1
pos = 8,-73
bindtime = 1
supermove = 1
under = 0
ownpal = 1

[State 30100, 5]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0



[State 300000, PlaySndb]
type = PlaySnd
trigger1 = time = 20
value = 4443,9
volume = 0
channel = -1

[State 300000, Super A1 "Blue Dust F" ]
type = Explod
trigger1 = animelem = 2
ID = 9076
anim = 1002
postype = p1
facing = 1
pos = 0,0
bindtime = 1
removetime = 52
Scale = 2,1
ignorehitpause = 1
sprpriority = 1
supermove = 1
ontop = 1
shadow = 5,5,5
ownpal = 0

[State 300000, 14 a] ; Butterflies up
type = Explod
trigger1 = time >= 4 && Timemod = 3, 2
anim = 13334
pos = 10,-20
random = 100,70
sprpriority = 10
ownpal = 1
accel = 0,-0.1
bindtime = 1
ignorehitpause = 1
supermove = 1
velocity = 0,-1

[State 300000, 15]
type = Explod
trigger1 = time >= 4 && Timemod = 3, 2
postype = p1
pos = 40, -60
random = 0,0
anim = 13333
ignorehitpause = 1
bindtime = 1
ownpal = 1
ontop = 1
removeongethit = 1
id = 13333
pausemovetime = 80
supermovetime = 80

[State 300000, PlaySndc]
type = PlaySnd
trigger1 = time = 3
value = 5,10
volume = 0
channel = -1

[State 300000, 2]
type = VarSet
trigger1 = PrevStateNo != 9000
trigger1 = time = 0
v = 1
value = 0

[State 300000, 2a]
type = VarSet
trigger1 = PrevStateNo != 9000
trigger1 = time = 0
v = 17
value = 0

[State 300000, 2b]
type = VelSet
trigger1 = 1
x = 10

[State 300000, 3]
type = VarAdd
trigger1 = 1
v = 0
value = 1

[State 300000, 4]
type = PlaySnd
trigger1 = PrevStateNo != 9000
trigger1 = time = 0
value = 3, 2

[State 300000, 5]
type = PlaySnd
trigger1 = PrevStateNo != 9000
trigger1 = time = 0
value = 4000, 1
channel = 2

[State 300000, 6]
type = EnvShake
trigger1 = (var(0) % 10) = 1
time = 10
freq = 150
ampl = -6



[State 300000, 7d]
type = EnvColor
trigger1 = time = 1
persistent = 0
ignorehitpause = 1
time = 3
value = 255,255,255
under = 2

[State 300000, 8]
type = EnvColor
trigger1 = time = 4
persistent = 0
ignorehitpause = 1
time = 29;29
value = 0,0,0
under = 2

[State 300000, 20]
type = AfterImage
trigger1 = AnimElem = 2
trans = add1
time = 80
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1

[State 300000, 8a]
type = PlaySnd
trigger1 = Time = 1
value = 3000,0

[State 300000, 8b]
type = PlaySnd
trigger1 = Time = 20
value = 3000,2

[State 300000, 8c]
type = HitDef
triggerall = EnemyNear, Anim != [5070,5071]
triggerall = EnemyNear, GetHitVar(ChainID) != 889
trigger1 = (var(1) = 0) && (var(17) = 0)
attr = S, HA
hitflag = MAFDP
guardflag = M
priority = 6, Hit
pausetime = 6, 6
damage = 30, 2
animtype = hard
sparkno = 3
guard.sparkno = 40
sparkxy = -10, -68
hitsound = S2,2
guardsound = S5, 0
ground.type = low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -12
air.hittime = 15
air.velocity = -5, -1
guard.slidetime = 16
guard.hittime = 16
guard.velocity = -9
givepower = 20
getpower = 0

[State 300000, 9]
type = HitDef
triggerall = EnemyNear, Anim != [5070,5071]
triggerall = EnemyNear, GetHitVar(ChainID) != 889
triggerall = var(0) > 6
trigger1 = (var(1) > 0) || (var(17) > 0)
attr = S, HA
hitflag = MAFDP
guardflag = M
priority = 4, Hit
pausetime = 6, 0
damage = 35, 2
sparkno = 3
guard.sparkno = 40
sparkxy = -10, -68
hitsound = S2,2
guardsound = S5, 0
ground.type = low
ground.slidetime = 15
ground.hittime = 15
ground.velocity = -10
air.hittime = 15
air.velocity = -5, -2
guard.slidetime = 16
guard.hittime = 16
guard.velocity = -11
givepower = 20
getpower = 0

[State 300000, 10]
type = EnvColor
triggerall = !WinKO
trigger1 = MoveHit
value = 255, 255, 255
time = 3
ignorehitpause = 1

[State 300000, 11]
type = VarAdd
trigger1 = MoveHit
v = 1
value = 1
ignorehitpause = 1

[State 300000, 12]
type = VarAdd
trigger1 = MoveGuarded
v = 17
value = 1
ignorehitpause = 1

[State 300000, 12a]
type = VarSet
trigger1 = MoveContact
v = 0
value = 0
ignorehitpause = 1

[State 300000, 12b]
type = VarSet
trigger1 = MoveContact
v = 14
value = 0
ignorehitpause = 1

[State 300000, 12c]
type = AttackMulSet
trigger1 = MoveContact
value = 1
ignorehitpause = 1

[State 300000, Reset]
type = VarSet
triggerall = var(9)
trigger1 = MoveHit
fv = 1
value = 0
ignorehitpause = 1

[State 300000, Reset]
type = VarSet
triggerall = var(9)
trigger1 = MoveHit
fv = 2
value = 0
ignorehitpause = 1

[State 300000, Reset]
type = VarSet
triggerall = var(9)
trigger1 = MoveHit
v = 9
value = 0
ignorehitpause = 1

[State 300000, 13]
type = MoveHitReset
trigger1 = MoveContact
ignorehitpause = 1

;[State 300000, 14]
;type = ChangeState
;trigger1 = var(0) >= 30
;trigger2 = var(1) = 6
;trigger3 = var(17) = 2
;value = 0
;ctrl = 1

[State 3030]
type = TargetLifeAdd
trigger1 = (var(1) > 0) || (var(17) > 0)
value = -5

[State 300000, 19]
type = ChangeState
trigger1 = AnimTime = 0
value = 300001
ctrl = 0

;-------------------------------------------------------------------------------
[Statedef 300001, land]
type    = S
physics = S
ctrl = 0
anim = 47

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S7,0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;--------------------------------[ Sky Strike]-------------------------------
[Statedef 30230 ssa]
type = S
movetype = A
physics = S
anim = 1224;------------------------ Start
poweradd = 500
velset = 0
ctrl = 0

[State 30230, 0]
type = VelSet
trigger1 = animelem = 7
x = 30
;--------------------------[ Sound ]--------------
[State 30230, a]; Ports
type = PlaySnd
trigger1 = animelem = 1
trigger2 = time = 65
trigger3 = time = 105
trigger4 = animelem = 8
value = 12,1

[State 30230, c]; "Die"
type = PlaySnd
trigger1 = time = 1
value = 11,3

[State 30230, c]; Baka
type = PlaySnd
trigger1 = movehit = 1
value = 12,2
;---------------------------[Diana]---------
[State 30230, Sky Strike Hit]
type = Helper
trigger1 = time = 24
postype = p2
helpertype = normal
name = "Sky Strike Hit"
ID = 1224
pos = 0,-35
stateno = 30240
ownpal = 1
removetime = 201
bindtime = 10
ontop = 0

[State 30230, 20]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1
;-------------------------------------------------------------------------
;PART 2
[Statedef 30240]
type = S
movetype = A
physics = S
ctrl = 0
anim = 1222
velset = 0,0
sprpriority = 5

[State 30240, ]
type = Nothitby
trigger1 = stateno =  30240
value = SCA,NA,SA,HA,NT,ST,HT

[State 30240, HitBy]
type = HitBy
trigger1 = stateno =  30240
value = SCA,NP,SP,HP
time = 1

[State 30240, Explod]
type = Explod
trigger1 = animelem = 6
anim = 1225
ID = 1222
pos = 0,0
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 18
removetime = 18
sprpriority = 6
ontop = 1
shadow = 0,0,0
ownpal = 0
removeongethit = 1

[State 30240, ]
type = HitDef
trigger1 = time = 1
attr = S,SP
hitflag = MAFD
guardflag = MA
animtype = Hard
priority = 5,Hit
offset = 0,-180
damage = 100
pausetime = 2,2
guard.pausetime = 4,3
sparkno = S360102
guard.sparkno = 40
sparkxy = 10,-70
hitsound = s3000,40
guardsound = s5,0
ground.type = High
air.type = Trip
ground.slidetime = 20
ground.hittime = 30
ground.velocity = -6
guard.velocity = -3
air.velocity = -0,0
air.fall = 1
fall = 1

[State 30240, ]
type = DestroySelf
trigger1 = frontedgedist <= -50

[State 30240, ]
type = ChangeState
trigger1 = movehit = 1
trigger2 = movecontact = 1
trigger3 = pos y >= 30
value = 30250
;--------------[End Move]---------------------
[Statedef 30250]
type = S
movetype = I
physics = S
ctrl = 0
;anim = 1222
velset = 0,0
sprpriority = 5

[State 30250, 1]
type = DestroySelf
trigger1 = animtime = 0

;==========================================================================
;    King Of Figthers 2002 Unlimited Match HSDM Fondo y Broken Glass
;==========================================================================
;--------------------------------------HSDM 2002 UM------------------------
;---------------------------------------------------------------------------
[Statedef 40001]
anim = 9999

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noBG
flag2 = noFG

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15600)
trigger1 = !time
anim = 15600
ID = 15600
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 10
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1
persistent = 0

[State 40001, Tile #1-7]
type = Explod
triggerall = !numexplod(15601) < 2
trigger1 = !time
trigger2 = (time%10) = 0
anim = 15600
ID = 15601
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15610)
trigger1 = !time
anim = 15601
ID = 15610
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 20
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #2-6]
type = Explod
triggerall = !numexplod(15611) < 2
trigger1 = !time
trigger2 = (time%20) = 0
anim = 15601
ID = 15611
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15620)
trigger1 = !time
anim = 15602
ID = 15620
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 40
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #3-5]
type = Explod
triggerall = !numexplod(15621) < 2
trigger1 = !time
trigger2 = (time%40) = 0
anim = 15602
ID = 15621
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

[State 40001, Tile #4]
type = Explod
triggerall = !numexplod(15630)
trigger1 = !time
anim = 15603
ID = 15630
pos = 0,0
postype = left  ;p2,front,back,left,right
removetime = 80
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
persistent = 0
bindtime = -1

[State 40001, Tile #4]
type = Explod
triggerall = !numexplod(15631) < 2
trigger1 = !time
trigger2 = (time%80) = 0
anim = 15603
ID = 15631
pos = 320,0
postype = left  ;p2,front,back,left,right
removetime = 160
pausemovetime = -1
supermovetime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1
bindtime = -1

;----------Aqui cambias a broken glass tiempo-------------

[State 40001, Glass Break]
type = ChangeState
trigger1 = parent, stateno != [1500,99999] ;---> Aca Pones La Animacion Del Principio y La Del Final Osea La Que Empiesa Y La Que TErmina El HSDM
trigger2 = Parent,Stateno = 2150 && Parent,Time >= 200 ;---> Aca La Primera Animacion Y El Tiempo De Ella (Esta Seria Lo Que Demorara El Fondo Verde EN La Pantalla
trigger3 = Parent,Stateno = 2150 && Parent,Time >= 171 ;---> Aca a ANimacion Donde Cambiara A Broken Glass, Recuerda Que El Broken Glass Es En El Ultimo Hit Por Eso Trata De Ser PAciente Y REgularle El Tiempo Hasta Que Quede
value = stateno+1

;----------Aqui regulas el tiempo-------------

[Statedef 40002]
anim = 9999

[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15600
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15601
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15610
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15611
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15620
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15621
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15630
[State 40002, RemoveExplod]
type = RemoveExplod
trigger1 = !time
id = 15631

[State 40002, PlaySnd]
type = PlaySnd
trigger1 = !time
value = S20,4

[State 40001, Glass Break]
type = Explod
triggerall = !numexplod(15605)
trigger1 = !time
anim = 15605
ID = 15605
pos = 0,0
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
scale = 1,1
sprpriority = -20
ownpal = 1
bindtime = -1
ignorehitpause = 1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1

[Statedef 40003]
anim = 9999

[State 40003, VarSet]
type = VarSet
triggerall = enemy, numhelper(40003)
triggerall = !enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "David Demianoff"
trigger6 = enemy, authorname = "Dark Saviour"
trigger7 = enemy, authorname = "Kung Fu Man"
trigger8 = enemy, authorname = "KoopaKoot"
trigger9 = enemy, authorname = "Anjel"
trigger10 = enemy, authorname = "David Demianoff & Kung Fu Man"
trigger11 = enemy, authorname = "jin"
trigger12 = enemy, authorname = "GoD_Ryu"
trigger13 = enemy, authorname = "David Demianoff & GoD_Ryu"
trigger14 = enemy, authorname = "Le@n"
trigger15 = enemy, authorname = "J.Lee & GoD_Ryu"
trigger16 = enemy, authorname = "ahuron"
trigger17 = enemy, authorname = "Raposo"
trigger18 = enemy, authorname = "Don Drago"
trigger19 = enemy, authorname = "Fervicante"
var(0) = 1

[State 40003, VarSet]
type = VarSet
triggerall = teamside = 2
triggerall = enemy, numhelper(40004)
trigger1 = enemy, authorname = "Vans"
trigger2 = enemy, authorname = "K.O.D"
trigger3 = enemy, authorname = "K.O.D & Vans"
trigger4 = enemy, authorname = "OrochiKOF97"
trigger5 = enemy, authorname = "David Demianoff"
trigger6 = enemy, authorname = "Dark Saviour"
trigger7 = enemy, authorname = "Kung Fu Man"
trigger8 = enemy, authorname = "KoopaKoot"
trigger9 = enemy, authorname = "Anjel"
trigger10 = enemy, authorname = "David Demianoff & Kung Fu Man"
trigger11 = enemy, authorname = "jin"
trigger12 = enemy, authorname = "GoD_Ryu"
trigger13 = enemy, authorname = "David Demianoff & GoD_Ryu"
trigger14 = enemy, authorname = "Le@n"
trigger15 = enemy, authorname = "J.Lee & GoD_Ryu"
trigger16 = enemy, authorname = "ahuron"
trigger17 = enemy, authorname = "Raposo"
trigger18 = enemy, authorname = "Don Drago"
trigger19 = enemy, authorname = "Fervicante"
var(0) = 1

[State 40001, P1 BG]
type = Explod
triggerall = !numexplod(15650)
triggerall = teamside = 1
trigger1 = !time
anim = 15005
ID = 15650
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P2 BG]
type = Explod
triggerall = !numexplod(15651)
triggerall = teamside = 2
trigger1 = !time
anim = 15610
ID = 15651
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -20
ownpal = 1
ignorehitpause = 1

[State 40001, P1 PORTRAIT]
type = Explod
triggerall = !numexplod(15660)
triggerall = teamside = 1
trigger1 = !time
anim = 15615
ID = 15660
pos = 0,abs((240*var(0))-81)
postype = left  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40001, P2 PORTRAIT]
type = Explod
triggerall = !numexplod(15661)
triggerall = teamside = 2
trigger1 = !time
anim = 15615
ID = 15661
pos = 0,abs((240*var(0))-81)
postype = right  ;p2,front,back,left,right
pausemovetime = -1
supermovetime = -1
removetime = -2
bindtime = -1
scale = 1,1
facing = -1
sprpriority = -19
ownpal = 1
ignorehitpause = 1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15650
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15650
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15650
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15650
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15650
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15651
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15651
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15651
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15651
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15651
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15660
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15660
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15660
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15660
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15660
scale = 1,1

[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 2
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 4
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 6
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 8
ID = 15661
scale = 1,1
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 56
ID = 15661
scale = 1,0.77
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 57
ID = 15661
scale = 1,0.54
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 58
ID = 15661
scale = 1,0.3
[State 40003, ModifyExplod]
type = ModifyExplod
trigger1 = time = 59
ID = 15661
scale = 1,1

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 60

[Statedef 40004]
anim = 9999

[State 40001, DestroySelf]
type = DestroySelf
trigger1 = time = 1

;--------------------------------[Sky Strike in air]--------------------------
 [Statedef 40230 asa]
type = A
movetype = A
physics = N
anim = 10070
juggle = 1
velset = 0,0
ctrl = 0

[State 40230, 0]
type = VelSet
trigger1 = animelem = 7
x = 8

;------[ Sound ]--------------
[State 40230, a]; Ports
type = PlaySnd
trigger1 = animelem = 1
trigger2 = time = 65
trigger3 = time = 105
trigger4 = animelem = 8
value = 12,1

[State 40230, c]; "Die"
type = PlaySnd
trigger1 = time = 1
value = 11,3

[State 40230, c]; Baka
type = PlaySnd
trigger1 = movehit = 1
value = 12,2
;-------[Diana]---------
[State 40230, Sky Strike Hit]
type = Helper
trigger1 = time = 14
postype = p2
helpertype = normal
name = "JSH 2"
ID = 10070
pos = 0,-10
stateno = 40240
ownpal = 1
removetime = 200
bindtime = 10
ontop = 1

[State 40230, 20]
type = ChangeState
trigger1 = time = 99
value = 1331
ctrl = 1
;-------------------------[Diana helper]-------------------------------
[Statedef 40240]
type = S
movetype = A
physics = S
ctrl = 0
anim = 10071
velset = 0,0
sprpriority = 5

[State 3000, Turn]
type = Turn
trigger1 = time =1
ignorehitpause = 1
persistent = 1

[State 40240, ]
type = Nothitby
trigger1 = stateno =  40240
value = SCA,NA,SA,HA,NT,ST,HT

[State 40240, HitBy]
type = HitBy
trigger1 = stateno =  40240
value = SCA,NP,SP,HP
time = 1

;-------------------------[Sound]

[State 40240, s1];Swish
type = PlaySnd
trigger1 = time = 2
value = 5,2

;-------------------------[FX]
[State 40240, fx0];Port
type = Explod
trigger1 = time = 1
trigger2 = time = 28
anim = 13340
postype = p1
pos = -11,-62
removetime = 14
bindtime = 14
sprpriority = 5

[State 40240, fx1];sword FX
type = Explod
trigger1 = time = 4
anim = 10072
postype = p1
pos = 0,0
removetime = 24
bindtime = 24
sprpriority = 5

[State 40240, fx2];Star shimmer
type = Explod
trigger1 = time = 6
anim = 134
postype = p1
pos = -1,-40
removetime = 16
bindtime = 16
sprpriority = 5
;---------------------------------------
[State 40240, ]
type = HitDef
trigger1 = time = 1
attr = S,SP
hitflag = MAFD
guardflag = MA
animtype = Hard
priority = 5,Hit
offset = 0,0
damage = 50
pausetime = 2,2
guard.pausetime = 4,3
sparkno = S360102
guard.sparkno = 40
sparkxy = 10,-70
hitsound = s3000,40
guardsound = s40240,0
ground.type = High
air.type = Trip
ground.slidetime = 5
ground.hittime = 5
ground.velocity = 0
guard.velocity = 0
air.velocity = -0,0
air.fall = 1
fall = 1

[State 40240, ]
type = ChangeState
trigger1 = movehit = 1
trigger2 = movecontact = 1
trigger3 = pos y >= 30
value = 40250
;-----------[Helper]-----------------------
[Statedef 40250]
type = S
movetype = A
physics = S
ctrl = 0
;anim = 10071
velset = 0,0
sprpriority = 5

[State 40250, ]
type = ChangeState
trigger1 = movehit = 1
trigger2 = movecontact = 1
trigger3 = pos y >= 30
value = 40250

[State 40250, ]
type = Nothitby
trigger1 = stateno =  40240
value = SCA,NA,SA,HA,NT,ST,HT

[State 0, ]
type = DestroySelf
trigger1 = animtime = 0

;-----------------------[While Flying]----------------------------
[State 11331, 3]
type = CtrlSet
trigger1 = AnimElem = 8
trigger1 = var(3) = 1
value = 1

[state 1331, and away]
type = velset
trigger1 = numhelper(8000) = 1
y = 0
x = 0

[state 1331, and away]
type = changestate
trigger1 = time = 13
trigger1 = numhelper(8000) = 1
value = 8001
ctrl = 1

[State 1331, 4]
type = CtrlSet
trigger1 = var(3) = 1
value = 1
;----------------------------------------------------------------------------------------- -----------------

; Win 11 - Call from Kula
[Statedef 181100]
type = S
movetype = I
physics = S
ctrl = 0
anim = 1009
velset = 0,0

[State 181100]
type = ChangeState
triggerall = time = 1
trigger1 = p2name = "Kura" || p4name = "Kura" || p3name = "Kura"
trigger2 = p2name = "Kula Diamond" || p4name = "Kula Diamond" || p3name = "Kula Diamond"
trigger3 = p2name = "Kula" || p3name = "Kula" || p4name = "Kula"
trigger4 = p2name = "EvilKula" || p3name = "EvilKula" || p4name = "EvilKula"
trigger5 = P2Name = "kula & eddie" || P3Name = "kula & eddie" || P4Name = "kula & eddie"
trigger6 = p2name = "Kula akof" || p3name = "Kula akof" || p4name = "Kula akof"
trigger7 = p2name = "CCI Kula" || p3name = "CCI Kula" || p4name = "CCI Kula"
trigger8 = p2name = "Kula_Choi" || p3name = "Kula_Choi" || p4name = "Kula_Choi"
trigger9 = p2name = "Coola" || p3name = "Coola" || p4name = "Coola"
trigger10 = p2name = "KulaXI" || p3name = "KulaXI" || p4name = "KulaXI"
trigger11 = p2name = "Kula_Kofe" || p3name = "Kula_Kofe" || p4name = "Kula_Kofe"
trigger12 = p2name = "Kula_choi" || p3name = "Kula_choi" || p4name = "Kula_choi"
trigger13 = p2name = "Foxy" || p3name = "Foxy" || p4name = "Foxy"
trigger14 = p2name = "Whip" || p3name = "Whip" || p4name = "Whip"
value = 18100

[State 181100, Explod f]; Kula Bubble
type = Explod
trigger1 = AnimElem = 18
ID = 10060
anim = 10060
postype = p1
pos = -10,-115
bindtime = -1
removetime = -1
ontop = 0

[State 181100, 1a PlaySnd];Cell Phone
type = PlaySnd
trigger1 = Time = 20
trigger2 = Time = 30
trigger3 = Time = 80
trigger4 = Time = 90
trigger5 = Time = 140
trigger6 = Time = 150
value = 1,6

[State 181100, 1a PlaySnd];Hello?
type = PlaySnd
trigger1 = AnimElem = 17
value = 1,2

[State 181100, 1b PlaySnd]; I'm Glad
type = PlaySnd
trigger1 = time = 270
value = 1,7

[State 181100, 1c PlaySnd];Can I have some $
type = PlaySnd
trigger1 = time = 330
value = 1,8

[State 181100, 1d PlaySnd];Later later ok?
type = PlaySnd
trigger1 = time = 390
value = 49,6

[State 181100, 2a]
type = ScreenBound
trigger1 = 1
movecamera = 10,0

[State 181100, 1]; Exit to Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 181100, 2]
type = AssertSpecial
trigger1 = Time = [0,450]
flag = RoundNotOver

;----------------------------------------------------------------------------------------- -----------------

; Win 12 - spin
[Statedef 181110]
type = S
movetype = I
physics = S
ctrl = 0
anim = 6670
velset = 0,0

[State 181110]
type = ChangeState
triggerall = time = 1
trigger1 = p2name = "Kura" || p4name = "Kura" || p3name = "Kura"
trigger2 = p2name = "Kula Diamond" || p4name = "Kula Diamond" || p3name = "Kula Diamond"
trigger3 = p2name = "Kula" || p3name = "Kula" || p4name = "Kula"
trigger4 = p2name = "EvilKula" || p3name = "EvilKula" || p4name = "EvilKula"
trigger5 = P2Name = "kula & eddie" || P3Name = "kula & eddie" || P4Name = "kula & eddie"
trigger6 = p2name = "Kula akof" || p3name = "Kula akof" || p4name = "Kula akof"
trigger7 = p2name = "CCI Kula" || p3name = "CCI Kula" || p4name = "CCI Kula"
trigger8 = p2name = "Kula_Choi" || p3name = "Kula_Choi" || p4name = "Kula_Choi"
trigger9 = p2name = "Coola" || p3name = "Coola" || p4name = "Coola"
trigger10 = p2name = "KulaXI" || p3name = "KulaXI" || p4name = "KulaXI"
trigger11 = p2name = "Kula_Kofe" || p3name = "Kula_Kofe" || p4name = "Kula_Kofe"
trigger12 = p2name = "Kula_choi" || p3name = "Kula_choi" || p4name = "Kula_choi"
trigger13 = p2name = "Foxy" || p3name = "Foxy" || p4name = "Foxy"
value = 18100

;----------------------------[sound]

[state 181110 s1]
type = playsnd
trigger1 = Time = 36
trigger2 = Time = 37
trigger3 = Time = 38
trigger4 = Time = 39
trigger5 = Time = 40
trigger6 = Time = 41
trigger7 = Time = 42
trigger8 = Time = 43
trigger9 = Time = 44
trigger10 = Time = 45
value = 124,1

;----------------------------[FX]

[State 181110, fx1];butterflies
type = Explod
trigger1 = Time = 36
trigger2 = Time = 37
trigger3 = Time = 38
trigger4 = Time = 39
trigger5 = Time = 40
trigger6 = Time = 41
trigger7 = Time = 42
trigger8 = Time = 43
trigger9 = Time = 44
trigger10 = Time = 45
trigger11 = Time = 46
trigger12 = Time = 47
trigger13 = Time = 48
trigger14 = Time = 49
trigger15 = Time = 50
anim = 13334
id = 6670
pos = 18,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = -0.2,-0.4
accel = -0,0
random = 100,60
removetime = 300
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 181110, fx1];butterflies
type = Explod
trigger1 = Time = 36
trigger2 = Time = 37
trigger3 = Time = 38
trigger4 = Time = 39
trigger5 = Time = 40
trigger6 = Time = 41
trigger7 = Time = 42
trigger8 = Time = 43
trigger9 = Time = 44
trigger10 = Time = 45
trigger11 = Time = 46
trigger12 = Time = 47
trigger13 = Time = 48
trigger14 = Time = 49
trigger15 = Time = 50
anim = 13334
id = 6670
pos = 18,-30
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
vel = 0.2,-0.4
accel = -0,0
random = 100,60
removetime = 300
scale = 1,1
sprpriority = 5
ontop = 0
ownpal = 0
ignorehitpause = 1

[State 181110, 1]; Exit to Win Screen
type = Helper
trigger1 = !NumHelper(1800)
trigger1 = MatchOver
stateno = 1800
postype = p1
pos = 0,0
name = "Win Screen"
id = 1800

[State 181110, 2]
type = AssertSpecial
trigger1 = Time = [0,250]
flag = RoundNotOver


;-----------------------------------[AI]----------------------------------
[statedef -2]

[State -2, AIhelper]
type=changestate
trigger1= ishelper(9741)
value=9741

[State -2, VarSet]
type = VarSet
trigger1 = p2name = "Kura" || p4name = "Kura" || p3name = "Kura"
trigger2 = p2name = "Kula Diamond" || p4name = "Kula Diamond" || p3name = "Kula Diamond"
trigger3 = p2name = "Kula" || p3name = "Kula" || p4name = "Kula"
trigger4 = p2name = "EvilKula" || p3name = "EvilKula" || p4name = "EvilKula"
trigger5 = P2Name = "kula & eddie" || P3Name = "kula & eddie" || P4Name = "kula & eddie"
trigger6 = p2name = "Kula akof" || p3name = "Kula akof" || p4name = "Kula akof"
trigger7 = p2name = "CCI Kula" || p3name = "CCI Kula" || p4name = "CCI Kula"
trigger8 = p2name = "Kula_Choi" || p3name = "Kula_Choi" || p4name = "Kula_Choi"
trigger9 = p2name = "Coola" || p3name = "Coola" || p4name = "Coola"
trigger10 = p2name = "KulaXI" || p3name = "KulaXI" || p4name = "KulaXI"
trigger11 = p2name = "Kula_Kofe" || p3name = "Kula_Kofe" || p4name = "Kula_Kofe"
trigger12 = p2name = "Kula_choi" || p3name = "Kula_choi" || p4name = "Kula_choi"
v = 47
value = 1

[State 0, VarSet]
type = VarSet
trigger1 = p2name = "Candy" || p2name = "Candy2" || p2name = "Human Candy" || p2name = "Alpha Candy"
trigger2 = p3name = "Candy" || p3name = "Candy2" || p3name = "Human Candy" || p3name = "Alpha Candy"
trigger3 = p4name = "Candy" || p4name = "Candy2" || p4name = "Human Candy" || p4name = "Alpha Candy"
v = 47
value = 2

[State 0, VarSet]
type = VarSet
trigger1 = p2name = "Foxy" || p2name = "D Foxy" || p2name = "Foxy Lives"
trigger2 = p3name = "Foxy" || p3name = "D Foxy" || p3name = "Foxy Lives"
trigger3 = p4name = "Foxy" || p4name = "D Foxy" || p4name = "Foxy Lives"
v = 47
value = 3

[state -2,butterfly L1]
type = helper
trigger1 = Time = 0 && power >= 1000
trigger1 = NumHelper(36100) = 0
ID = 36100
pos = -45,-50
postype = p1
stateno = 36100
helpertype = normal
name = "Butterfly buddy"
ownpal = 1

[state -2,butterfly L2]
type = helper
trigger1 = Time = 0 && power >= 2000
trigger1 = NumHelper(36105) = 0
ID = 36105
pos = 19,-50
postype = p1
stateno = 36105
helpertype = normal
name = "Butterfly buddy"
ownpal = 1

[state -2,butterfly L3]
type = helper
trigger1 = Time = 0 && power = 3000
trigger1 = NumHelper(36110) = 0
ID = 36110
pos = -30,-30
postype = p1
stateno = 36110
helpertype = normal
name = "Butterfly buddy"
ownpal = 1

[State -2, DisplayToClipboard]
type = DisplayToClipboard
trigger1 =1
text = "dist x = %f var = %f %d"
params = abs(EnemyNear,Pos X-Pos X), EnemyNear,Pos y-Pos y, FrontEdgeBodyDist
ignorehitpause =1
persistent =1

[State -2, AI Power Check]
type = VarSet
trigger1 = Time%31=0
v = 17
value = EnemyNear,Power

[State -2, AI Power Check]
type = VarAdd
trigger1 = (Var(17)-EnemyNear,Power) >= 1000
trigger2 = Var(16)
v = 16
value = 1

[State -2, AI Power Check]
type = VarSet
triggerall = Var(16)
trigger1 = StateNo = 30230 || StateNo = 40230
trigger2 = Var(16) >= 20
v = 16
value = 0

[statedef -3]

[State -3, Gametime Var]
type=varset
trigger1= 1
var(58)=gametime
ignorehitpause=1

[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = stateno!=1900
time = 1
ignorehitpause =1


[State -3, PowerAdd]
type = PowerAdd
triggerall = anim =[0,5300]
trigger1 =time=0
value = 0250
ignorehitpause =1
persistent = 1

[State -3, TargetPowerAdd]
type = TargetPowerAdd
triggerall =stateno =[0,5300]
trigger1 =time=0
value = 150
absolute = 1
ignorehitpause =1

